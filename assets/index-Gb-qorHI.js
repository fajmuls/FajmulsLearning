(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}})();function Op(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ku={exports:{}},za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function hy(){if(zm)return za;zm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(s,r,d){var h=null;if(d!==void 0&&(h=""+d),r.key!==void 0&&(h=""+r.key),"key"in r){d={};for(var x in r)x!=="key"&&(d[x]=r[x])}else d=r;return r=d.ref,{$$typeof:i,type:s,key:h,ref:r!==void 0?r:null,props:d}}return za.Fragment=t,za.jsx=l,za.jsxs=l,za}var Bm;function py(){return Bm||(Bm=1,Ku.exports=hy()),Ku.exports}var c=py(),Ju={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function gy(){if(qm)return Ae;qm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function P(A,q,H){this.props=A,this.context=q,this.refs=M,this.updater=H||N}P.prototype.isReactComponent={},P.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function X(){}X.prototype=P.prototype;function j(A,q,H){this.props=A,this.context=q,this.refs=M,this.updater=H||N}var Z=j.prototype=new X;Z.constructor=j,k(Z,P.prototype),Z.isPureReactComponent=!0;var ne=Array.isArray;function se(){}var Y={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function te(A,q,H){var I=H.ref;return{$$typeof:i,type:A,key:q,ref:I!==void 0?I:null,props:H}}function ee(A,q){return te(A.type,q,A.props)}function me(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function Ee(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(H){return q[H]})}var ge=/\/+/g;function we(A,q){return typeof A=="object"&&A!==null&&A.key!=null?Ee(""+A.key):q.toString(36)}function ze(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(se,se):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,q,H,I,B){var J=typeof A;(J==="undefined"||J==="boolean")&&(A=null);var W=!1;if(A===null)W=!0;else switch(J){case"bigint":case"string":case"number":W=!0;break;case"object":switch(A.$$typeof){case i:case t:W=!0;break;case y:return W=A._init,L(W(A._payload),q,H,I,B)}}if(W)return B=B(A),W=I===""?"."+we(A,0):I,ne(B)?(H="",W!=null&&(H=W.replace(ge,"$&/")+"/"),L(B,q,H,"",function(Je){return Je})):B!=null&&(me(B)&&(B=ee(B,H+(B.key==null||A&&A.key===B.key?"":(""+B.key).replace(ge,"$&/")+"/")+W)),q.push(B)),1;W=0;var xe=I===""?".":I+":";if(ne(A))for(var ue=0;ue<A.length;ue++)I=A[ue],J=xe+we(I,ue),W+=L(I,q,H,J,B);else if(ue=_(A),typeof ue=="function")for(A=ue.call(A),ue=0;!(I=A.next()).done;)I=I.value,J=xe+we(I,ue++),W+=L(I,q,H,J,B);else if(J==="object"){if(typeof A.then=="function")return L(ze(A),q,H,I,B);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return W}function $(A,q,H){if(A==null)return A;var I=[],B=0;return L(A,I,"","",function(J){return q.call(H,J,B++)}),I}function re(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(H){(A._status===0||A._status===-1)&&(A._status=1,A._result=H)},function(H){(A._status===0||A._status===-1)&&(A._status=2,A._result=H)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var ye=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ie={map:$,forEach:function(A,q,H){$(A,function(){q.apply(this,arguments)},H)},count:function(A){var q=0;return $(A,function(){q++}),q},toArray:function(A){return $(A,function(q){return q})||[]},only:function(A){if(!me(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Ae.Activity=S,Ae.Children=ie,Ae.Component=P,Ae.Fragment=l,Ae.Profiler=r,Ae.PureComponent=j,Ae.StrictMode=s,Ae.Suspense=v,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Y.H.useMemoCache(A)}},Ae.cache=function(A){return function(){return A.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(A,q,H){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var I=k({},A.props),B=A.key;if(q!=null)for(J in q.key!==void 0&&(B=""+q.key),q)!pe.call(q,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&q.ref===void 0||(I[J]=q[J]);var J=arguments.length-2;if(J===1)I.children=H;else if(1<J){for(var W=Array(J),xe=0;xe<J;xe++)W[xe]=arguments[xe+2];I.children=W}return te(A.type,B,I)},Ae.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},Ae.createElement=function(A,q,H){var I,B={},J=null;if(q!=null)for(I in q.key!==void 0&&(J=""+q.key),q)pe.call(q,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(B[I]=q[I]);var W=arguments.length-2;if(W===1)B.children=H;else if(1<W){for(var xe=Array(W),ue=0;ue<W;ue++)xe[ue]=arguments[ue+2];B.children=xe}if(A&&A.defaultProps)for(I in W=A.defaultProps,W)B[I]===void 0&&(B[I]=W[I]);return te(A,J,B)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(A){return{$$typeof:x,render:A}},Ae.isValidElement=me,Ae.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:re}},Ae.memo=function(A,q){return{$$typeof:g,type:A,compare:q===void 0?null:q}},Ae.startTransition=function(A){var q=Y.T,H={};Y.T=H;try{var I=A(),B=Y.S;B!==null&&B(H,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(se,ye)}catch(J){ye(J)}finally{q!==null&&H.types!==null&&(q.types=H.types),Y.T=q}},Ae.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ae.use=function(A){return Y.H.use(A)},Ae.useActionState=function(A,q,H){return Y.H.useActionState(A,q,H)},Ae.useCallback=function(A,q){return Y.H.useCallback(A,q)},Ae.useContext=function(A){return Y.H.useContext(A)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(A,q){return Y.H.useDeferredValue(A,q)},Ae.useEffect=function(A,q){return Y.H.useEffect(A,q)},Ae.useEffectEvent=function(A){return Y.H.useEffectEvent(A)},Ae.useId=function(){return Y.H.useId()},Ae.useImperativeHandle=function(A,q,H){return Y.H.useImperativeHandle(A,q,H)},Ae.useInsertionEffect=function(A,q){return Y.H.useInsertionEffect(A,q)},Ae.useLayoutEffect=function(A,q){return Y.H.useLayoutEffect(A,q)},Ae.useMemo=function(A,q){return Y.H.useMemo(A,q)},Ae.useOptimistic=function(A,q){return Y.H.useOptimistic(A,q)},Ae.useReducer=function(A,q,H){return Y.H.useReducer(A,q,H)},Ae.useRef=function(A){return Y.H.useRef(A)},Ae.useState=function(A){return Y.H.useState(A)},Ae.useSyncExternalStore=function(A,q,H){return Y.H.useSyncExternalStore(A,q,H)},Ae.useTransition=function(){return Y.H.useTransition()},Ae.version="19.2.3",Ae}var jm;function Rc(){return jm||(jm=1,Ju.exports=gy()),Ju.exports}var O=Rc();const xy=Op(O);var Yu={exports:{}},Ba={},$u={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function vy(){return Vm||(Vm=1,(function(i){function t(L,$){var re=L.length;L.push($);e:for(;0<re;){var ye=re-1>>>1,ie=L[ye];if(0<r(ie,$))L[ye]=$,L[re]=ie,re=ye;else break e}}function l(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var $=L[0],re=L.pop();if(re!==$){L[0]=re;e:for(var ye=0,ie=L.length,A=ie>>>1;ye<A;){var q=2*(ye+1)-1,H=L[q],I=q+1,B=L[I];if(0>r(H,re))I<ie&&0>r(B,H)?(L[ye]=B,L[I]=re,ye=I):(L[ye]=H,L[q]=re,ye=q);else if(I<ie&&0>r(B,re))L[ye]=B,L[I]=re,ye=I;else break e}}return $}function r(L,$){var re=L.sortIndex-$.sortIndex;return re!==0?re:L.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var h=Date,x=h.now();i.unstable_now=function(){return h.now()-x}}var v=[],g=[],y=1,S=null,T=3,_=!1,N=!1,k=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function Z(L){for(var $=l(g);$!==null;){if($.callback===null)s(g);else if($.startTime<=L)s(g),$.sortIndex=$.expirationTime,t(v,$);else break;$=l(g)}}function ne(L){if(k=!1,Z(L),!N)if(l(v)!==null)N=!0,se||(se=!0,Ee());else{var $=l(g);$!==null&&ze(ne,$.startTime-L)}}var se=!1,Y=-1,pe=5,te=-1;function ee(){return M?!0:!(i.unstable_now()-te<pe)}function me(){if(M=!1,se){var L=i.unstable_now();te=L;var $=!0;try{e:{N=!1,k&&(k=!1,X(Y),Y=-1),_=!0;var re=T;try{t:{for(Z(L),S=l(v);S!==null&&!(S.expirationTime>L&&ee());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,T=S.priorityLevel;var ie=ye(S.expirationTime<=L);if(L=i.unstable_now(),typeof ie=="function"){S.callback=ie,Z(L),$=!0;break t}S===l(v)&&s(v),Z(L)}else s(v);S=l(v)}if(S!==null)$=!0;else{var A=l(g);A!==null&&ze(ne,A.startTime-L),$=!1}}break e}finally{S=null,T=re,_=!1}$=void 0}}finally{$?Ee():se=!1}}}var Ee;if(typeof j=="function")Ee=function(){j(me)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,we=ge.port2;ge.port1.onmessage=me,Ee=function(){we.postMessage(null)}}else Ee=function(){P(me,0)};function ze(L,$){Y=P(function(){L(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(L){switch(T){case 1:case 2:case 3:var $=3;break;default:$=T}var re=T;T=$;try{return L()}finally{T=re}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=T;T=L;try{return $()}finally{T=re}},i.unstable_scheduleCallback=function(L,$,re){var ye=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=re+ie,L={id:y++,callback:$,priorityLevel:L,startTime:re,expirationTime:ie,sortIndex:-1},re>ye?(L.sortIndex=re,t(g,L),l(v)===null&&L===l(g)&&(k?(X(Y),Y=-1):k=!0,ze(ne,re-ye))):(L.sortIndex=ie,t(v,L),N||_||(N=!0,se||(se=!0,Ee()))),L},i.unstable_shouldYield=ee,i.unstable_wrapCallback=function(L){var $=T;return function(){var re=T;T=$;try{return L.apply(this,arguments)}finally{T=re}}}})(Xu)),Xu}var Om;function yy(){return Om||(Om=1,$u.exports=vy()),$u.exports}var Qu={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function by(){if(Fm)return Nt;Fm=1;var i=Rc();function t(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(v,g,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:v,containerInfo:g,implementation:y}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nt.createPortal=function(v,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return d(v,g,null,y)},Nt.flushSync=function(v){var g=h.T,y=s.p;try{if(h.T=null,s.p=2,v)return v()}finally{h.T=g,s.p=y,s.d.f()}},Nt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},Nt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Nt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var y=g.as,S=x(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:_}):y==="script"&&s.d.X(v,{crossOrigin:S,integrity:T,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Nt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=x(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},Nt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,S=x(y,g.crossOrigin);s.d.L(v,y,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Nt.preloadModule=function(v,g){if(typeof v=="string")if(g){var y=x(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},Nt.requestFormReset=function(v){s.d.r(v)},Nt.unstable_batchedUpdates=function(v,g){return v(g)},Nt.useFormState=function(v,g,y){return h.H.useFormState(v,g,y)},Nt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nt.version="19.2.3",Nt}var Km;function Sy(){if(Km)return Qu.exports;Km=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Qu.exports=by(),Qu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Ty(){if(Jm)return Ba;Jm=1;var i=yy(),t=Rc(),l=Sy();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var m=a.return;if(m===null)break;var p=m.alternate;if(p===null){if(o=m.return,o!==null){a=o;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===a)return v(m),e;if(p===o)return v(m),n;p=p.sibling}throw Error(s(188))}if(a.return!==o.return)a=m,o=p;else{for(var b=!1,E=m.child;E;){if(E===a){b=!0,a=m,o=p;break}if(E===o){b=!0,o=m,a=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===a){b=!0,a=p,o=m;break}if(E===o){b=!0,o=p,a=m;break}E=E.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case ne:return"Suspense";case se:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case j:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case Z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}var ze=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ye=[],ie=-1;function A(e){return{current:e}}function q(e){0>ie||(e.current=ye[ie],ye[ie]=null,ie--)}function H(e,n){ie++,ye[ie]=e.current,e.current=n}var I=A(null),B=A(null),J=A(null),W=A(null);function xe(e,n){switch(H(J,n),H(B,e),H(I,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?rm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=rm(n),e=um(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(I),H(I,e)}function ue(){q(I),q(B),q(J)}function Je(e){e.memoizedState!==null&&H(W,e);var n=I.current,a=um(n,e.type);n!==a&&(H(B,e),H(I,a))}function Ze(e){B.current===e&&(q(I),q(B)),W.current===e&&(q(W),La._currentValue=re)}var be,pt;function mt(e){if(be===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",pt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+pt}var Qt=!1;function At(e,n){if(!e||Qt)return"";Qt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(z){var G=z}Reflect.construct(e,[],K)}else{try{K.call()}catch(z){G=z}e.call(K.prototype)}}else{try{throw Error()}catch(z){G=z}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(z){if(z&&G&&typeof z.stack=="string")return[z.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var C=b.split(`
`),U=E.split(`
`);for(m=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;if(o===C.length||m===U.length)for(o=C.length-1,m=U.length-1;1<=o&&0<=m&&C[o]!==U[m];)m--;for(;1<=o&&0<=m;o--,m--)if(C[o]!==U[m]){if(o!==1||m!==1)do if(o--,m--,0>m||C[o]!==U[m]){var V=`
`+C[o].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=o&&0<=m);break}}}finally{Qt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mt(a):""}function Ut(e,n){switch(e.tag){case 26:case 27:case 5:return mt(e.type);case 16:return mt("Lazy");case 13:return e.child!==n&&n!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return At(e.type,!1);case 11:return At(e.type.render,!1);case 1:return At(e.type,!0);case 31:return mt("Activity");default:return""}}function Fa(e){try{var n="",a=null;do n+=Ut(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Kl=Object.prototype.hasOwnProperty,Jl=i.unstable_scheduleCallback,Yl=i.unstable_cancelCallback,Ka=i.unstable_shouldYield,Ni=i.unstable_requestPaint,Ct=i.unstable_now,Uo=i.unstable_getCurrentPriorityLevel,Ja=i.unstable_ImmediatePriority,Ya=i.unstable_UserBlockingPriority,Yi=i.unstable_NormalPriority,Lo=i.unstable_LowPriority,$a=i.unstable_IdlePriority,Go=i.log,Xa=i.unstable_setDisableYieldValue,Q=null,de=null;function Ce(e){if(typeof Go=="function"&&Xa(e),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(Q,e)}catch{}}var Te=Math.clz32?Math.clz32:Me,Ie=Math.log,rt=Math.LN2;function Me(e){return e>>>=0,e===0?32:31-(Ie(e)/rt|0)|0}var He=256,Oe=262144,Ye=4194304;function it(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function kt(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var m=0,p=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~p,o!==0?m=it(o):(b&=E,b!==0?m=it(b):a||(a=E&~e,a!==0&&(m=it(a))))):(E=o&~p,E!==0?m=it(E):b!==0?m=it(b):a||(a=o&~e,a!==0&&(m=it(a)))),m===0?0:n!==0&&n!==m&&(n&p)===0&&(p=m&-m,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:m}function wt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function hn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var e=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),e}function Zt(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Lt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $n(e,n,a,o,m,p){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(a=b&~a;0<a;){var V=31-Te(a),K=1<<V;E[V]=0,C[V]=-1;var G=U[V];if(G!==null)for(U[V]=null,V=0;V<G.length;V++){var z=G[V];z!==null&&(z.lane&=-536870913)}a&=~K}o!==0&&Cn(e,o,0),p!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~n))}function Cn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Te(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Xn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Te(a),m=1<<o;m&n|e[o]&n&&(e[o]|=n),a&=~m}}function Qn(e,n){var a=n&-n;return a=(a&42)!==0?1:$i(a),(a&(e.suspendedLanes|n))!==0?0:a}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $l(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kc(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Im(e.type))}function Jc(e,n){var a=$.p;try{return $.p=e,n()}finally{$.p=a}}var Zn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Zn,Gt="__reactProps$"+Zn,Xi="__reactContainer$"+Zn,Po="__reactEvents$"+Zn,ix="__reactListeners$"+Zn,lx="__reactHandles$"+Zn,Yc="__reactResources$"+Zn,Xl="__reactMarker$"+Zn;function Ho(e){delete e[yt],delete e[Gt],delete e[Po],delete e[ix],delete e[lx]}function Qi(e){var n=e[yt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Xi]||a[yt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=gm(e);e!==null;){if(a=e[yt])return a;e=gm(e)}return n}e=a,a=e.parentNode}return null}function Zi(e){if(e=e[yt]||e[Xi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ql(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Wi(e){var n=e[Yc];return n||(n=e[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function gt(e){e[Xl]=!0}var $c=new Set,Xc={};function _i(e,n){el(e,n),el(e+"Capture",n)}function el(e,n){for(Xc[e]=n,e=0;e<n.length;e++)$c.add(n[e])}var ax=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Zc={};function sx(e){return Kl.call(Zc,e)?!0:Kl.call(Qc,e)?!1:ax.test(e)?Zc[e]=!0:(Qc[e]=!0,!1)}function Qa(e,n,a){if(sx(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Za(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function kn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ox(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,p=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){a=""+b,p.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function zo(e){if(!e._valueTracker){var n=Wc(e)?"checked":"value";e._valueTracker=ox(e,n,""+e[n])}}function ed(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Wc(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rx=/[\n"\\]/g;function en(e){return e.replace(rx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Bo(e,n,a,o,m,p,b,E){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Wt(n)):e.value!==""+Wt(n)&&(e.value=""+Wt(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?qo(e,b,Wt(n)):a!=null?qo(e,b,Wt(a)):o!=null&&e.removeAttribute("value"),m==null&&p!=null&&(e.defaultChecked=!!p),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Wt(E):e.removeAttribute("name")}function td(e,n,a,o,m,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){zo(e);return}a=a!=null?""+Wt(a):"",n=n!=null?""+Wt(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??m,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),zo(e)}function qo(e,n,a){n==="number"&&Wa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function tl(e,n,a,o){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Wt(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,o&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function nd(e,n,a){if(n!=null&&(n=""+Wt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Wt(a):""}function id(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ze(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Wt(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),zo(e)}function nl(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ux=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||ux.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ad(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var m in n)o=n[m],n.hasOwnProperty(m)&&a[m]!==o&&ld(e,m,o)}else for(var p in n)n.hasOwnProperty(p)&&ld(e,p,n[p])}function jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(e){return dx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Vo=null;function Oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var il=null,ll=null;function sd(e){var n=Zi(e);if(n&&(e=n.stateNode)){var a=e[Gt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Bo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var m=o[Gt]||null;if(!m)throw Error(s(90));Bo(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ed(o)}break e;case"textarea":nd(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&tl(e,!!a.multiple,n,!1)}}}var Fo=!1;function od(e,n,a){if(Fo)return e(n,a);Fo=!0;try{var o=e(n);return o}finally{if(Fo=!1,(il!==null||ll!==null)&&(qs(),il&&(n=il,e=ll,ll=il=null,sd(n),e)))for(n=0;n<e.length;n++)sd(e[n])}}function Zl(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Gt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(Mn)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Ko=!1}var Wn=null,Jo=null,ts=null;function rd(){if(ts)return ts;var e,n=Jo,a=n.length,o,m="value"in Wn?Wn.value:Wn.textContent,p=m.length;for(e=0;e<a&&n[e]===m[e];e++);var b=a-e;for(o=1;o<=b&&n[a-o]===m[p-o];o++);return ts=m.slice(e,1<o?1-o:void 0)}function ns(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function ud(){return!1}function Pt(e){function n(a,o,m,p,b){this._reactName=a,this._targetInst=m,this.type=o,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?is:ud,this.isPropagationStopped=ud,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Pt(Ai),ea=S({},Ai,{view:0,detail:0}),fx=Pt(ea),Yo,$o,ta,as=S({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(Yo=e.screenX-ta.screenX,$o=e.screenY-ta.screenY):$o=Yo=0,ta=e),Yo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),cd=Pt(as),mx=S({},as,{dataTransfer:0}),hx=Pt(mx),px=S({},ea,{relatedTarget:0}),Xo=Pt(px),gx=S({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=Pt(gx),vx=S({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yx=Pt(vx),bx=S({},Ai,{data:0}),dd=Pt(bx),Sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ex[e])?!!n[e]:!1}function Qo(){return Nx}var _x=S({},ea,{key:function(e){if(e.key){var n=Sx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ax=Pt(_x),Cx=S({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fd=Pt(Cx),kx=S({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),wx=Pt(kx),Mx=S({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rx=Pt(Mx),Ix=S({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dx=Pt(Ix),Ux=S({},Ai,{newState:0,oldState:0}),Lx=Pt(Ux),Gx=[9,13,27,32],Zo=Mn&&"CompositionEvent"in window,na=null;Mn&&"documentMode"in document&&(na=document.documentMode);var Px=Mn&&"TextEvent"in window&&!na,md=Mn&&(!Zo||na&&8<na&&11>=na),hd=" ",pd=!1;function gd(e,n){switch(e){case"keyup":return Gx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var al=!1;function Hx(e,n){switch(e){case"compositionend":return xd(n);case"keypress":return n.which!==32?null:(pd=!0,hd);case"textInput":return e=n.data,e===hd&&pd?null:e;default:return null}}function zx(e,n){if(al)return e==="compositionend"||!Zo&&gd(e,n)?(e=rd(),ts=Jo=Wn=null,al=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return md&&n.locale!=="ko"?null:n.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Bx[e.type]:n==="textarea"}function yd(e,n,a,o){il?ll?ll.push(o):ll=[o]:il=o,n=Ys(n,"onChange"),0<n.length&&(a=new ls("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ia=null,la=null;function qx(e){nm(e,0)}function ss(e){var n=Ql(e);if(ed(n))return e}function bd(e,n){if(e==="change")return n}var Sd=!1;if(Mn){var Wo;if(Mn){var er="oninput"in document;if(!er){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),er=typeof Td.oninput=="function"}Wo=er}else Wo=!1;Sd=Wo&&(!document.documentMode||9<document.documentMode)}function Ed(){ia&&(ia.detachEvent("onpropertychange",Nd),la=ia=null)}function Nd(e){if(e.propertyName==="value"&&ss(la)){var n=[];yd(n,la,e,Oo(e)),od(qx,n)}}function jx(e,n,a){e==="focusin"?(Ed(),ia=n,la=a,ia.attachEvent("onpropertychange",Nd)):e==="focusout"&&Ed()}function Vx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(la)}function Ox(e,n){if(e==="click")return ss(n)}function Fx(e,n){if(e==="input"||e==="change")return ss(n)}function Kx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ot=typeof Object.is=="function"?Object.is:Kx;function aa(e,n){if(Ot(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var m=a[o];if(!Kl.call(n,m)||!Ot(e[m],n[m]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ad(e,n){var a=_d(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_d(a)}}function Cd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Wa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Wa(e.document)}return n}function tr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Jx=Mn&&"documentMode"in document&&11>=document.documentMode,sl=null,nr=null,sa=null,ir=!1;function wd(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ir||sl==null||sl!==Wa(o)||(o=sl,"selectionStart"in o&&tr(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),sa&&aa(sa,o)||(sa=o,o=Ys(nr,"onSelect"),0<o.length&&(n=new ls("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=sl)))}function Ci(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ol={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},lr={},Md={};Mn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function ki(e){if(lr[e])return lr[e];if(!ol[e])return e;var n=ol[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Md)return lr[e]=n[a];return e}var Rd=ki("animationend"),Id=ki("animationiteration"),Dd=ki("animationstart"),Yx=ki("transitionrun"),$x=ki("transitionstart"),Xx=ki("transitioncancel"),Ud=ki("transitionend"),Ld=new Map,ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ar.push("scrollEnd");function gn(e,n){Ld.set(e,n),_i(n,[e])}var os=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],rl=0,sr=0;function rs(){for(var e=rl,n=sr=rl=0;n<e;){var a=tn[n];tn[n++]=null;var o=tn[n];tn[n++]=null;var m=tn[n];tn[n++]=null;var p=tn[n];if(tn[n++]=null,o!==null&&m!==null){var b=o.pending;b===null?m.next=m:(m.next=b.next,b.next=m),o.pending=m}p!==0&&Gd(a,m,p)}}function us(e,n,a,o){tn[rl++]=e,tn[rl++]=n,tn[rl++]=a,tn[rl++]=o,sr|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function or(e,n,a,o){return us(e,n,a,o),cs(e)}function wi(e,n){return us(e,null,null,n),cs(e)}function Gd(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var m=!1,p=e.return;p!==null;)p.childLanes|=a,o=p.alternate,o!==null&&(o.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(m=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,m&&n!==null&&(m=31-Te(a),e=p.hiddenUpdates,o=e[m],o===null?e[m]=[n]:o.push(n),n.lane=a|536870912),p):null}function cs(e){if(50<ka)throw ka=0,gu=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ul={};function Qx(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,a,o){return new Qx(e,n,a,o)}function rr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,n){var a=e.alternate;return a===null?(a=Ft(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Pd(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ds(e,n,a,o,m,p){var b=0;if(o=e,typeof e=="function")rr(e)&&(b=1);else if(typeof e=="string")b=ny(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Ft(31,a,n,m),e.elementType=te,e.lanes=p,e;case k:return Mi(a.children,m,p,n);case M:b=8,m|=24;break;case P:return e=Ft(12,a,n,m|2),e.elementType=P,e.lanes=p,e;case ne:return e=Ft(13,a,n,m),e.elementType=ne,e.lanes=p,e;case se:return e=Ft(19,a,n,m),e.elementType=se,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:b=10;break e;case X:b=9;break e;case Z:b=11;break e;case Y:b=14;break e;case pe:b=16,o=null;break e}b=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Ft(b,a,n,m),n.elementType=e,n.type=o,n.lanes=p,n}function Mi(e,n,a,o){return e=Ft(7,e,o,n),e.lanes=a,e}function ur(e,n,a){return e=Ft(6,e,null,n),e.lanes=a,e}function Hd(e){var n=Ft(18,null,null,0);return n.stateNode=e,n}function cr(e,n,a){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zd=new WeakMap;function nn(e,n){if(typeof e=="object"&&e!==null){var a=zd.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Fa(n)},zd.set(e,n),n)}return{value:e,source:n,stack:Fa(n)}}var cl=[],dl=0,fs=null,oa=0,ln=[],an=0,ei=null,Tn=1,En="";function In(e,n){cl[dl++]=oa,cl[dl++]=fs,fs=e,oa=n}function Bd(e,n,a){ln[an++]=Tn,ln[an++]=En,ln[an++]=ei,ei=e;var o=Tn;e=En;var m=32-Te(o)-1;o&=~(1<<m),a+=1;var p=32-Te(n)+m;if(30<p){var b=m-m%5;p=(o&(1<<b)-1).toString(32),o>>=b,m-=b,Tn=1<<32-Te(n)+m|a<<m|o,En=p+e}else Tn=1<<p|a<<m|o,En=e}function dr(e){e.return!==null&&(In(e,1),Bd(e,1,0))}function fr(e){for(;e===fs;)fs=cl[--dl],cl[dl]=null,oa=cl[--dl],cl[dl]=null;for(;e===ei;)ei=ln[--an],ln[an]=null,En=ln[--an],ln[an]=null,Tn=ln[--an],ln[an]=null}function qd(e,n){ln[an++]=Tn,ln[an++]=En,ln[an++]=ei,Tn=n.id,En=n.overflow,ei=e}var bt=null,et=null,Pe=!1,ti=null,sn=!1,mr=Error(s(519));function ni(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ra(nn(n,e)),mr}function jd(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[yt]=e,n[Gt]=o,a){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<Ma.length;a++)Ue(Ma[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),td(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),id(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||sm(n.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=wn),n=!0):n=!1,n||ni(e,!0)}function Vd(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:bt=bt.return}}function fl(e){if(e!==bt)return!1;if(!Pe)return Vd(e),Pe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ru(e.type,e.memoizedProps)),a=!a),a&&et&&ni(e),Vd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));et=pm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));et=pm(e)}else n===27?(n=et,gi(e.type)?(e=Gu,Gu=null,et=e):et=n):et=bt?rn(e.stateNode.nextSibling):null;return!0}function Ri(){et=bt=null,Pe=!1}function hr(){var e=ti;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),ti=null),e}function ra(e){ti===null?ti=[e]:ti.push(e)}var pr=A(null),Ii=null,Dn=null;function ii(e,n,a){H(pr,n._currentValue),n._currentValue=a}function Un(e){e._currentValue=pr.current,q(pr)}function gr(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function xr(e,n,a,o){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=m;for(var C=0;C<n.length;C++)if(E.context===n[C]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),gr(p.return,a,e),o||(b=null);break e}p=E.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),gr(b,a,e),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===e){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function ml(e,n,a,o){e=null;for(var m=n,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var E=m.type;Ot(m.pendingProps.value,b.value)||(e!==null?e.push(E):e=[E])}}else if(m===W.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(La):e=[La])}m=m.return}e!==null&&xr(n,e,a,o),n.flags|=262144}function ms(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){Ii=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return Od(Ii,e)}function hs(e,n){return Ii===null&&Di(e),Od(e,n)}function Od(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Dn===null){if(e===null)throw Error(s(308));Dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Dn=Dn.next=n;return a}var Zx=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Wx=i.unstable_scheduleCallback,ev=i.unstable_NormalPriority,ut={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vr(){return{controller:new Zx,data:new Map,refCount:0}}function ua(e){e.refCount--,e.refCount===0&&Wx(ev,function(){e.controller.abort()})}var ca=null,yr=0,hl=0,pl=null;function tv(e,n){if(ca===null){var a=ca=[];yr=0,hl=Tu(),pl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yr++,n.then(Fd,Fd),n}function Fd(){if(--yr===0&&ca!==null){pl!==null&&(pl.status="fulfilled");var e=ca;ca=null,hl=0,pl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nv(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(o.status="rejected",o.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),o}var Kd=L.S;L.S=function(e,n){M0=Ct(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&tv(e,n),Kd!==null&&Kd(e,n)};var Ui=A(null);function br(){var e=Ui.current;return e!==null?e:We.pooledCache}function ps(e,n){n===null?H(Ui,Ui.current):H(Ui,n.pool)}function Jd(){var e=br();return e===null?null:{parent:ut._currentValue,pool:e}}var gl=Error(s(460)),Sr=Error(s(474)),gs=Error(s(542)),xs={then:function(){}};function Yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $d(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(wn,wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qd(e),e;default:if(typeof n.status=="string")n.then(wn,wn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=o}},function(o){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qd(e),e}throw Gi=n,gl}}function Li(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gi=a,gl):a}}var Gi=null;function Xd(){if(Gi===null)throw Error(s(459));var e=Gi;return Gi=null,e}function Qd(e){if(e===gl||e===gs)throw Error(s(483))}var xl=null,da=0;function vs(e){var n=da;return da+=1,xl===null&&(xl=[]),$d(xl,e,n)}function fa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ys(e,n){throw n.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zd(e){function n(R,w){if(e){var D=R.deletions;D===null?(R.deletions=[w],R.flags|=16):D.push(w)}}function a(R,w){if(!e)return null;for(;w!==null;)n(R,w),w=w.sibling;return null}function o(R){for(var w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function m(R,w){return R=Rn(R,w),R.index=0,R.sibling=null,R}function p(R,w,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<w?(R.flags|=67108866,w):D):(R.flags|=67108866,w)):(R.flags|=1048576,w)}function b(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function E(R,w,D,F){return w===null||w.tag!==6?(w=ur(D,R.mode,F),w.return=R,w):(w=m(w,D),w.return=R,w)}function C(R,w,D,F){var ve=D.type;return ve===k?V(R,w,D.props.children,F,D.key):w!==null&&(w.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&Li(ve)===w.type)?(w=m(w,D.props),fa(w,D),w.return=R,w):(w=ds(D.type,D.key,D.props,null,R.mode,F),fa(w,D),w.return=R,w)}function U(R,w,D,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==D.containerInfo||w.stateNode.implementation!==D.implementation?(w=cr(D,R.mode,F),w.return=R,w):(w=m(w,D.children||[]),w.return=R,w)}function V(R,w,D,F,ve){return w===null||w.tag!==7?(w=Mi(D,R.mode,F,ve),w.return=R,w):(w=m(w,D),w.return=R,w)}function K(R,w,D){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=ur(""+w,R.mode,D),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _:return D=ds(w.type,w.key,w.props,null,R.mode,D),fa(D,w),D.return=R,D;case N:return w=cr(w,R.mode,D),w.return=R,w;case pe:return w=Li(w),K(R,w,D)}if(ze(w)||Ee(w))return w=Mi(w,R.mode,D,null),w.return=R,w;if(typeof w.then=="function")return K(R,vs(w),D);if(w.$$typeof===j)return K(R,hs(R,w),D);ys(R,w)}return null}function G(R,w,D,F){var ve=w!==null?w.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ve!==null?null:E(R,w,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===ve?C(R,w,D,F):null;case N:return D.key===ve?U(R,w,D,F):null;case pe:return D=Li(D),G(R,w,D,F)}if(ze(D)||Ee(D))return ve!==null?null:V(R,w,D,F,null);if(typeof D.then=="function")return G(R,w,vs(D),F);if(D.$$typeof===j)return G(R,w,hs(R,D),F);ys(R,D)}return null}function z(R,w,D,F,ve){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return R=R.get(D)||null,E(w,R,""+F,ve);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return R=R.get(F.key===null?D:F.key)||null,C(w,R,F,ve);case N:return R=R.get(F.key===null?D:F.key)||null,U(w,R,F,ve);case pe:return F=Li(F),z(R,w,D,F,ve)}if(ze(F)||Ee(F))return R=R.get(D)||null,V(w,R,F,ve,null);if(typeof F.then=="function")return z(R,w,D,vs(F),ve);if(F.$$typeof===j)return z(R,w,D,hs(w,F),ve);ys(w,F)}return null}function ce(R,w,D,F){for(var ve=null,Be=null,fe=w,Re=w=0,Ge=null;fe!==null&&Re<D.length;Re++){fe.index>Re?(Ge=fe,fe=null):Ge=fe.sibling;var qe=G(R,fe,D[Re],F);if(qe===null){fe===null&&(fe=Ge);break}e&&fe&&qe.alternate===null&&n(R,fe),w=p(qe,w,Re),Be===null?ve=qe:Be.sibling=qe,Be=qe,fe=Ge}if(Re===D.length)return a(R,fe),Pe&&In(R,Re),ve;if(fe===null){for(;Re<D.length;Re++)fe=K(R,D[Re],F),fe!==null&&(w=p(fe,w,Re),Be===null?ve=fe:Be.sibling=fe,Be=fe);return Pe&&In(R,Re),ve}for(fe=o(fe);Re<D.length;Re++)Ge=z(fe,R,Re,D[Re],F),Ge!==null&&(e&&Ge.alternate!==null&&fe.delete(Ge.key===null?Re:Ge.key),w=p(Ge,w,Re),Be===null?ve=Ge:Be.sibling=Ge,Be=Ge);return e&&fe.forEach(function(Si){return n(R,Si)}),Pe&&In(R,Re),ve}function Se(R,w,D,F){if(D==null)throw Error(s(151));for(var ve=null,Be=null,fe=w,Re=w=0,Ge=null,qe=D.next();fe!==null&&!qe.done;Re++,qe=D.next()){fe.index>Re?(Ge=fe,fe=null):Ge=fe.sibling;var Si=G(R,fe,qe.value,F);if(Si===null){fe===null&&(fe=Ge);break}e&&fe&&Si.alternate===null&&n(R,fe),w=p(Si,w,Re),Be===null?ve=Si:Be.sibling=Si,Be=Si,fe=Ge}if(qe.done)return a(R,fe),Pe&&In(R,Re),ve;if(fe===null){for(;!qe.done;Re++,qe=D.next())qe=K(R,qe.value,F),qe!==null&&(w=p(qe,w,Re),Be===null?ve=qe:Be.sibling=qe,Be=qe);return Pe&&In(R,Re),ve}for(fe=o(fe);!qe.done;Re++,qe=D.next())qe=z(fe,R,Re,qe.value,F),qe!==null&&(e&&qe.alternate!==null&&fe.delete(qe.key===null?Re:qe.key),w=p(qe,w,Re),Be===null?ve=qe:Be.sibling=qe,Be=qe);return e&&fe.forEach(function(my){return n(R,my)}),Pe&&In(R,Re),ve}function Qe(R,w,D,F){if(typeof D=="object"&&D!==null&&D.type===k&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var ve=D.key;w!==null;){if(w.key===ve){if(ve=D.type,ve===k){if(w.tag===7){a(R,w.sibling),F=m(w,D.props.children),F.return=R,R=F;break e}}else if(w.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&Li(ve)===w.type){a(R,w.sibling),F=m(w,D.props),fa(F,D),F.return=R,R=F;break e}a(R,w);break}else n(R,w);w=w.sibling}D.type===k?(F=Mi(D.props.children,R.mode,F,D.key),F.return=R,R=F):(F=ds(D.type,D.key,D.props,null,R.mode,F),fa(F,D),F.return=R,R=F)}return b(R);case N:e:{for(ve=D.key;w!==null;){if(w.key===ve)if(w.tag===4&&w.stateNode.containerInfo===D.containerInfo&&w.stateNode.implementation===D.implementation){a(R,w.sibling),F=m(w,D.children||[]),F.return=R,R=F;break e}else{a(R,w);break}else n(R,w);w=w.sibling}F=cr(D,R.mode,F),F.return=R,R=F}return b(R);case pe:return D=Li(D),Qe(R,w,D,F)}if(ze(D))return ce(R,w,D,F);if(Ee(D)){if(ve=Ee(D),typeof ve!="function")throw Error(s(150));return D=ve.call(D),Se(R,w,D,F)}if(typeof D.then=="function")return Qe(R,w,vs(D),F);if(D.$$typeof===j)return Qe(R,w,hs(R,D),F);ys(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,w!==null&&w.tag===6?(a(R,w.sibling),F=m(w,D),F.return=R,R=F):(a(R,w),F=ur(D,R.mode,F),F.return=R,R=F),b(R)):a(R,w)}return function(R,w,D,F){try{da=0;var ve=Qe(R,w,D,F);return xl=null,ve}catch(fe){if(fe===gl||fe===gs)throw fe;var Be=Ft(29,fe,null,R.mode);return Be.lanes=F,Be.return=R,Be}finally{}}}var Pi=Zd(!0),Wd=Zd(!1),li=!1;function Tr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Er(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ve&2)!==0){var m=o.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),o.pending=n,n=cs(e),Gd(e,null,a),n}return us(e,o,n,a),cs(e)}function ma(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Xn(e,a)}}function Nr(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var m=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?m=p=n:p=p.next=n}else m=p=n;a={baseState:o.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var _r=!1;function ha(){if(_r){var e=pl;if(e!==null)throw e}}function pa(e,n,a,o){_r=!1;var m=e.updateQueue;li=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var C=E,U=C.next;C.next=null,b===null?p=U:b.next=U,b=C;var V=e.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==b&&(E===null?V.firstBaseUpdate=U:E.next=U,V.lastBaseUpdate=C))}if(p!==null){var K=m.baseState;b=0,V=U=C=null,E=p;do{var G=E.lane&-536870913,z=G!==E.lane;if(z?(Le&G)===G:(o&G)===G){G!==0&&G===hl&&(_r=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=e,Se=E;G=n;var Qe=a;switch(Se.tag){case 1:if(ce=Se.payload,typeof ce=="function"){K=ce.call(Qe,K,G);break e}K=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Se.payload,G=typeof ce=="function"?ce.call(Qe,K,G):ce,G==null)break e;K=S({},K,G);break e;case 2:li=!0}}G=E.callback,G!==null&&(e.flags|=64,z&&(e.flags|=8192),z=m.callbacks,z===null?m.callbacks=[G]:z.push(G))}else z={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(U=V=z,C=K):V=V.next=z,b|=G;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;z=E,E=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(!0);V===null&&(C=K),m.baseState=C,m.firstBaseUpdate=U,m.lastBaseUpdate=V,p===null&&(m.shared.lanes=0),di|=b,e.lanes=b,e.memoizedState=K}}function ef(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function tf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ef(a[e],n)}var vl=A(null),bs=A(0);function nf(e,n){e=Vn,H(bs,e),H(vl,n),Vn=e|n.baseLanes}function Ar(){H(bs,Vn),H(vl,vl.current)}function Cr(){Vn=bs.current,q(vl),q(bs)}var Kt=A(null),on=null;function oi(e){var n=e.alternate;H(st,st.current&1),H(Kt,e),on===null&&(n===null||vl.current!==null||n.memoizedState!==null)&&(on=e)}function kr(e){H(st,st.current),H(Kt,e),on===null&&(on=e)}function lf(e){e.tag===22?(H(st,st.current),H(Kt,e),on===null&&(on=e)):ri()}function ri(){H(st,st.current),H(Kt,Kt.current)}function Jt(e){q(Kt),on===e&&(on=null),q(st)}var st=A(0);function Ss(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Uu(a)||Lu(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ln=0,ke=null,$e=null,ct=null,Ts=!1,yl=!1,Hi=!1,Es=0,ga=0,bl=null,iv=0;function lt(){throw Error(s(321))}function wr(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ot(e[a],n[a]))return!1;return!0}function Mr(e,n,a,o,m,p){return Ln=p,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?qf:Fr,Hi=!1,p=a(o,m),Hi=!1,yl&&(p=sf(n,a,o,m)),af(e),p}function af(e){L.H=ya;var n=$e!==null&&$e.next!==null;if(Ln=0,ct=$e=ke=null,Ts=!1,ga=0,bl=null,n)throw Error(s(300));e===null||dt||(e=e.dependencies,e!==null&&ms(e)&&(dt=!0))}function sf(e,n,a,o){ke=e;var m=0;do{if(yl&&(bl=null),ga=0,yl=!1,25<=m)throw Error(s(301));if(m+=1,ct=$e=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=jf,p=n(a,o)}while(yl);return p}function lv(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?xa(n):n,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(ke.flags|=1024),n}function Rr(){var e=Es!==0;return Es=0,e}function Ir(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Dr(e){if(Ts){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ts=!1}Ln=0,ct=$e=ke=null,yl=!1,ga=Es=0,bl=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?ke.memoizedState=ct=e:ct=ct.next=e,ct}function ot(){if($e===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var n=ct===null?ke.memoizedState:ct.next;if(n!==null)ct=n,$e=e;else{if(e===null)throw ke.alternate===null?Error(s(467)):Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ct===null?ke.memoizedState=ct=e:ct=ct.next=e}return ct}function Ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xa(e){var n=ga;return ga+=1,bl===null&&(bl=[]),e=$d(bl,e,n),n=ke,(ct===null?n.memoizedState:ct.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?qf:Fr),e}function _s(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xa(e);if(e.$$typeof===j)return St(e)}throw Error(s(438,String(e)))}function Ur(e){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ns(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=ee;return n.index++,a}function Gn(e,n){return typeof n=="function"?n(e):n}function As(e){var n=ot();return Lr(n,$e,e)}function Lr(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var m=e.baseQueue,p=o.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}n.baseQueue=m=p,o.pending=null}if(p=e.baseState,m===null)e.memoizedState=p;else{n=m.next;var E=b=null,C=null,U=n,V=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Le&K)===K:(Ln&K)===K){var G=U.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===hl&&(V=!0);else if((Ln&G)===G){U=U.next,G===hl&&(V=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=K,b=p):C=C.next=K,ke.lanes|=G,di|=G;K=U.action,Hi&&a(p,K),p=U.hasEagerState?U.eagerState:a(p,K)}else G={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=G,b=p):C=C.next=G,ke.lanes|=K,di|=K;U=U.next}while(U!==null&&U!==n);if(C===null?b=p:C.next=E,!Ot(p,e.memoizedState)&&(dt=!0,V&&(a=pl,a!==null)))throw a;e.memoizedState=p,e.baseState=b,e.baseQueue=C,o.lastRenderedState=p}return m===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Gr(e){var n=ot(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,m=a.pending,p=n.memoizedState;if(m!==null){a.pending=null;var b=m=m.next;do p=e(p,b.action),b=b.next;while(b!==m);Ot(p,n.memoizedState)||(dt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,o]}function of(e,n,a){var o=ke,m=ot(),p=Pe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=n();var b=!Ot(($e||m).memoizedState,a);if(b&&(m.memoizedState=a,dt=!0),m=m.queue,zr(cf.bind(null,o,m,e),[e]),m.getSnapshot!==n||b||ct!==null&&ct.memoizedState.tag&1){if(o.flags|=2048,Sl(9,{destroy:void 0},uf.bind(null,o,m,a,n),null),We===null)throw Error(s(349));p||(Ln&127)!==0||rf(o,n,a)}return a}function rf(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=Ns(),ke.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function uf(e,n,a,o){n.value=a,n.getSnapshot=o,df(n)&&ff(e)}function cf(e,n,a){return a(function(){df(n)&&ff(e)})}function df(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ot(e,a)}catch{return!0}}function ff(e){var n=wi(e,2);n!==null&&jt(n,e,2)}function Pr(e){var n=Mt();if(typeof e=="function"){var a=e;if(e=a(),Hi){Ce(!0);try{a()}finally{Ce(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},n}function mf(e,n,a,o){return e.baseState=a,Lr(e,$e,typeof o=="function"?o:Gn)}function av(e,n,a,o,m){if(ws(e))throw Error(s(485));if(e=n.action,e!==null){var p={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};L.T!==null?a(!0):p.isTransition=!1,o(p),a=n.pending,a===null?(p.next=n.pending=p,hf(n,p)):(p.next=a.next,n.pending=a.next=p)}}function hf(e,n){var a=n.action,o=n.payload,m=e.state;if(n.isTransition){var p=L.T,b={};L.T=b;try{var E=a(m,o),C=L.S;C!==null&&C(b,E),pf(e,n,E)}catch(U){Hr(e,n,U)}finally{p!==null&&b.types!==null&&(p.types=b.types),L.T=p}}else try{p=a(m,o),pf(e,n,p)}catch(U){Hr(e,n,U)}}function pf(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gf(e,n,o)},function(o){return Hr(e,n,o)}):gf(e,n,a)}function gf(e,n,a){n.status="fulfilled",n.value=a,xf(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,hf(e,a)))}function Hr(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,xf(n),n=n.next;while(n!==o)}e.action=null}function xf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vf(e,n){return n}function yf(e,n){if(Pe){var a=We.formState;if(a!==null){e:{var o=ke;if(Pe){if(et){t:{for(var m=et,p=sn;m.nodeType!==8;){if(!p){m=null;break t}if(m=rn(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){et=rn(m.nextSibling),o=m.data==="F!";break e}}ni(o)}o=!1}o&&(n=a[0])}}return a=Mt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:n},a.queue=o,a=Hf.bind(null,ke,o),o.dispatch=a,o=Pr(!1),p=Or.bind(null,ke,!1,o.queue),o=Mt(),m={state:n,dispatch:null,action:e,pending:null},o.queue=m,a=av.bind(null,ke,m,p,a),m.dispatch=a,o.memoizedState=e,[n,a,!1]}function bf(e){var n=ot();return Sf(n,$e,e)}function Sf(e,n,a){if(n=Lr(e,n,vf)[0],e=As(Gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=xa(n)}catch(b){throw b===gl?gs:b}else o=n;n=ot();var m=n.queue,p=m.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,Sl(9,{destroy:void 0},sv.bind(null,m,a),null)),[o,p,e]}function sv(e,n){e.action=n}function Tf(e){var n=ot(),a=$e;if(a!==null)return Sf(n,a,e);ot(),n=n.memoizedState,a=ot();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Sl(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Ns(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Ef(){return ot().memoizedState}function Cs(e,n,a,o){var m=Mt();ke.flags|=e,m.memoizedState=Sl(1|n,{destroy:void 0},a,o===void 0?null:o)}function ks(e,n,a,o){var m=ot();o=o===void 0?null:o;var p=m.memoizedState.inst;$e!==null&&o!==null&&wr(o,$e.memoizedState.deps)?m.memoizedState=Sl(n,p,a,o):(ke.flags|=e,m.memoizedState=Sl(1|n,p,a,o))}function Nf(e,n){Cs(8390656,8,e,n)}function zr(e,n){ks(2048,8,e,n)}function ov(e){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=Ns(),ke.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function _f(e){var n=ot().memoizedState;return ov({ref:n,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Af(e,n){return ks(4,2,e,n)}function Cf(e,n){return ks(4,4,e,n)}function kf(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wf(e,n,a){a=a!=null?a.concat([e]):null,ks(4,4,kf.bind(null,n,e),a)}function Br(){}function Mf(e,n){var a=ot();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&wr(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Rf(e,n){var a=ot();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&wr(n,o[1]))return o[0];if(o=e(),Hi){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[o,n],o}function qr(e,n,a){return a===void 0||(Ln&1073741824)!==0&&(Le&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=I0(),ke.lanes|=e,di|=e,a)}function If(e,n,a,o){return Ot(a,n)?a:vl.current!==null?(e=qr(e,a,o),Ot(e,n)||(dt=!0),e):(Ln&42)===0||(Ln&1073741824)!==0&&(Le&261930)===0?(dt=!0,e.memoizedState=a):(e=I0(),ke.lanes|=e,di|=e,n)}function Df(e,n,a,o,m){var p=$.p;$.p=p!==0&&8>p?p:8;var b=L.T,E={};L.T=E,Or(e,!1,n,a);try{var C=m(),U=L.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=nv(C,o);va(e,n,V,Xt(e))}else va(e,n,o,Xt(e))}catch(K){va(e,n,{then:function(){},status:"rejected",reason:K},Xt())}finally{$.p=p,b!==null&&E.types!==null&&(b.types=E.types),L.T=b}}function rv(){}function jr(e,n,a,o){if(e.tag!==5)throw Error(s(476));var m=Uf(e).queue;Df(e,m,n,re,a===null?rv:function(){return Lf(e),a(o)})}function Uf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:re},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lf(e){var n=Uf(e);n.next===null&&(n=e.alternate.memoizedState),va(e,n.next.queue,{},Xt())}function Vr(){return St(La)}function Gf(){return ot().memoizedState}function Pf(){return ot().memoizedState}function uv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Xt();e=ai(a);var o=si(n,e,a);o!==null&&(jt(o,n,a),ma(o,n,a)),n={cache:vr()},e.payload=n;return}n=n.return}}function cv(e,n,a){var o=Xt();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ws(e)?zf(n,a):(a=or(e,n,a,o),a!==null&&(jt(a,e,o),Bf(a,n,o)))}function Hf(e,n,a){var o=Xt();va(e,n,a,o)}function va(e,n,a,o){var m={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ws(e))zf(n,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,E=p(b,a);if(m.hasEagerState=!0,m.eagerState=E,Ot(E,b))return us(e,n,m,0),We===null&&rs(),!1}catch{}finally{}if(a=or(e,n,m,o),a!==null)return jt(a,e,o),Bf(a,n,o),!0}return!1}function Or(e,n,a,o){if(o={lane:2,revertLane:Tu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ws(e)){if(n)throw Error(s(479))}else n=or(e,a,o,2),n!==null&&jt(n,e,2)}function ws(e){var n=e.alternate;return e===ke||n!==null&&n===ke}function zf(e,n){yl=Ts=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Bf(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Xn(e,a)}}var ya={readContext:St,use:_s,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};ya.useEffectEvent=lt;var qf={readContext:St,use:_s,useCallback:function(e,n){return Mt().memoizedState=[e,n===void 0?null:n],e},useContext:St,useEffect:Nf,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Cs(4194308,4,kf.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Cs(4194308,4,e,n)},useInsertionEffect:function(e,n){Cs(4,2,e,n)},useMemo:function(e,n){var a=Mt();n=n===void 0?null:n;var o=e();if(Hi){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Mt();if(a!==void 0){var m=a(n);if(Hi){Ce(!0);try{a(n)}finally{Ce(!1)}}}else m=n;return o.memoizedState=o.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},o.queue=e,e=e.dispatch=cv.bind(null,ke,e),[o.memoizedState,e]},useRef:function(e){var n=Mt();return e={current:e},n.memoizedState=e},useState:function(e){e=Pr(e);var n=e.queue,a=Hf.bind(null,ke,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Br,useDeferredValue:function(e,n){var a=Mt();return qr(a,e,n)},useTransition:function(){var e=Pr(!1);return e=Df.bind(null,ke,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=ke,m=Mt();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),We===null)throw Error(s(349));(Le&127)!==0||rf(o,n,a)}m.memoizedState=a;var p={value:a,getSnapshot:n};return m.queue=p,Nf(cf.bind(null,o,p,e),[e]),o.flags|=2048,Sl(9,{destroy:void 0},uf.bind(null,o,p,a,n),null),a},useId:function(){var e=Mt(),n=We.identifierPrefix;if(Pe){var a=En,o=Tn;a=(o&~(1<<32-Te(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Es++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=iv++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Vr,useFormState:yf,useActionState:yf,useOptimistic:function(e){var n=Mt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Or.bind(null,ke,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ur,useCacheRefresh:function(){return Mt().memoizedState=uv.bind(null,ke)},useEffectEvent:function(e){var n=Mt(),a={impl:e};return n.memoizedState=a,function(){if((Ve&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Fr={readContext:St,use:_s,useCallback:Mf,useContext:St,useEffect:zr,useImperativeHandle:wf,useInsertionEffect:Af,useLayoutEffect:Cf,useMemo:Rf,useReducer:As,useRef:Ef,useState:function(){return As(Gn)},useDebugValue:Br,useDeferredValue:function(e,n){var a=ot();return If(a,$e.memoizedState,e,n)},useTransition:function(){var e=As(Gn)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:xa(e),n]},useSyncExternalStore:of,useId:Gf,useHostTransitionStatus:Vr,useFormState:bf,useActionState:bf,useOptimistic:function(e,n){var a=ot();return mf(a,$e,e,n)},useMemoCache:Ur,useCacheRefresh:Pf};Fr.useEffectEvent=_f;var jf={readContext:St,use:_s,useCallback:Mf,useContext:St,useEffect:zr,useImperativeHandle:wf,useInsertionEffect:Af,useLayoutEffect:Cf,useMemo:Rf,useReducer:Gr,useRef:Ef,useState:function(){return Gr(Gn)},useDebugValue:Br,useDeferredValue:function(e,n){var a=ot();return $e===null?qr(a,e,n):If(a,$e.memoizedState,e,n)},useTransition:function(){var e=Gr(Gn)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:xa(e),n]},useSyncExternalStore:of,useId:Gf,useHostTransitionStatus:Vr,useFormState:Tf,useActionState:Tf,useOptimistic:function(e,n){var a=ot();return $e!==null?mf(a,$e,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ur,useCacheRefresh:Pf};jf.useEffectEvent=_f;function Kr(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jr={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Xt(),m=ai(o);m.payload=n,a!=null&&(m.callback=a),n=si(e,m,o),n!==null&&(jt(n,e,o),ma(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Xt(),m=ai(o);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=si(e,m,o),n!==null&&(jt(n,e,o),ma(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Xt(),o=ai(a);o.tag=2,n!=null&&(o.callback=n),n=si(e,o,a),n!==null&&(jt(n,e,a),ma(n,e,a))}};function Vf(e,n,a,o,m,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,b):n.prototype&&n.prototype.isPureReactComponent?!aa(a,o)||!aa(m,p):!0}function Of(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Jr.enqueueReplaceState(n,n.state,null)}function zi(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}function Ff(e){os(e)}function Kf(e){console.error(e)}function Jf(e){os(e)}function Ms(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Yf(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yr(e,n,a){return a=ai(a),a.tag=3,a.payload={element:null},a.callback=function(){Ms(e,n)},a}function $f(e){return e=ai(e),e.tag=3,e}function Xf(e,n,a,o){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var p=o.value;e.payload=function(){return m(p)},e.callback=function(){Yf(n,a,o)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Yf(n,a,o),typeof m!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function dv(e,n,a,o,m){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ml(n,a,m,!0),a=Kt.current,a!==null){switch(a.tag){case 31:case 13:return on===null?js():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=m,o===xs?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),yu(e,o,m)),!1;case 22:return a.flags|=65536,o===xs?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),yu(e,o,m)),!1}throw Error(s(435,a.tag))}return yu(e,o,m),js(),!1}if(Pe)return n=Kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,o!==mr&&(e=Error(s(422),{cause:o}),ra(nn(e,a)))):(o!==mr&&(n=Error(s(423),{cause:o}),ra(nn(n,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,o=nn(o,a),m=Yr(e.stateNode,o,m),Nr(e,m),at!==4&&(at=2)),!1;var p=Error(s(520),{cause:o});if(p=nn(p,a),Ca===null?Ca=[p]:Ca.push(p),at!==4&&(at=2),n===null)return!0;o=nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=Yr(a.stateNode,o,e),Nr(a,e),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fi===null||!fi.has(p))))return a.flags|=65536,m&=-m,a.lanes|=m,m=$f(m),Xf(m,e,a,o),Nr(a,m),!1}a=a.return}while(a!==null);return!1}var $r=Error(s(461)),dt=!1;function Tt(e,n,a,o){n.child=e===null?Wd(n,null,a,o):Pi(n,e.child,a,o)}function Qf(e,n,a,o,m){a=a.render;var p=n.ref;if("ref"in o){var b={};for(var E in o)E!=="ref"&&(b[E]=o[E])}else b=o;return Di(n),o=Mr(e,n,a,b,p,m),E=Rr(),e!==null&&!dt?(Ir(e,n,m),Pn(e,n,m)):(Pe&&E&&dr(n),n.flags|=1,Tt(e,n,o,m),n.child)}function Zf(e,n,a,o,m){if(e===null){var p=a.type;return typeof p=="function"&&!rr(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,Wf(e,n,p,o,m)):(e=ds(a.type,null,o,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!iu(e,m)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:aa,a(b,o)&&e.ref===n.ref)return Pn(e,n,m)}return n.flags|=1,e=Rn(p,o),e.ref=n.ref,e.return=n,n.child=e}function Wf(e,n,a,o,m){if(e!==null){var p=e.memoizedProps;if(aa(p,o)&&e.ref===n.ref)if(dt=!1,n.pendingProps=o=p,iu(e,m))(e.flags&131072)!==0&&(dt=!0);else return n.lanes=e.lanes,Pn(e,n,m)}return Xr(e,n,a,o,m)}function e0(e,n,a,o){var m=o.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(o=n.child=e.child,m=0;o!==null;)m=m|o.lanes|o.childLanes,o=o.sibling;o=m&~p}else o=0,n.child=null;return t0(e,n,p,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ps(n,p!==null?p.cachePool:null),p!==null?nf(n,p):Ar(),lf(n);else return o=n.lanes=536870912,t0(e,n,p!==null?p.baseLanes|a:a,a,o)}else p!==null?(ps(n,p.cachePool),nf(n,p),ri(),n.memoizedState=null):(e!==null&&ps(n,null),Ar(),ri());return Tt(e,n,m,a),n.child}function ba(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function t0(e,n,a,o,m){var p=br();return p=p===null?null:{parent:ut._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&ps(n,null),Ar(),lf(n),e!==null&&ml(e,n,o,!0),n.childLanes=m,null}function Rs(e,n){return n=Ds({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function n0(e,n,a){return Pi(n,e.child,null,a),e=Rs(n,n.pendingProps),e.flags|=2,Jt(n),n.memoizedState=null,e}function fv(e,n,a){var o=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pe){if(o.mode==="hidden")return e=Rs(n,o),n.lanes=536870912,ba(null,e);if(kr(n),(e=et)?(e=hm(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ei!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=Hd(e),a.return=n,n.child=a,bt=n,et=null)):e=null,e===null)throw ni(n);return n.lanes=536870912,null}return Rs(n,o)}var p=e.memoizedState;if(p!==null){var b=p.dehydrated;if(kr(n),m)if(n.flags&256)n.flags&=-257,n=n0(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(dt||ml(e,n,a,!1),m=(a&e.childLanes)!==0,dt||m){if(o=We,o!==null&&(b=Qn(o,a),b!==0&&b!==p.retryLane))throw p.retryLane=b,wi(e,b),jt(o,e,b),$r;js(),n=n0(e,n,a)}else e=p.treeContext,et=rn(b.nextSibling),bt=n,Pe=!0,ti=null,sn=!1,e!==null&&qd(n,e),n=Rs(n,o),n.flags|=4096;return n}return e=Rn(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Is(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Xr(e,n,a,o,m){return Di(n),a=Mr(e,n,a,o,void 0,m),o=Rr(),e!==null&&!dt?(Ir(e,n,m),Pn(e,n,m)):(Pe&&o&&dr(n),n.flags|=1,Tt(e,n,a,m),n.child)}function i0(e,n,a,o,m,p){return Di(n),n.updateQueue=null,a=sf(n,o,a,m),af(e),o=Rr(),e!==null&&!dt?(Ir(e,n,p),Pn(e,n,p)):(Pe&&o&&dr(n),n.flags|=1,Tt(e,n,a,p),n.child)}function l0(e,n,a,o,m){if(Di(n),n.stateNode===null){var p=ul,b=a.contextType;typeof b=="object"&&b!==null&&(p=St(b)),p=new a(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Jr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},Tr(n),b=a.contextType,p.context=typeof b=="object"&&b!==null?St(b):ul,p.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Kr(n,a,b,o),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Jr.enqueueReplaceState(p,p.state,null),pa(n,o,p,m),ha(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){p=n.stateNode;var E=n.memoizedProps,C=zi(a,E);p.props=C;var U=p.context,V=a.contextType;b=ul,typeof V=="object"&&V!==null&&(b=St(V));var K=a.getDerivedStateFromProps;V=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||U!==b)&&Of(n,p,o,b),li=!1;var G=n.memoizedState;p.state=G,pa(n,o,p,m),ha(),U=n.memoizedState,E||G!==U||li?(typeof K=="function"&&(Kr(n,a,K,o),U=n.memoizedState),(C=li||Vf(n,a,C,o,G,U,b))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),p.props=o,p.state=U,p.context=b,o=C):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,Er(e,n),b=n.memoizedProps,V=zi(a,b),p.props=V,K=n.pendingProps,G=p.context,U=a.contextType,C=ul,typeof U=="object"&&U!==null&&(C=St(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==K||G!==C)&&Of(n,p,o,C),li=!1,G=n.memoizedState,p.state=G,pa(n,o,p,m),ha();var z=n.memoizedState;b!==K||G!==z||li||e!==null&&e.dependencies!==null&&ms(e.dependencies)?(typeof E=="function"&&(Kr(n,a,E,o),z=n.memoizedState),(V=li||Vf(n,a,V,o,G,z,C)||e!==null&&e.dependencies!==null&&ms(e.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,z,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,z,C)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=z),p.props=o,p.state=z,p.context=C,o=V):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),o=!1)}return p=o,Is(e,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&o?(n.child=Pi(n,e.child,null,m),n.child=Pi(n,null,a,m)):Tt(e,n,a,m),n.memoizedState=p.state,e=n.child):e=Pn(e,n,m),e}function a0(e,n,a,o){return Ri(),n.flags|=256,Tt(e,n,a,o),n.child}var Qr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(e){return{baseLanes:e,cachePool:Jd()}}function Wr(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=$t),e}function s0(e,n,a){var o=n.pendingProps,m=!1,p=(n.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),b&&(m=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pe){if(m?oi(n):ri(),(e=et)?(e=hm(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ei!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=Hd(e),a.return=n,n.child=a,bt=n,et=null)):e=null,e===null)throw ni(n);return Lu(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,m?(ri(),m=n.mode,E=Ds({mode:"hidden",children:E},m),o=Mi(o,m,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Zr(a),o.childLanes=Wr(e,b,a),n.memoizedState=Qr,ba(null,o)):(oi(n),eu(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(p)n.flags&256?(oi(n),n.flags&=-257,n=tu(e,n,a)):n.memoizedState!==null?(ri(),n.child=e.child,n.flags|=128,n=null):(ri(),E=o.fallback,m=n.mode,o=Ds({mode:"visible",children:o.children},m),E=Mi(E,m,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Pi(n,e.child,null,a),o=n.child,o.memoizedState=Zr(a),o.childLanes=Wr(e,b,a),n.memoizedState=Qr,n=ba(null,o));else if(oi(n),Lu(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var U=b.dgst;b=U,o=Error(s(419)),o.stack="",o.digest=b,ra({value:o,source:null,stack:null}),n=tu(e,n,a)}else if(dt||ml(e,n,a,!1),b=(a&e.childLanes)!==0,dt||b){if(b=We,b!==null&&(o=Qn(b,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,wi(e,o),jt(b,e,o),$r;Uu(E)||js(),n=tu(e,n,a)}else Uu(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,et=rn(E.nextSibling),bt=n,Pe=!0,ti=null,sn=!1,e!==null&&qd(n,e),n=eu(n,o.children),n.flags|=4096);return n}return m?(ri(),E=o.fallback,m=n.mode,C=e.child,U=C.sibling,o=Rn(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=Rn(U,E):(E=Mi(E,m,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ba(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Zr(a):(m=E.cachePool,m!==null?(C=ut._currentValue,m=m.parent!==C?{parent:C,pool:C}:m):m=Jd(),E={baseLanes:E.baseLanes|a,cachePool:m}),o.memoizedState=E,o.childLanes=Wr(e,b,a),n.memoizedState=Qr,ba(e.child,o)):(oi(n),a=e.child,e=a.sibling,a=Rn(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function eu(e,n){return n=Ds({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ds(e,n){return e=Ft(22,e,null,n),e.lanes=0,e}function tu(e,n,a){return Pi(n,e.child,null,a),e=eu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function o0(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),gr(e.return,n,a)}function nu(e,n,a,o,m,p){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:m,treeForkCount:p}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=a,b.tailMode=m,b.treeForkCount=p)}function r0(e,n,a){var o=n.pendingProps,m=o.revealOrder,p=o.tail;o=o.children;var b=st.current,E=(b&2)!==0;if(E?(b=b&1|2,n.flags|=128):b&=1,H(st,b),Tt(e,n,o,a),o=Pe?oa:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o0(e,a,n);else if(e.tag===19)o0(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&Ss(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),nu(n,!1,m,a,p,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Ss(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}nu(n,!0,a,null,p,o);break;case"together":nu(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),di|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ml(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Rn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Rn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function iu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ms(e)))}function mv(e,n,a){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),ii(n,ut,e.memoizedState.cache),Ri();break;case 27:case 5:Je(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:ii(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,kr(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(oi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?s0(e,n,a):(oi(n),e=Pn(e,n,a),e!==null?e.sibling:null);oi(n);break;case 19:var m=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ml(e,n,a,!1),o=(a&n.childLanes)!==0),m){if(o)return r0(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),H(st,st.current),o)break;return null;case 22:return n.lanes=0,e0(e,n,a,n.pendingProps);case 24:ii(n,ut,e.memoizedState.cache)}return Pn(e,n,a)}function u0(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)dt=!0;else{if(!iu(e,a)&&(n.flags&128)===0)return dt=!1,mv(e,n,a);dt=(e.flags&131072)!==0}else dt=!1,Pe&&(n.flags&1048576)!==0&&Bd(n,oa,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Li(n.elementType),n.type=e,typeof e=="function")rr(e)?(o=zi(e,o),n.tag=1,n=l0(null,n,e,o,a)):(n.tag=0,n=Xr(null,n,e,o,a));else{if(e!=null){var m=e.$$typeof;if(m===Z){n.tag=11,n=Qf(null,n,e,o,a);break e}else if(m===Y){n.tag=14,n=Zf(null,n,e,o,a);break e}}throw n=we(e)||e,Error(s(306,n,""))}}return n;case 0:return Xr(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,m=zi(o,n.pendingProps),l0(e,n,o,m,a);case 3:e:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var p=n.memoizedState;m=p.element,Er(e,n),pa(n,o,null,a);var b=n.memoizedState;if(o=b.cache,ii(n,ut,o),o!==p.cache&&xr(n,[ut],a,!0),ha(),o=b.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=a0(e,n,o,a);break e}else if(o!==m){m=nn(Error(s(424)),n),ra(m),n=a0(e,n,o,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=rn(e.firstChild),bt=n,Pe=!0,ti=null,sn=!0,a=Wd(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ri(),o===m){n=Pn(e,n,a);break e}Tt(e,n,o,a)}n=n.child}return n;case 26:return Is(e,n),e===null?(a=bm(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,e=n.pendingProps,o=$s(J.current).createElement(a),o[yt]=n,o[Gt]=e,Et(o,a,e),gt(o),n.stateNode=o):n.memoizedState=bm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Je(n),e===null&&Pe&&(o=n.stateNode=xm(n.type,n.pendingProps,J.current),bt=n,sn=!0,m=et,gi(n.type)?(Gu=m,et=rn(o.firstChild)):et=m),Tt(e,n,n.pendingProps.children,a),Is(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pe&&((m=o=et)&&(o=Vv(o,n.type,n.pendingProps,sn),o!==null?(n.stateNode=o,bt=n,et=rn(o.firstChild),sn=!1,m=!0):m=!1),m||ni(n)),Je(n),m=n.type,p=n.pendingProps,b=e!==null?e.memoizedProps:null,o=p.children,Ru(m,p)?o=null:b!==null&&Ru(m,b)&&(n.flags|=32),n.memoizedState!==null&&(m=Mr(e,n,lv,null,null,a),La._currentValue=m),Is(e,n),Tt(e,n,o,a),n.child;case 6:return e===null&&Pe&&((e=a=et)&&(a=Ov(a,n.pendingProps,sn),a!==null?(n.stateNode=a,bt=n,et=null,e=!0):e=!1),e||ni(n)),null;case 13:return s0(e,n,a);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Pi(n,null,o,a):Tt(e,n,o,a),n.child;case 11:return Qf(e,n,n.type,n.pendingProps,a);case 7:return Tt(e,n,n.pendingProps,a),n.child;case 8:return Tt(e,n,n.pendingProps.children,a),n.child;case 12:return Tt(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ii(n,n.type,o.value),Tt(e,n,o.children,a),n.child;case 9:return m=n.type._context,o=n.pendingProps.children,Di(n),m=St(m),o=o(m),n.flags|=1,Tt(e,n,o,a),n.child;case 14:return Zf(e,n,n.type,n.pendingProps,a);case 15:return Wf(e,n,n.type,n.pendingProps,a);case 19:return r0(e,n,a);case 31:return fv(e,n,a);case 22:return e0(e,n,a,n.pendingProps);case 24:return Di(n),o=St(ut),e===null?(m=br(),m===null&&(m=We,p=vr(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=a),m=p),n.memoizedState={parent:o,cache:m},Tr(n),ii(n,ut,m)):((e.lanes&a)!==0&&(Er(e,n),pa(n,null,null,a),ha()),m=e.memoizedState,p=n.memoizedState,m.parent!==o?(m={parent:o,cache:o},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),ii(n,ut,o)):(o=p.cache,ii(n,ut,o),o!==m.cache&&xr(n,[ut],a,!0))),Tt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hn(e){e.flags|=4}function lu(e,n,a,o,m){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(G0())e.flags|=8192;else throw Gi=xs,Sr}else e.flags&=-16777217}function c0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(n))if(G0())e.flags|=8192;else throw Gi=xs,Sr}function Us(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pn():536870912,e.lanes|=n,_l|=n)}function Sa(e,n){if(!Pe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,o|=m.subtreeFlags&65011712,o|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,o|=m.subtreeFlags,o|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function hv(e,n,a){var o=n.pendingProps;switch(fr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Un(ut),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fl(n)?Hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hr())),tt(n),null;case 26:var m=n.type,p=n.memoizedState;return e===null?(Hn(n),p!==null?(tt(n),c0(n,p)):(tt(n),lu(n,m,null,o,a))):p?p!==e.memoizedState?(Hn(n),tt(n),c0(n,p)):(tt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hn(n),tt(n),lu(n,m,e,o,a)),null;case 27:if(Ze(n),a=J.current,m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return tt(n),null}e=I.current,fl(n)?jd(n):(e=xm(m,o,a),n.stateNode=e,Hn(n))}return tt(n),null;case 5:if(Ze(n),m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return tt(n),null}if(p=I.current,fl(n))jd(n);else{var b=$s(J.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?p.multiple=!0:o.size&&(p.size=o.size);break;default:p=typeof o.is=="string"?b.createElement(m,{is:o.is}):b.createElement(m)}}p[yt]=n,p[Gt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=p;e:switch(Et(p,m,o),m){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hn(n)}}return tt(n),lu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=J.current,fl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,m=bt,m!==null)switch(m.tag){case 27:case 5:o=m.memoizedProps}e[yt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||sm(e.nodeValue,a)),e||ni(n,!0)}else e=$s(e).createTextNode(o),e[yt]=n,n.stateNode=e}return tt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=fl(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[yt]=n}else Ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),e=!1}else a=hr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Jt(n),n):(Jt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return tt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=fl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[yt]=n}else Ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),m=!1}else m=hr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Jt(n),n):(Jt(n),null)}return Jt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,m=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(m=o.alternate.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==m&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Us(n,n.updateQueue),tt(n),null);case 4:return ue(),e===null&&Au(n.stateNode.containerInfo),tt(n),null;case 10:return Un(n.type),tt(n),null;case 19:if(q(st),o=n.memoizedState,o===null)return tt(n),null;if(m=(n.flags&128)!==0,p=o.rendering,p===null)if(m)Sa(o,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Ss(e),p!==null){for(n.flags|=128,Sa(o,!1),e=p.updateQueue,n.updateQueue=e,Us(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Pd(a,e),a=a.sibling;return H(st,st.current&1|2),Pe&&In(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ct()>zs&&(n.flags|=128,m=!0,Sa(o,!1),n.lanes=4194304)}else{if(!m)if(e=Ss(p),e!==null){if(n.flags|=128,m=!0,e=e.updateQueue,n.updateQueue=e,Us(n,e),Sa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!Pe)return tt(n),null}else 2*Ct()-o.renderingStartTime>zs&&a!==536870912&&(n.flags|=128,m=!0,Sa(o,!1),n.lanes=4194304);o.isBackwards?(p.sibling=n.child,n.child=p):(e=o.last,e!==null?e.sibling=p:n.child=p,o.last=p)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,a=st.current,H(st,m?a&1|2:a&1),Pe&&In(n,o.treeForkCount),e):(tt(n),null);case 22:case 23:return Jt(n),Cr(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),a=n.updateQueue,a!==null&&Us(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&q(Ui),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Un(ut),tt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function pv(e,n){switch(fr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Un(ut),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ze(n),null;case 31:if(n.memoizedState!==null){if(Jt(n),n.alternate===null)throw Error(s(340));Ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Jt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(st),null;case 4:return ue(),null;case 10:return Un(n.type),null;case 22:case 23:return Jt(n),Cr(),e!==null&&q(Ui),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Un(ut),null;case 25:return null;default:return null}}function d0(e,n){switch(fr(n),n.tag){case 3:Un(ut),ue();break;case 26:case 27:case 5:Ze(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Jt(n);break;case 13:Jt(n);break;case 19:q(st);break;case 10:Un(n.type);break;case 22:case 23:Jt(n),Cr(),e!==null&&q(Ui);break;case 24:Un(ut)}}function Ta(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var m=o.next;a=m;do{if((a.tag&e)===e){o=void 0;var p=a.create,b=a.inst;o=p(),b.destroy=o}a=a.next}while(a!==m)}}catch(E){Ke(n,n.return,E)}}function ui(e,n,a){try{var o=n.updateQueue,m=o!==null?o.lastEffect:null;if(m!==null){var p=m.next;o=p;do{if((o.tag&e)===e){var b=o.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,m=n;var C=a,U=E;try{U()}catch(V){Ke(m,C,V)}}}o=o.next}while(o!==p)}}catch(V){Ke(n,n.return,V)}}function f0(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{tf(n,a)}catch(o){Ke(e,e.return,o)}}}function m0(e,n,a){a.props=zi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(e,n,o)}}function Ea(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(m){Ke(e,n,m)}}function Nn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(m){Ke(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Ke(e,n,m)}else a.current=null}function h0(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(m){Ke(e,e.return,m)}}function au(e,n,a){try{var o=e.stateNode;Pv(o,e.type,a,n),o[Gt]=n}catch(m){Ke(e,e.return,m)}}function p0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ou(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=wn));else if(o!==4&&(o===27&&gi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(ou(e,n,a),e=e.sibling;e!==null;)ou(e,n,a),e=e.sibling}function Ls(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&gi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ls(e,n,a),e=e.sibling;e!==null;)Ls(e,n,a),e=e.sibling}function g0(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);Et(n,o,a),n[yt]=e,n[Gt]=a}catch(p){Ke(e,e.return,p)}}var zn=!1,ft=!1,ru=!1,x0=typeof WeakSet=="function"?WeakSet:Set,xt=null;function gv(e,n){if(e=e.containerInfo,wu=no,e=kd(e),tr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var m=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,E=-1,C=-1,U=0,V=0,K=e,G=null;t:for(;;){for(var z;K!==a||m!==0&&K.nodeType!==3||(E=b+m),K!==p||o!==0&&K.nodeType!==3||(C=b+o),K.nodeType===3&&(b+=K.nodeValue.length),(z=K.firstChild)!==null;)G=K,K=z;for(;;){if(K===e)break t;if(G===a&&++U===m&&(E=b),G===p&&++V===o&&(C=b),(z=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=z}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mu={focusedElem:e,selectionRange:a},no=!1,xt=n;xt!==null;)if(n=xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xt=e;else for(;xt!==null;){switch(n=xt,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)m=e[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=n,m=p.memoizedProps,p=p.memoizedState,o=a.stateNode;try{var ce=zi(a.type,m);e=o.getSnapshotBeforeUpdate(ce,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Ke(a,a.return,Se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Du(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xt=e;break}xt=n.return}}function v0(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:qn(e,a),o&4&&Ta(5,a);break;case 1:if(qn(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){Ke(a,a.return,b)}else{var m=zi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ke(a,a.return,b)}}o&64&&f0(a),o&512&&Ea(a,a.return);break;case 3:if(qn(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tf(e,n)}catch(b){Ke(a,a.return,b)}}break;case 27:n===null&&o&4&&g0(a);case 26:case 5:qn(e,a),n===null&&o&4&&h0(a),o&512&&Ea(a,a.return);break;case 12:qn(e,a);break;case 31:qn(e,a),o&4&&S0(e,a);break;case 13:qn(e,a),o&4&&T0(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_v.bind(null,a),Fv(e,a))));break;case 22:if(o=a.memoizedState!==null||zn,!o){n=n!==null&&n.memoizedState!==null||ft,m=zn;var p=ft;zn=o,(ft=n)&&!p?jn(e,a,(a.subtreeFlags&8772)!==0):qn(e,a),zn=m,ft=p}break;case 30:break;default:qn(e,a)}}function y0(e){var n=e.alternate;n!==null&&(e.alternate=null,y0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ho(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Ht=!1;function Bn(e,n,a){for(a=a.child;a!==null;)b0(e,n,a),a=a.sibling}function b0(e,n,a){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(Q,a)}catch{}switch(a.tag){case 26:ft||Nn(a,n),Bn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Nn(a,n);var o=nt,m=Ht;gi(a.type)&&(nt=a.stateNode,Ht=!1),Bn(e,n,a),Ia(a.stateNode),nt=o,Ht=m;break;case 5:ft||Nn(a,n);case 6:if(o=nt,m=Ht,nt=null,Bn(e,n,a),nt=o,Ht=m,nt!==null)if(Ht)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(p){Ke(a,n,p)}else try{nt.removeChild(a.stateNode)}catch(p){Ke(a,n,p)}break;case 18:nt!==null&&(Ht?(e=nt,fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dl(e)):fm(nt,a.stateNode));break;case 4:o=nt,m=Ht,nt=a.stateNode.containerInfo,Ht=!0,Bn(e,n,a),nt=o,Ht=m;break;case 0:case 11:case 14:case 15:ui(2,a,n),ft||ui(4,a,n),Bn(e,n,a);break;case 1:ft||(Nn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&m0(a,n,o)),Bn(e,n,a);break;case 21:Bn(e,n,a);break;case 22:ft=(o=ft)||a.memoizedState!==null,Bn(e,n,a),ft=o;break;default:Bn(e,n,a)}}function S0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dl(e)}catch(a){Ke(n,n.return,a)}}}function T0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dl(e)}catch(a){Ke(n,n.return,a)}}function xv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new x0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new x0),n;default:throw Error(s(435,e.tag))}}function Gs(e,n){var a=xv(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var m=Av.bind(null,e,o);o.then(m,m)}})}function zt(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var m=a[o],p=e,b=n,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(gi(E.type)){nt=E.stateNode,Ht=!1;break e}break;case 5:nt=E.stateNode,Ht=!1;break e;case 3:case 4:nt=E.stateNode.containerInfo,Ht=!0;break e}E=E.return}if(nt===null)throw Error(s(160));b0(p,b,m),nt=null,Ht=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)E0(n,e),n=n.sibling}var xn=null;function E0(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(n,e),Bt(e),o&4&&(ui(3,e,e.return),Ta(3,e),ui(5,e,e.return));break;case 1:zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),o&64&&zn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var m=xn;if(zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),o&4){var p=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,m=m.ownerDocument||m;t:switch(o){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Xl]||p[yt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(o),m.head.insertBefore(p,m.querySelector("head > title"))),Et(p,o,a),p[yt]=e,gt(p),o=p;break e;case"link":var b=Em("link","href",m).get(o+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}p=m.createElement(o),Et(p,o,a),m.head.appendChild(p);break;case"meta":if(b=Em("meta","content",m).get(o+(a.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}p=m.createElement(o),Et(p,o,a),m.head.appendChild(p);break;default:throw Error(s(468,o))}p[yt]=e,gt(p),o=p}e.stateNode=o}else Nm(m,e.type,e.stateNode);else e.stateNode=Tm(m,o,e.memoizedProps);else p!==o?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,o===null?Nm(m,e.type,e.stateNode):Tm(m,o,e.memoizedProps)):o===null&&e.stateNode!==null&&au(e,e.memoizedProps,a.memoizedProps)}break;case 27:zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),a!==null&&o&4&&au(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),e.flags&32){m=e.stateNode;try{nl(m,"")}catch(ce){Ke(e,e.return,ce)}}o&4&&e.stateNode!=null&&(m=e.memoizedProps,au(e,m,a!==null?a.memoizedProps:m)),o&1024&&(ru=!0);break;case 6:if(zt(n,e),Bt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ce){Ke(e,e.return,ce)}}break;case 3:if(Zs=null,m=xn,xn=Xs(n.containerInfo),zt(n,e),xn=m,Bt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(n.containerInfo)}catch(ce){Ke(e,e.return,ce)}ru&&(ru=!1,N0(e));break;case 4:o=xn,xn=Xs(e.stateNode.containerInfo),zt(n,e),Bt(e),xn=o;break;case 12:zt(n,e),Bt(e);break;case 31:zt(n,e),Bt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gs(e,o)));break;case 13:zt(n,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hs=Ct()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gs(e,o)));break;case 22:m=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=zn,V=ft;if(zn=U||m,ft=V||C,zt(n,e),ft=V,zn=U,Bt(e),o&8192)e:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||C||zn||ft||Bi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(p=C.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ce){Ke(C,C.return,ce)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(ce){Ke(C,C.return,ce)}}}else if(n.tag===18){if(a===null){C=n;try{var z=C.stateNode;m?mm(z,!0):mm(C.stateNode,!1)}catch(ce){Ke(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Gs(e,a))));break;case 19:zt(n,e),Bt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gs(e,o)));break;case 30:break;case 21:break;default:zt(n,e),Bt(e)}}function Bt(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(p0(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,p=su(e);Ls(e,p,m);break;case 5:var b=a.stateNode;a.flags&32&&(nl(b,""),a.flags&=-33);var E=su(e);Ls(e,E,b);break;case 3:case 4:var C=a.stateNode.containerInfo,U=su(e);ou(e,U,C);break;default:throw Error(s(161))}}catch(V){Ke(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function N0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;N0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)v0(e,n.alternate,n),n=n.sibling}function Bi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ui(4,n,n.return),Bi(n);break;case 1:Nn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&m0(n,n.return,a),Bi(n);break;case 27:Ia(n.stateNode);case 26:case 5:Nn(n,n.return),Bi(n);break;case 22:n.memoizedState===null&&Bi(n);break;case 30:Bi(n);break;default:Bi(n)}e=e.sibling}}function jn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,m=e,p=n,b=p.flags;switch(p.tag){case 0:case 11:case 15:jn(m,p,a),Ta(4,p);break;case 1:if(jn(m,p,a),o=p,m=o.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(U){Ke(o,o.return,U)}if(o=p,m=o.updateQueue,m!==null){var E=o.stateNode;try{var C=m.shared.hiddenCallbacks;if(C!==null)for(m.shared.hiddenCallbacks=null,m=0;m<C.length;m++)ef(C[m],E)}catch(U){Ke(o,o.return,U)}}a&&b&64&&f0(p),Ea(p,p.return);break;case 27:g0(p);case 26:case 5:jn(m,p,a),a&&o===null&&b&4&&h0(p),Ea(p,p.return);break;case 12:jn(m,p,a);break;case 31:jn(m,p,a),a&&b&4&&S0(m,p);break;case 13:jn(m,p,a),a&&b&4&&T0(m,p);break;case 22:p.memoizedState===null&&jn(m,p,a),Ea(p,p.return);break;case 30:break;default:jn(m,p,a)}n=n.sibling}}function uu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ua(a))}function cu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ua(e))}function vn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_0(e,n,a,o),n=n.sibling}function _0(e,n,a,o){var m=n.flags;switch(n.tag){case 0:case 11:case 15:vn(e,n,a,o),m&2048&&Ta(9,n);break;case 1:vn(e,n,a,o);break;case 3:vn(e,n,a,o),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ua(e)));break;case 12:if(m&2048){vn(e,n,a,o),e=n.stateNode;try{var p=n.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ke(n,n.return,C)}}else vn(e,n,a,o);break;case 31:vn(e,n,a,o);break;case 13:vn(e,n,a,o);break;case 23:break;case 22:p=n.stateNode,b=n.alternate,n.memoizedState!==null?p._visibility&2?vn(e,n,a,o):Na(e,n):p._visibility&2?vn(e,n,a,o):(p._visibility|=2,Tl(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),m&2048&&uu(b,n);break;case 24:vn(e,n,a,o),m&2048&&cu(n.alternate,n);break;default:vn(e,n,a,o)}}function Tl(e,n,a,o,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,b=n,E=a,C=o,U=b.flags;switch(b.tag){case 0:case 11:case 15:Tl(p,b,E,C,m),Ta(8,b);break;case 23:break;case 22:var V=b.stateNode;b.memoizedState!==null?V._visibility&2?Tl(p,b,E,C,m):Na(p,b):(V._visibility|=2,Tl(p,b,E,C,m)),m&&U&2048&&uu(b.alternate,b);break;case 24:Tl(p,b,E,C,m),m&&U&2048&&cu(b.alternate,b);break;default:Tl(p,b,E,C,m)}n=n.sibling}}function Na(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,m=o.flags;switch(o.tag){case 22:Na(a,o),m&2048&&uu(o.alternate,o);break;case 24:Na(a,o),m&2048&&cu(o.alternate,o);break;default:Na(a,o)}n=n.sibling}}var _a=8192;function El(e,n,a){if(e.subtreeFlags&_a)for(e=e.child;e!==null;)A0(e,n,a),e=e.sibling}function A0(e,n,a){switch(e.tag){case 26:El(e,n,a),e.flags&_a&&e.memoizedState!==null&&iy(a,xn,e.memoizedState,e.memoizedProps);break;case 5:El(e,n,a);break;case 3:case 4:var o=xn;xn=Xs(e.stateNode.containerInfo),El(e,n,a),xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=_a,_a=16777216,El(e,n,a),_a=o):El(e,n,a));break;default:El(e,n,a)}}function C0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Aa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xt=o,w0(o,e)}C0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)k0(e),e=e.sibling}function k0(e){switch(e.tag){case 0:case 11:case 15:Aa(e),e.flags&2048&&ui(9,e,e.return);break;case 3:Aa(e);break;case 12:Aa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ps(e)):Aa(e);break;default:Aa(e)}}function Ps(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xt=o,w0(o,e)}C0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ui(8,n,n.return),Ps(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ps(n));break;default:Ps(n)}e=e.sibling}}function w0(e,n){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:ui(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ua(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,xt=o;else e:for(a=e;xt!==null;){o=xt;var m=o.sibling,p=o.return;if(y0(o),o===a){xt=null;break e}if(m!==null){m.return=p,xt=m;break e}xt=p}}}var vv={getCacheForType:function(e){var n=St(ut),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return St(ut).controller.signal}},yv=typeof WeakMap=="function"?WeakMap:Map,Ve=0,We=null,De=null,Le=0,Fe=0,Yt=null,ci=!1,Nl=!1,du=!1,Vn=0,at=0,di=0,qi=0,fu=0,$t=0,_l=0,Ca=null,qt=null,mu=!1,Hs=0,M0=0,zs=1/0,Bs=null,fi=null,ht=0,mi=null,Al=null,On=0,hu=0,pu=null,R0=null,ka=0,gu=null;function Xt(){return(Ve&2)!==0&&Le!==0?Le&-Le:L.T!==null?Tu():Kc()}function I0(){if($t===0)if((Le&536870912)===0||Pe){var e=Oe;Oe<<=1,(Oe&3932160)===0&&(Oe=262144),$t=e}else $t=536870912;return e=Kt.current,e!==null&&(e.flags|=32),$t}function jt(e,n,a){(e===We&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Cl(e,0),hi(e,Le,$t,!1)),Lt(e,a),((Ve&2)===0||e!==We)&&(e===We&&((Ve&2)===0&&(qi|=a),at===4&&hi(e,Le,$t,!1)),_n(e))}function D0(e,n,a){if((Ve&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||wt(e,n),m=o?Tv(e,n):vu(e,n,!0),p=o;do{if(m===0){Nl&&!o&&hi(e,n,0,!1);break}else{if(a=e.current.alternate,p&&!bv(a)){m=vu(e,n,!1),p=!1;continue}if(m===2){if(p=n,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var E=e;m=Ca;var C=E.current.memoizedState.isDehydrated;if(C&&(Cl(E,b).flags|=256),b=vu(E,b,!1),b!==2){if(du&&!C){E.errorRecoveryDisabledLanes|=p,qi|=p,m=4;break e}p=qt,qt=m,p!==null&&(qt===null?qt=p:qt.push.apply(qt,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){Cl(e,0),hi(e,n,0,!0);break}e:{switch(o=e,p=m,p){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:hi(o,n,$t,!ci);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=Hs+300-Ct(),10<m)){if(hi(o,n,$t,!ci),kt(o,0,!0)!==0)break e;On=n,o.timeoutHandle=cm(U0.bind(null,o,a,qt,Bs,mu,n,$t,qi,_l,ci,p,"Throttled",-0,0),m);break e}U0(o,a,qt,Bs,mu,n,$t,qi,_l,ci,p,null,-0,0)}}break}while(!0);_n(e)}function U0(e,n,a,o,m,p,b,E,C,U,V,K,G,z){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},A0(n,p,K);var ce=(p&62914560)===p?Hs-Ct():(p&4194048)===p?M0-Ct():0;if(ce=ly(K,ce),ce!==null){On=p,e.cancelPendingCommit=ce(j0.bind(null,e,n,p,a,o,m,b,E,C,V,K,null,G,z)),hi(e,p,b,!U);return}}j0(e,n,p,a,o,m,b,E,C)}function bv(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var m=a[o],p=m.getSnapshot;m=m.value;try{if(!Ot(p(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hi(e,n,a,o){n&=~fu,n&=~qi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var m=n;0<m;){var p=31-Te(m),b=1<<p;o[p]=-1,m&=~b}a!==0&&Cn(e,a,n)}function qs(){return(Ve&6)===0?(wa(0),!1):!0}function xu(){if(De!==null){if(Fe===0)var e=De.return;else e=De,Dn=Ii=null,Dr(e),xl=null,da=0,e=De;for(;e!==null;)d0(e.alternate,e),e=e.return;De=null}}function Cl(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Bv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),On=0,xu(),We=e,De=a=Rn(e.current,null),Le=n,Fe=0,Yt=null,ci=!1,Nl=wt(e,n),du=!1,_l=$t=fu=qi=di=at=0,qt=Ca=null,mu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var m=31-Te(o),p=1<<m;n|=e[m],o&=~p}return Vn=n,rs(),a}function L0(e,n){ke=null,L.H=ya,n===gl||n===gs?(n=Xd(),Fe=3):n===Sr?(n=Xd(),Fe=4):Fe=n===$r?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Yt=n,De===null&&(at=1,Ms(e,nn(n,e.current)))}function G0(){var e=Kt.current;return e===null?!0:(Le&4194048)===Le?on===null:(Le&62914560)===Le||(Le&536870912)!==0?e===on:!1}function P0(){var e=L.H;return L.H=ya,e===null?ya:e}function H0(){var e=L.A;return L.A=vv,e}function js(){at=4,ci||(Le&4194048)!==Le&&Kt.current!==null||(Nl=!0),(di&134217727)===0&&(qi&134217727)===0||We===null||hi(We,Le,$t,!1)}function vu(e,n,a){var o=Ve;Ve|=2;var m=P0(),p=H0();(We!==e||Le!==n)&&(Bs=null,Cl(e,n)),n=!1;var b=at;e:do try{if(Fe!==0&&De!==null){var E=De,C=Yt;switch(Fe){case 8:xu(),b=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(n=!0);var U=Fe;if(Fe=0,Yt=null,kl(e,E,C,U),a&&Nl){b=0;break e}break;default:U=Fe,Fe=0,Yt=null,kl(e,E,C,U)}}Sv(),b=at;break}catch(V){L0(e,V)}while(!0);return n&&e.shellSuspendCounter++,Dn=Ii=null,Ve=o,L.H=m,L.A=p,De===null&&(We=null,Le=0,rs()),b}function Sv(){for(;De!==null;)z0(De)}function Tv(e,n){var a=Ve;Ve|=2;var o=P0(),m=H0();We!==e||Le!==n?(Bs=null,zs=Ct()+500,Cl(e,n)):Nl=wt(e,n);e:do try{if(Fe!==0&&De!==null){n=De;var p=Yt;t:switch(Fe){case 1:Fe=0,Yt=null,kl(e,n,p,1);break;case 2:case 9:if(Yd(p)){Fe=0,Yt=null,B0(n);break}n=function(){Fe!==2&&Fe!==9||We!==e||(Fe=7),_n(e)},p.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Yd(p)?(Fe=0,Yt=null,B0(n)):(Fe=0,Yt=null,kl(e,n,p,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var E=De;if(b?_m(b):E.stateNode.complete){Fe=0,Yt=null;var C=E.sibling;if(C!==null)De=C;else{var U=E.return;U!==null?(De=U,Vs(U)):De=null}break t}}Fe=0,Yt=null,kl(e,n,p,5);break;case 6:Fe=0,Yt=null,kl(e,n,p,6);break;case 8:xu(),at=6;break e;default:throw Error(s(462))}}Ev();break}catch(V){L0(e,V)}while(!0);return Dn=Ii=null,L.H=o,L.A=m,Ve=a,De!==null?0:(We=null,Le=0,rs(),at)}function Ev(){for(;De!==null&&!Ka();)z0(De)}function z0(e){var n=u0(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,n===null?Vs(e):De=n}function B0(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=i0(a,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=i0(a,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Dr(n);default:d0(a,n),n=De=Pd(n,Vn),n=u0(a,n,Vn)}e.memoizedProps=e.pendingProps,n===null?Vs(e):De=n}function kl(e,n,a,o){Dn=Ii=null,Dr(n),xl=null,da=0;var m=n.return;try{if(dv(e,m,n,a,Le)){at=1,Ms(e,nn(a,e.current)),De=null;return}}catch(p){if(m!==null)throw De=m,p;at=1,Ms(e,nn(a,e.current)),De=null;return}n.flags&32768?(Pe||o===1?e=!0:Nl||(Le&536870912)!==0?e=!1:(ci=e=!0,(o===2||o===9||o===3||o===6)&&(o=Kt.current,o!==null&&o.tag===13&&(o.flags|=16384))),q0(n,e)):Vs(n)}function Vs(e){var n=e;do{if((n.flags&32768)!==0){q0(n,ci);return}e=n.return;var a=hv(n.alternate,n,Vn);if(a!==null){De=a;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);at===0&&(at=5)}function q0(e,n){do{var a=pv(e.alternate,e);if(a!==null){a.flags&=32767,De=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){De=e;return}De=e=a}while(e!==null);at=6,De=null}function j0(e,n,a,o,m,p,b,E,C){e.cancelPendingCommit=null;do Os();while(ht!==0);if((Ve&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(p=n.lanes|n.childLanes,p|=sr,$n(e,a,p,b,E,C),e===We&&(De=We=null,Le=0),Al=n,mi=e,On=a,hu=p,pu=m,R0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cv(Yi,function(){return J0(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,m=$.p,$.p=2,b=Ve,Ve|=4;try{gv(e,n,a)}finally{Ve=b,$.p=m,L.T=o}}ht=1,V0(),O0(),F0()}}function V0(){if(ht===1){ht=0;var e=mi,n=Al,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=$.p;$.p=2;var m=Ve;Ve|=4;try{E0(n,e);var p=Mu,b=kd(e.containerInfo),E=p.focusedElem,C=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&Cd(E.ownerDocument.documentElement,E)){if(C!==null&&tr(E)){var U=C.start,V=C.end;if(V===void 0&&(V=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(V,E.value.length);else{var K=E.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var z=G.getSelection(),ce=E.textContent.length,Se=Math.min(C.start,ce),Qe=C.end===void 0?Se:Math.min(C.end,ce);!z.extend&&Se>Qe&&(b=Qe,Qe=Se,Se=b);var R=Ad(E,Se),w=Ad(E,Qe);if(R&&w&&(z.rangeCount!==1||z.anchorNode!==R.node||z.anchorOffset!==R.offset||z.focusNode!==w.node||z.focusOffset!==w.offset)){var D=K.createRange();D.setStart(R.node,R.offset),z.removeAllRanges(),Se>Qe?(z.addRange(D),z.extend(w.node,w.offset)):(D.setEnd(w.node,w.offset),z.addRange(D))}}}}for(K=[],z=E;z=z.parentNode;)z.nodeType===1&&K.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}no=!!wu,Mu=wu=null}finally{Ve=m,$.p=o,L.T=a}}e.current=n,ht=2}}function O0(){if(ht===2){ht=0;var e=mi,n=Al,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=$.p;$.p=2;var m=Ve;Ve|=4;try{v0(e,n.alternate,n)}finally{Ve=m,$.p=o,L.T=a}}ht=3}}function F0(){if(ht===4||ht===3){ht=0,Ni();var e=mi,n=Al,a=On,o=R0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ht=5:(ht=0,Al=mi=null,K0(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(fi=null),$l(a),n=n.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(Q,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,m=$.p,$.p=2,L.T=null;try{for(var p=e.onRecoverableError,b=0;b<o.length;b++){var E=o[b];p(E.value,{componentStack:E.stack})}}finally{L.T=n,$.p=m}}(On&3)!==0&&Os(),_n(e),m=e.pendingLanes,(a&261930)!==0&&(m&42)!==0?e===gu?ka++:(ka=0,gu=e):ka=0,wa(0)}}function K0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ua(n)))}function Os(){return V0(),O0(),F0(),J0()}function J0(){if(ht!==5)return!1;var e=mi,n=hu;hu=0;var a=$l(On),o=L.T,m=$.p;try{$.p=32>a?32:a,L.T=null,a=pu,pu=null;var p=mi,b=On;if(ht=0,Al=mi=null,On=0,(Ve&6)!==0)throw Error(s(331));var E=Ve;if(Ve|=4,k0(p.current),_0(p,p.current,b,a),Ve=E,wa(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(Q,p)}catch{}return!0}finally{$.p=m,L.T=o,K0(e,n)}}function Y0(e,n,a){n=nn(a,n),n=Yr(e.stateNode,n,2),e=si(e,n,2),e!==null&&(Lt(e,2),_n(e))}function Ke(e,n,a){if(e.tag===3)Y0(e,e,a);else for(;n!==null;){if(n.tag===3){Y0(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fi===null||!fi.has(o))){e=nn(a,e),a=$f(2),o=si(n,a,2),o!==null&&(Xf(a,o,n,e),Lt(o,2),_n(o));break}}n=n.return}}function yu(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new yv;var m=new Set;o.set(n,m)}else m=o.get(n),m===void 0&&(m=new Set,o.set(n,m));m.has(a)||(du=!0,m.add(a),e=Nv.bind(null,e,n,a),n.then(e,e))}function Nv(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,We===e&&(Le&a)===a&&(at===4||at===3&&(Le&62914560)===Le&&300>Ct()-Hs?(Ve&2)===0&&Cl(e,0):fu|=a,_l===Le&&(_l=0)),_n(e)}function $0(e,n){n===0&&(n=pn()),e=wi(e,n),e!==null&&(Lt(e,n),_n(e))}function _v(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),$0(e,a)}function Av(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),$0(e,a)}function Cv(e,n){return Jl(e,n)}var Fs=null,wl=null,bu=!1,Ks=!1,Su=!1,pi=0;function _n(e){e!==wl&&e.next===null&&(wl===null?Fs=wl=e:wl=wl.next=e),Ks=!0,bu||(bu=!0,wv())}function wa(e,n){if(!Su&&Ks){Su=!0;do for(var a=!1,o=Fs;o!==null;){if(e!==0){var m=o.pendingLanes;if(m===0)var p=0;else{var b=o.suspendedLanes,E=o.pingedLanes;p=(1<<31-Te(42|e)+1)-1,p&=m&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,W0(o,p))}else p=Le,p=kt(o,o===We?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||wt(o,p)||(a=!0,W0(o,p));o=o.next}while(a);Su=!1}}function kv(){X0()}function X0(){Ks=bu=!1;var e=0;pi!==0&&zv()&&(e=pi);for(var n=Ct(),a=null,o=Fs;o!==null;){var m=o.next,p=Q0(o,n);p===0?(o.next=null,a===null?Fs=m:a.next=m,m===null&&(wl=a)):(a=o,(e!==0||(p&3)!==0)&&(Ks=!0)),o=m}ht!==0&&ht!==5||wa(e),pi!==0&&(pi=0)}function Q0(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-Te(p),E=1<<b,C=m[b];C===-1?((E&a)===0||(E&o)!==0)&&(m[b]=hn(E,n)):C<=n&&(e.expiredLanes|=E),p&=~E}if(n=We,a=Le,a=kt(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Yl(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wt(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Yl(o),$l(a)){case 2:case 8:a=Ya;break;case 32:a=Yi;break;case 268435456:a=$a;break;default:a=Yi}return o=Z0.bind(null,e),a=Jl(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Yl(o),e.callbackPriority=2,e.callbackNode=null,2}function Z0(e,n){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Os()&&e.callbackNode!==a)return null;var o=Le;return o=kt(e,e===We?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(D0(e,o,n),Q0(e,Ct()),e.callbackNode!=null&&e.callbackNode===a?Z0.bind(null,e):null)}function W0(e,n){if(Os())return null;D0(e,n,!0)}function wv(){qv(function(){(Ve&6)!==0?Jl(Ja,kv):X0()})}function Tu(){if(pi===0){var e=hl;e===0&&(e=He,He<<=1,(He&261888)===0&&(He=256)),pi=e}return pi}function em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:es(""+e)}function tm(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Mv(e,n,a,o,m){if(n==="submit"&&a&&a.stateNode===m){var p=em((m[Gt]||null).action),b=o.submitter;b&&(n=(n=b[Gt]||null)?em(n.formAction):b.getAttribute("formAction"),n!==null&&(p=n,b=null));var E=new ls("action","action",null,o,m);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(pi!==0){var C=b?tm(m,b):new FormData(m);jr(a,{pending:!0,data:C,method:m.method,action:p},null,C)}}else typeof p=="function"&&(E.preventDefault(),C=b?tm(m,b):new FormData(m),jr(a,{pending:!0,data:C,method:m.method,action:p},p,C))},currentTarget:m}]})}}for(var Eu=0;Eu<ar.length;Eu++){var Nu=ar[Eu],Rv=Nu.toLowerCase(),Iv=Nu[0].toUpperCase()+Nu.slice(1);gn(Rv,"on"+Iv)}gn(Rd,"onAnimationEnd"),gn(Id,"onAnimationIteration"),gn(Dd,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Yx,"onTransitionRun"),gn($x,"onTransitionStart"),gn(Xx,"onTransitionCancel"),gn(Ud,"onTransitionEnd"),el("onMouseEnter",["mouseout","mouseover"]),el("onMouseLeave",["mouseout","mouseover"]),el("onPointerEnter",["pointerout","pointerover"]),el("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ma));function nm(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],m=o.event;o=o.listeners;e:{var p=void 0;if(n)for(var b=o.length-1;0<=b;b--){var E=o[b],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=U;try{p(m)}catch(V){os(V)}m.currentTarget=null,p=C}else for(b=0;b<o.length;b++){if(E=o[b],C=E.instance,U=E.currentTarget,E=E.listener,C!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=U;try{p(m)}catch(V){os(V)}m.currentTarget=null,p=C}}}}function Ue(e,n){var a=n[Po];a===void 0&&(a=n[Po]=new Set);var o=e+"__bubble";a.has(o)||(im(n,e,2,!1),a.add(o))}function _u(e,n,a){var o=0;n&&(o|=4),im(a,e,o,n)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[Js]){e[Js]=!0,$c.forEach(function(a){a!=="selectionchange"&&(Dv.has(a)||_u(a,!1,e),_u(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Js]||(n[Js]=!0,_u("selectionchange",!1,n))}}function im(e,n,a,o){switch(Im(n)){case 2:var m=oy;break;case 8:m=ry;break;default:m=qu}a=m.bind(null,n,a,e),m=void 0,!Ko||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),o?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function Cu(e,n,a,o,m){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var E=o.stateNode.containerInfo;if(E===m)break;if(b===4)for(b=o.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;E!==null;){if(b=Qi(E),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){o=p=b;continue e}E=E.parentNode}}o=o.return}od(function(){var U=p,V=Oo(a),K=[];e:{var G=Ld.get(e);if(G!==void 0){var z=ls,ce=e;switch(e){case"keypress":if(ns(a)===0)break e;case"keydown":case"keyup":z=Ax;break;case"focusin":ce="focus",z=Xo;break;case"focusout":ce="blur",z=Xo;break;case"beforeblur":case"afterblur":z=Xo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=wx;break;case Rd:case Id:case Dd:z=xx;break;case Ud:z=Rx;break;case"scroll":case"scrollend":z=fx;break;case"wheel":z=Dx;break;case"copy":case"cut":case"paste":z=yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=fd;break;case"toggle":case"beforetoggle":z=Lx}var Se=(n&4)!==0,Qe=!Se&&(e==="scroll"||e==="scrollend"),R=Se?G!==null?G+"Capture":null:G;Se=[];for(var w=U,D;w!==null;){var F=w;if(D=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||D===null||R===null||(F=Zl(w,R),F!=null&&Se.push(Ra(w,F,D))),Qe)break;w=w.return}0<Se.length&&(G=new z(G,ce,null,a,V),K.push({event:G,listeners:Se}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",G&&a!==Vo&&(ce=a.relatedTarget||a.fromElement)&&(Qi(ce)||ce[Xi]))break e;if((z||G)&&(G=V.window===V?V:(G=V.ownerDocument)?G.defaultView||G.parentWindow:window,z?(ce=a.relatedTarget||a.toElement,z=U,ce=ce?Qi(ce):null,ce!==null&&(Qe=d(ce),Se=ce.tag,ce!==Qe||Se!==5&&Se!==27&&Se!==6)&&(ce=null)):(z=null,ce=U),z!==ce)){if(Se=cd,F="onMouseLeave",R="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(Se=fd,F="onPointerLeave",R="onPointerEnter",w="pointer"),Qe=z==null?G:Ql(z),D=ce==null?G:Ql(ce),G=new Se(F,w+"leave",z,a,V),G.target=Qe,G.relatedTarget=D,F=null,Qi(V)===U&&(Se=new Se(R,w+"enter",ce,a,V),Se.target=D,Se.relatedTarget=Qe,F=Se),Qe=F,z&&ce)t:{for(Se=Uv,R=z,w=ce,D=0,F=R;F;F=Se(F))D++;F=0;for(var ve=w;ve;ve=Se(ve))F++;for(;0<D-F;)R=Se(R),D--;for(;0<F-D;)w=Se(w),F--;for(;D--;){if(R===w||w!==null&&R===w.alternate){Se=R;break t}R=Se(R),w=Se(w)}Se=null}else Se=null;z!==null&&lm(K,G,z,Se,!1),ce!==null&&Qe!==null&&lm(K,Qe,ce,Se,!0)}}e:{if(G=U?Ql(U):window,z=G.nodeName&&G.nodeName.toLowerCase(),z==="select"||z==="input"&&G.type==="file")var Be=bd;else if(vd(G))if(Sd)Be=Fx;else{Be=Vx;var fe=jx}else z=G.nodeName,!z||z.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&jo(U.elementType)&&(Be=bd):Be=Ox;if(Be&&(Be=Be(e,U))){yd(K,Be,a,V);break e}fe&&fe(e,G,U),e==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&qo(G,"number",G.value)}switch(fe=U?Ql(U):window,e){case"focusin":(vd(fe)||fe.contentEditable==="true")&&(sl=fe,nr=U,sa=null);break;case"focusout":sa=nr=sl=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,wd(K,a,V);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":wd(K,a,V)}var Re;if(Zo)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else al?gd(e,a)&&(Ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(md&&a.locale!=="ko"&&(al||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&al&&(Re=rd()):(Wn=V,Jo="value"in Wn?Wn.value:Wn.textContent,al=!0)),fe=Ys(U,Ge),0<fe.length&&(Ge=new dd(Ge,e,null,a,V),K.push({event:Ge,listeners:fe}),Re?Ge.data=Re:(Re=xd(a),Re!==null&&(Ge.data=Re)))),(Re=Px?Hx(e,a):zx(e,a))&&(Ge=Ys(U,"onBeforeInput"),0<Ge.length&&(fe=new dd("onBeforeInput","beforeinput",null,a,V),K.push({event:fe,listeners:Ge}),fe.data=Re)),Mv(K,e,U,a,V)}nm(K,n)})}function Ra(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ys(e,n){for(var a=n+"Capture",o=[];e!==null;){var m=e,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Zl(e,a),m!=null&&o.unshift(Ra(e,m,p)),m=Zl(e,n),m!=null&&o.push(Ra(e,m,p))),e.tag===3)return o;e=e.return}return[]}function Uv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lm(e,n,a,o,m){for(var p=n._reactName,b=[];a!==null&&a!==o;){var E=a,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||U===null||(C=U,m?(U=Zl(a,p),U!=null&&b.unshift(Ra(a,U,C))):m||(U=Zl(a,p),U!=null&&b.push(Ra(a,U,C)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var Lv=/\r\n?/g,Gv=/\u0000|\uFFFD/g;function am(e){return(typeof e=="string"?e:""+e).replace(Lv,`
`).replace(Gv,"")}function sm(e,n){return n=am(n),am(e)===n}function Xe(e,n,a,o,m,p){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nl(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nl(e,""+o);break;case"className":Za(e,"class",o);break;case"tabIndex":Za(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Za(e,a,o);break;case"style":ad(e,o,p);break;case"data":if(n!=="object"){Za(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=es(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Xe(e,n,"name",m.name,m,null),Xe(e,n,"formEncType",m.formEncType,m,null),Xe(e,n,"formMethod",m.formMethod,m,null),Xe(e,n,"formTarget",m.formTarget,m,null)):(Xe(e,n,"encType",m.encType,m,null),Xe(e,n,"method",m.method,m,null),Xe(e,n,"target",m.target,m,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=es(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=wn);break;case"onScroll":o!=null&&Ue("scroll",e);break;case"onScrollEnd":o!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=es(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),Qa(e,"popover",o);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Qa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cx.get(a)||a,Qa(e,a,o))}}function ku(e,n,a,o,m,p){switch(a){case"style":ad(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?nl(e,o):(typeof o=="number"||typeof o=="bigint")&&nl(e,""+o);break;case"onScroll":o!=null&&Ue("scroll",e);break;case"onScrollEnd":o!=null&&Ue("scrollend",e);break;case"onClick":o!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),p=e[Gt]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(n,p,m),typeof o=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,m);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Qa(e,a,o)}}}function Et(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var o=!1,m=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":o=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xe(e,n,p,b,a,null)}}m&&Xe(e,n,"srcSet",a.srcSet,a,null),o&&Xe(e,n,"src",a.src,a,null);return;case"input":Ue("invalid",e);var E=p=b=m=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var V=a[o];if(V!=null)switch(o){case"name":m=V;break;case"type":b=V;break;case"checked":C=V;break;case"defaultChecked":U=V;break;case"value":p=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:Xe(e,n,o,V,a,null)}}td(e,p,E,C,U,b,m,!1);return;case"select":Ue("invalid",e),o=b=p=null;for(m in a)if(a.hasOwnProperty(m)&&(E=a[m],E!=null))switch(m){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":o=E;default:Xe(e,n,m,E,a,null)}n=p,a=b,e.multiple=!!o,n!=null?tl(e,!!o,n,!1):a!=null&&tl(e,!!o,a,!0);return;case"textarea":Ue("invalid",e),p=m=o=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":o=E;break;case"defaultValue":m=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xe(e,n,b,E,a,null)}id(e,o,m,p);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xe(e,n,C,o,a,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(o=0;o<Ma.length;o++)Ue(Ma[o],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xe(e,n,U,o,a,null)}return;default:if(jo(n)){for(V in a)a.hasOwnProperty(V)&&(o=a[V],o!==void 0&&ku(e,n,V,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xe(e,n,E,o,a,null))}function Pv(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,E=null,C=null,U=null,V=null;for(z in a){var K=a[z];if(a.hasOwnProperty(z)&&K!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(z)||Xe(e,n,z,null,o,K)}}for(var G in o){var z=o[G];if(K=a[G],o.hasOwnProperty(G)&&(z!=null||K!=null))switch(G){case"type":p=z;break;case"name":m=z;break;case"checked":U=z;break;case"defaultChecked":V=z;break;case"value":b=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:z!==K&&Xe(e,n,G,z,o,K)}}Bo(e,b,E,C,U,V,p,m);return;case"select":z=b=E=G=null;for(p in a)if(C=a[p],a.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":z=C;default:o.hasOwnProperty(p)||Xe(e,n,p,null,o,C)}for(m in o)if(p=o[m],C=a[m],o.hasOwnProperty(m)&&(p!=null||C!=null))switch(m){case"value":G=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==C&&Xe(e,n,m,p,o,C)}n=E,a=b,o=z,G!=null?tl(e,!!a,G,!1):!!o!=!!a&&(n!=null?tl(e,!!a,n,!0):tl(e,!!a,a?[]:"",!1));return;case"textarea":z=G=null;for(E in a)if(m=a[E],a.hasOwnProperty(E)&&m!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(e,n,E,null,o,m)}for(b in o)if(m=o[b],p=a[b],o.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":G=m;break;case"defaultValue":z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==p&&Xe(e,n,b,m,o,p)}nd(e,G,z);return;case"option":for(var ce in a)if(G=a[ce],a.hasOwnProperty(ce)&&G!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Xe(e,n,ce,null,o,G)}for(C in o)if(G=o[C],z=a[C],o.hasOwnProperty(C)&&G!==z&&(G!=null||z!=null))switch(C){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xe(e,n,C,G,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!o.hasOwnProperty(Se)&&Xe(e,n,Se,null,o,G);for(U in o)if(G=o[U],z=a[U],o.hasOwnProperty(U)&&G!==z&&(G!=null||z!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Xe(e,n,U,G,o,z)}return;default:if(jo(n)){for(var Qe in a)G=a[Qe],a.hasOwnProperty(Qe)&&G!==void 0&&!o.hasOwnProperty(Qe)&&ku(e,n,Qe,void 0,o,G);for(V in o)G=o[V],z=a[V],!o.hasOwnProperty(V)||G===z||G===void 0&&z===void 0||ku(e,n,V,G,o,z);return}}for(var R in a)G=a[R],a.hasOwnProperty(R)&&G!=null&&!o.hasOwnProperty(R)&&Xe(e,n,R,null,o,G);for(K in o)G=o[K],z=a[K],!o.hasOwnProperty(K)||G===z||G==null&&z==null||Xe(e,n,K,G,o,z)}function om(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var m=a[o],p=m.transferSize,b=m.initiatorType,E=m.duration;if(p&&E&&om(b)){for(b=0,E=m.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>E)break;var V=C.transferSize,K=C.initiatorType;V&&om(K)&&(C=C.responseEnd,b+=V*(C<E?1:(E-U)/(C-U)))}if(--o,n+=8*(p+b)/(m.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wu=null,Mu=null;function $s(e){return e.nodeType===9?e:e.ownerDocument}function rm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function um(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ru(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Iu=null;function zv(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,Bv=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,qv=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(e){return dm.resolve(null).then(e).catch(jv)}:cm;function jv(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function fm(e,n){var a=n,o=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(m),Dl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ia(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ia(a);for(var p=a.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[Xl]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}else a==="body"&&Ia(e.ownerDocument.body);a=m}while(a);Dl(n)}function mm(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Du(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Du(a),Ho(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Vv(e,n,a,o){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Xl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function Ov(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=rn(e.nextSibling),e===null))return null;return e}function hm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rn(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$?"||e.data==="$~"}function Lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fv(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function rn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Gu=null;function pm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return rn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function gm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function xm(e,n,a){switch(n=$s(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ia(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ho(e)}var un=new Map,vm=new Set;function Xs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=$.d;$.d={f:Kv,r:Jv,D:Yv,C:$v,L:Xv,m:Qv,X:Wv,S:Zv,M:ey};function Kv(){var e=Fn.f(),n=qs();return e||n}function Jv(e){var n=Zi(e);n!==null&&n.tag===5&&n.type==="form"?Lf(n):Fn.r(e)}var Ml=typeof document>"u"?null:document;function ym(e,n,a){var o=Ml;if(o&&typeof n=="string"&&n){var m=en(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),vm.has(m)||(vm.add(m),e={rel:e,crossOrigin:a,href:n},o.querySelector(m)===null&&(n=o.createElement("link"),Et(n,"link",e),gt(n),o.head.appendChild(n)))}}function Yv(e){Fn.D(e),ym("dns-prefetch",e,null)}function $v(e,n){Fn.C(e,n),ym("preconnect",e,n)}function Xv(e,n,a){Fn.L(e,n,a);var o=Ml;if(o&&e&&n){var m='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+en(a.imageSizes)+'"]')):m+='[href="'+en(e)+'"]';var p=m;switch(n){case"style":p=Rl(e);break;case"script":p=Il(e)}un.has(p)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),un.set(p,e),o.querySelector(m)!==null||n==="style"&&o.querySelector(Da(p))||n==="script"&&o.querySelector(Ua(p))||(n=o.createElement("link"),Et(n,"link",e),gt(n),o.head.appendChild(n)))}}function Qv(e,n){Fn.m(e,n);var a=Ml;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',p=m;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Il(e)}if(!un.has(p)&&(e=S({rel:"modulepreload",href:e},n),un.set(p,e),a.querySelector(m)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ua(p)))return}o=a.createElement("link"),Et(o,"link",e),gt(o),a.head.appendChild(o)}}}function Zv(e,n,a){Fn.S(e,n,a);var o=Ml;if(o&&e){var m=Wi(o).hoistableStyles,p=Rl(e);n=n||"default";var b=m.get(p);if(!b){var E={loading:0,preload:null};if(b=o.querySelector(Da(p)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=un.get(p))&&Pu(e,a);var C=b=o.createElement("link");gt(C),Et(C,"link",e),C._p=new Promise(function(U,V){C.onload=U,C.onerror=V}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Qs(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:E},m.set(p,b)}}}function Wv(e,n){Fn.X(e,n);var a=Ml;if(a&&e){var o=Wi(a).hoistableScripts,m=Il(e),p=o.get(m);p||(p=a.querySelector(Ua(m)),p||(e=S({src:e,async:!0},n),(n=un.get(m))&&Hu(e,n),p=a.createElement("script"),gt(p),Et(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(m,p))}}function ey(e,n){Fn.M(e,n);var a=Ml;if(a&&e){var o=Wi(a).hoistableScripts,m=Il(e),p=o.get(m);p||(p=a.querySelector(Ua(m)),p||(e=S({src:e,async:!0,type:"module"},n),(n=un.get(m))&&Hu(e,n),p=a.createElement("script"),gt(p),Et(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(m,p))}}function bm(e,n,a,o){var m=(m=J.current)?Xs(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rl(a.href),a=Wi(m).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rl(a.href);var p=Wi(m).hoistableStyles,b=p.get(e);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=m.querySelector(Da(e)))&&!p._p&&(b.instance=p,b.state.loading=5),un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},un.set(e,a),p||ty(m,e,a,b.state))),n&&o===null)throw Error(s(528,""));return b}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Il(a),a=Wi(m).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rl(e){return'href="'+en(e)+'"'}function Da(e){return'link[rel="stylesheet"]['+e+"]"}function Sm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ty(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Et(n,"link",a),gt(n),e.head.appendChild(n))}function Il(e){return'[src="'+en(e)+'"]'}function Ua(e){return"script[async]"+e}function Tm(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(a.href)+'"]');if(o)return n.instance=o,gt(o),o;var m=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),gt(o),Et(o,"style",m),Qs(o,a.precedence,e),n.instance=o;case"stylesheet":m=Rl(a.href);var p=e.querySelector(Da(m));if(p)return n.state.loading|=4,n.instance=p,gt(p),p;o=Sm(a),(m=un.get(m))&&Pu(o,m),p=(e.ownerDocument||e).createElement("link"),gt(p);var b=p;return b._p=new Promise(function(E,C){b.onload=E,b.onerror=C}),Et(p,"link",o),n.state.loading|=4,Qs(p,a.precedence,e),n.instance=p;case"script":return p=Il(a.src),(m=e.querySelector(Ua(p)))?(n.instance=m,gt(m),m):(o=a,(m=un.get(p))&&(o=S({},a),Hu(o,m)),e=e.ownerDocument||e,m=e.createElement("script"),gt(m),Et(m,"link",o),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Qs(o,a.precedence,e));return n.instance}function Qs(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=o.length?o[o.length-1]:null,p=m,b=0;b<o.length;b++){var E=o[b];if(E.dataset.precedence===n)p=E;else if(p!==m)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Pu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Hu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Zs=null;function Em(e,n,a){if(Zs===null){var o=new Map,m=Zs=new Map;m.set(a,o)}else m=Zs,o=m.get(a),o||(o=new Map,m.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var p=a[m];if(!(p[Xl]||p[yt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(n)||"";b=e+b;var E=o.get(b);E?E.push(p):o.set(b,[p])}}return o}function Nm(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function ny(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iy(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Rl(o.href),p=n.querySelector(Da(m));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ws.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=p,gt(p);return}p=n.ownerDocument||n,o=Sm(o),(m=un.get(m))&&Pu(o,m),p=p.createElement("link"),gt(p);var b=p;b._p=new Promise(function(E,C){b.onload=E,b.onerror=C}),Et(p,"link",o),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ws.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var zu=0;function ly(e,n){return e.stylesheets&&e.count===0&&to(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&to(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&zu===0&&(zu=62500*Hv());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&to(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>zu?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(m)}}:null}function Ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)to(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eo=null;function to(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eo=new Map,n.forEach(ay,e),eo=null,Ws.call(e))}function ay(e,n){if(!(n.state.loading&4)){var a=eo.get(e);if(a)var o=a.get(null);else{a=new Map,eo.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),o=b)}o&&a.set(null,o)}m=n.instance,b=m.getAttribute("data-precedence"),p=a.get(b)||o,p===o&&a.set(null,m),a.set(b,m),this.count++,o=Ws.bind(this),m.addEventListener("load",o),m.addEventListener("error",o),p?p.parentNode.insertBefore(m,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var La={$$typeof:j,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function sy(e,n,a,o,m,p,b,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.hiddenUpdates=Zt(null),this.identifierPrefix=o,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Am(e,n,a,o,m,p,b,E,C,U,V,K){return e=new sy(e,n,a,b,C,U,V,K,E),n=1,p===!0&&(n|=24),p=Ft(3,null,null,n),e.current=p,p.stateNode=e,n=vr(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:a,cache:n},Tr(p),e}function Cm(e){return e?(e=ul,e):ul}function km(e,n,a,o,m,p){m=Cm(m),o.context===null?o.context=m:o.pendingContext=m,o=ai(n),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=si(e,o,n),a!==null&&(jt(a,e,n),ma(a,e,n))}function wm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Bu(e,n){wm(e,n),(e=e.alternate)&&wm(e,n)}function Mm(e){if(e.tag===13||e.tag===31){var n=wi(e,67108864);n!==null&&jt(n,e,67108864),Bu(e,67108864)}}function Rm(e){if(e.tag===13||e.tag===31){var n=Xt();n=$i(n);var a=wi(e,n);a!==null&&jt(a,e,n),Bu(e,n)}}var no=!0;function oy(e,n,a,o){var m=L.T;L.T=null;var p=$.p;try{$.p=2,qu(e,n,a,o)}finally{$.p=p,L.T=m}}function ry(e,n,a,o){var m=L.T;L.T=null;var p=$.p;try{$.p=8,qu(e,n,a,o)}finally{$.p=p,L.T=m}}function qu(e,n,a,o){if(no){var m=ju(o);if(m===null)Cu(e,n,o,io,a),Dm(e,o);else if(cy(m,e,n,a,o))o.stopPropagation();else if(Dm(e,o),n&4&&-1<uy.indexOf(e)){for(;m!==null;){var p=Zi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=it(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var C=1<<31-Te(b);E.entanglements[1]|=C,b&=~C}_n(p),(Ve&6)===0&&(zs=Ct()+500,wa(0))}}break;case 31:case 13:E=wi(p,2),E!==null&&jt(E,p,2),qs(),Bu(p,2)}if(p=ju(o),p===null&&Cu(e,n,o,io,a),p===m)break;m=p}m!==null&&o.stopPropagation()}else Cu(e,n,o,null,a)}}function ju(e){return e=Oo(e),Vu(e)}var io=null;function Vu(e){if(io=null,e=Qi(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=x(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return io=e,null}function Im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uo()){case Ja:return 2;case Ya:return 8;case Yi:case Lo:return 32;case $a:return 268435456;default:return 32}default:return 32}}var Ou=!1,xi=null,vi=null,yi=null,Ga=new Map,Pa=new Map,bi=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,n){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Ga.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(n.pointerId)}}function Ha(e,n,a,o,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:p,targetContainers:[m]},n!==null&&(n=Zi(n),n!==null&&Mm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function cy(e,n,a,o,m){switch(n){case"focusin":return xi=Ha(xi,e,n,a,o,m),!0;case"dragenter":return vi=Ha(vi,e,n,a,o,m),!0;case"mouseover":return yi=Ha(yi,e,n,a,o,m),!0;case"pointerover":var p=m.pointerId;return Ga.set(p,Ha(Ga.get(p)||null,e,n,a,o,m)),!0;case"gotpointercapture":return p=m.pointerId,Pa.set(p,Ha(Pa.get(p)||null,e,n,a,o,m)),!0}return!1}function Um(e){var n=Qi(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Jc(e.priority,function(){Rm(a)});return}}else if(n===31){if(n=x(a),n!==null){e.blockedOn=n,Jc(e.priority,function(){Rm(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=ju(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Vo=o,a.target.dispatchEvent(o),Vo=null}else return n=Zi(a),n!==null&&Mm(n),e.blockedOn=a,!1;n.shift()}return!0}function Lm(e,n,a){lo(e)&&a.delete(n)}function dy(){Ou=!1,xi!==null&&lo(xi)&&(xi=null),vi!==null&&lo(vi)&&(vi=null),yi!==null&&lo(yi)&&(yi=null),Ga.forEach(Lm),Pa.forEach(Lm)}function ao(e,n){e.blockedOn===n&&(e.blockedOn=null,Ou||(Ou=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dy)))}var so=null;function Gm(e){so!==e&&(so=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){so===e&&(so=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],m=e[n+2];if(typeof o!="function"){if(Vu(o||a)===null)continue;break}var p=Zi(a);p!==null&&(e.splice(n,3),n-=3,jr(p,{pending:!0,data:m,method:a.method,action:o},o,m))}}))}function Dl(e){function n(C){return ao(C,e)}xi!==null&&ao(xi,e),vi!==null&&ao(vi,e),yi!==null&&ao(yi,e),Ga.forEach(n),Pa.forEach(n);for(var a=0;a<bi.length;a++){var o=bi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<bi.length&&(a=bi[0],a.blockedOn===null);)Um(a),a.blockedOn===null&&bi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var m=a[o],p=a[o+1],b=m[Gt]||null;if(typeof p=="function")b||Gm(a);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[Gt]||null)E=b.formAction;else if(Vu(m)!==null)continue}else E=b.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Gm(a)}}}function Pm(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Fu(e){this._internalRoot=e}oo.prototype.render=Fu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Xt();km(a,o,e,n,null,null)},oo.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;km(e.current,2,null,e,null,null),qs(),n[Xi]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Kc();e={blockedOn:null,target:e,priority:n};for(var a=0;a<bi.length&&n!==0&&n<bi[a].priority;a++);bi.splice(a,0,e),a===0&&Um(e)}};var Hm=t.version;if(Hm!=="19.2.3")throw Error(s(527,Hm,"19.2.3"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var fy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{Q=ro.inject(fy),de=ro}catch{}}return Ba.createRoot=function(e,n){if(!r(e))throw Error(s(299));var a=!1,o="",m=Ff,p=Kf,b=Jf;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Am(e,1,!1,null,null,a,o,null,m,p,b,Pm),e[Xi]=n.current,Au(e),new Fu(n)},Ba.hydrateRoot=function(e,n,a){if(!r(e))throw Error(s(299));var o=!1,m="",p=Ff,b=Kf,E=Jf,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Am(e,1,!0,n,a??null,o,m,C,p,b,E,Pm),n.context=Cm(null),a=n.current,o=Xt(),o=$i(o),m=ai(o),m.callback=null,si(a,m,o),a=o,n.current.lanes=a,Lt(n,a),_n(n),e[Xi]=n.current,Au(e),new oo(n)},Ba.version="19.2.3",Ba}var Ym;function Ey(){if(Ym)return Yu.exports;Ym=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Yu.exports=Ty(),Yu.exports}var Ny=Ey();const _y=Op(Ny);var Ne=(i=>(i.DRILL="Learn & Drill",i.ACTIVE_RECALL="Active Recall",i.SIMULATION="Test Simulation",i.WEAKNESS="Weakness Attack",i.EXAMPLE="Contoh Soal",i.PRACTICE="Latihan Kustom",i))(Ne||{});const vo="https://files.catbox.moe/02xqjo.png",$m={click:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/pop.mp3",tap:"",back:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/arrow.mp3",success:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/gem-collect.mp3",error:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/loss.mp3",tick:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/pop.mp3",intro:"",finish:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/frozen_missile.mp3"},Fp=[{id:"SKRIPSI",name:"Skripsi Helper",desc:"Bantuan Judul, Outline, & Metodologi"},{id:"UTBK",name:"UTBK SNBT",desc:"Tes Potensi Skolastik & Literasi (2025)"},{id:"SKD",name:"SKD CPNS/Kedinasan",desc:"TWK, TIU, TKP"},{id:"TPA",name:"TPA & TBI",desc:"Tes Potensi Akademik & B.Inggris (Seleksi Lanjutan)"},{id:"PSIKOTEST",name:"Psikotes Lengkap",desc:"IQ, Koran/Pauli, Gambar, & Kepribadian"},{id:"KECERMATAN",name:"Tes Kecermatan",desc:"Angka/Huruf Hilang (Khas Polri/Kedinasan)"},{id:"INTERVIEW",name:"Wawancara Tulis",desc:"Simulasi Jawab Interview & Review AI"},{id:"BUTAWRNA",name:"Tes Buta Warna",desc:"Simulasi Ishihara & Warna"},{id:"GENERAL",name:"Materi Umum",desc:"Belajar Apapun: PDF, Topik, Hafalan"}],Ay=[{id:"ACTIVE_RECALL",name:"Active Recall",desc:"Paksa otak mengingat tanpa melihat catatan.",icon:"Brain"},{id:"PRACTICE",name:"Latihan Soal",desc:"Drill soal pilihan ganda dari materi.",icon:"PenTool"},{id:"SPACED_REPETITION",name:"Spaced Repetition",desc:"Flashcards untuk hafalan jangka panjang.",icon:"Repeat"},{id:"FEYNMAN",name:"Feynman Technique",desc:"Jelaskan materi seolah ke anak kecil.",icon:"MessageCircle"},{id:"MIND_MAP",name:"Mind Mapping",desc:"Visualisasikan hubungan antar konsep.",icon:"Share2"},{id:"PBL",name:"Problem-Based",desc:"Belajar lewat studi kasus nyata.",icon:"Search"},{id:"TEACHING",name:"Teaching Method",desc:"Simulasi mengajar murid (AI).",icon:"GraduationCap"},{id:"SQ3R",name:"SQ3R Method",desc:"Survey, Question, Read, Recite, Review.",icon:"BookOpen"}],Cy=["Penalaran Umum","Pengetahuan & Pemahaman Umum","Pemahaman Bacaan & Menulis","Pengetahuan Kuantitatif","Literasi Bahasa Indonesia","Literasi Bahasa Inggris","Penalaran Matematika"],ky=["Tes Wawasan Kebangsaan (TWK)","Tes Intelegensia Umum (TIU)","Tes Karakteristik Pribadi (TKP)"],wy=["Verbal (Analogi, Silogisme)","Numerik (Deret, Aritmatika)","Penalaran Logis & Analitis","Spasial (Gambar)","Tes Bahasa Inggris (TBI)"],My=["Kognitif & Logika (Verbal, Analitik)","Tes Koran/Pauli (Hitungan Cepat)","Tes Spasial (Analogi Gambar)","Tes Kepribadian (EPPS/DISC)"],Ry=["Pertanyaan Personal (Kelebihan/Kekurangan)","Motivasi & Komitmen","Studi Kasus & Problem Solving","Wawasan Kebangsaan & Integritas"],Zu=[],Wu=[],ec=[],tc=[],nc=[],ic=[],lc=[],ac=[],Ti=[{name:"Penalaran Umum",duration:30,count:30},{name:"Pengetahuan dan Pemahaman Umum",duration:15,count:20},{name:"Pemahaman Bacaan dan Menulis",duration:25,count:20},{name:"Pengetahuan Kuantitatif",duration:20,count:20},{name:"Literasi Bahasa Indonesia",duration:37.5,count:25},{name:"Literasi Bahasa Inggris",duration:37.5,count:25},{name:"Penalaran Matematika",duration:30,count:20}];var Iy={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dy,Uy;function Ly(){return{geminiUrl:Dy,vertexUrl:Uy}}function Gy(i,t,l,s){var r,d;if(!(i!=null&&i.baseUrl)){const h=Ly();return t?(r=h.vertexUrl)!==null&&r!==void 0?r:l:(d=h.geminiUrl)!==null&&d!==void 0?d:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn{}function oe(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let d=0;d<t.length-1;d++){const h=t[d];if(h.endsWith("[]")){const x=h.slice(0,-2);if(!(x in i))if(Array.isArray(l))i[x]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(i[x])){const v=i[x];if(Array.isArray(l))for(let g=0;g<v.length;g++){const y=v[g];f(y,t.slice(d+1),l[g])}else for(const g of v)f(g,t.slice(d+1),l)}return}else if(h.endsWith("[0]")){const x=h.slice(0,-3);x in i||(i[x]=[{}]);const v=i[x];f(v[0],t.slice(d+1),l);return}(!i[h]||typeof i[h]!="object")&&(i[h]={}),i=i[h]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[s]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return l;const r=t[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const h=i[d];return Array.isArray(h)?h.map(x=>u(x,t.slice(s+1),l)):l}else return l}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return l;throw s}}function Py(i,t){for(const[l,s]of Object.entries(t)){const r=l.split("."),d=s.split("."),h=new Set;let x=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){x=v;break}if(x!==-1&&d.length>x)for(let v=x;v<d.length;v++){const g=d[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&h.add(g)}fc(i,r,d,0,h)}}function fc(i,t,l,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const d=t[s];if(d.endsWith("[]")){const h=d.slice(0,-2),x=i;if(h in x&&Array.isArray(x[h]))for(const v of x[h])fc(v,t,l,s+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const h=i,x=Object.keys(h).filter(g=>!g.startsWith("_")&&!r.has(g)),v={};for(const g of x)v[g]=h[g];for(const[g,y]of Object.entries(v)){const S=[];for(const T of l.slice(s))T==="*"?S.push(g):S.push(T);f(h,S,y)}for(const g of x)delete h[g]}}else{const h=i;d in h&&fc(h[d],t,l,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ic(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hy(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const s=u(i,["resourceName"]);return s!=null&&f(t,["_url","resourceName"],s),t}function zy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],qy(h)),t}function By(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],jy(h)),t}function qy(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Vy(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function jy(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Oy(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Vy(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],Xy(l)),t}function Oy(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],Qy(l)),t}function Fy(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Ky(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Jy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],Yy(h)),t}function Yy(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Kp(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],$y(h)),t}function $y(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Xy(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const s=u(i,["encodedVideo"]);s!=null&&f(t,["videoBytes"],Ic(s));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Qy(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],Ic(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xm||(Xm={}));var Qm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Qm||(Qm={}));var Zm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Zm||(Zm={}));var ae;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ae||(ae={}));var Wm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wm||(Wm={}));var eh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(eh||(eh={}));var th;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(th||(th={}));var nh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(nh||(nh={}));var ih;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(ih||(ih={}));var lh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(lh||(lh={}));var ah;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(ah||(ah={}));var sh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(sh||(sh={}));var oh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(oh||(oh={}));var rh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(rh||(rh={}));var uh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(uh||(uh={}));var ch;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(ch||(ch={}));var dh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(dh||(dh={}));var fh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(fh||(fh={}));var mh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mh||(mh={}));var hh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(hh||(hh={}));var ph;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ph||(ph={}));var yo;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(yo||(yo={}));var gh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gh||(gh={}));var xh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xh||(xh={}));var vh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vh||(vh={}));var mc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mc||(mc={}));var yh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yh||(yh={}));var bh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(bh||(bh={}));var Sh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Sh||(Sh={}));var Th;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Th||(Th={}));var Eh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Eh||(Eh={}));var Nh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Nh||(Nh={}));var _h;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(_h||(_h={}));var Ah;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ah||(Ah={}));var Ch;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ch||(Ch={}));var kh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kh||(kh={}));var wh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wh||(wh={}));var Mh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Mh||(Mh={}));var Rh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Rh||(Rh={}));var Ih;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Ih||(Ih={}));var Dh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Dh||(Dh={}));var Uh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Uh||(Uh={}));var Lh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Lh||(Lh={}));var Gh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Gh||(Gh={}));var Ph;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Ph||(Ph={}));var Hh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Hh||(Hh={}));var zh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(zh||(zh={}));var Bh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Bh||(Bh={}));var qh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qh||(qh={}));var jh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jh||(jh={}));var Vh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Vh||(Vh={}));var Oh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Oh||(Oh={}));var Fh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fh||(Fh={}));var Kh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Kh||(Kh={}));var Ll;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Ll||(Ll={}));class hc{constructor(t){const l={};for(const s of t.headers.entries())l[s[0]]=s[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class qa{get text(){var t,l,s,r,d,h,x,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",y=!1;const S=[];for(const T of(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)!==null&&v!==void 0?v:[]){for(const[_,N]of Object.entries(T))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(N!==null||N!==void 0)&&S.push(_);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,g+=T.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?g:void 0}get data(){var t,l,s,r,d,h,x,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const y=[];for(const S of(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)!==null&&v!==void 0?v:[]){for(const[T,_]of Object.entries(S))T!=="inlineData"&&(_!==null||_!==void 0)&&y.push(T);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,l,s,r,d,h,x,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,l,s,r,d,h,x,v,g;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,l,s,r,d,h,x,v,g;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.output}}class Jh{}class Yh{}class Zy{}class Wy{}class eb{}class tb{}class $h{}class Xh{}class Qh{}class nb{}class bo{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new bo;let r;const d=t;return l?r=By(d):r=zy(d),Object.assign(s,r),s}}class Zh{}class Wh{}class ep{}class tp{}class ib{}class lb{}class ab{}class Dc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new Dc,d=Jy(t);return Object.assign(s,d),s}}class sb{}class ob{}class rb{}class np{}class ub{get text(){var t,l,s;let r="",d=!1;const h=[];for(const x of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[v,g]of Object.entries(x))v!=="text"&&v!=="thought"&&g!==null&&h.push(v);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;d=!0,r+=x.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,l,s;let r="";const d=[];for(const h of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[x,v]of Object.entries(h))x!=="inlineData"&&v!==null&&d.push(x);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class cb{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Uc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new Uc,d=Kp(t);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function je(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Jp(i,t){const l=je(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Yp(i){return Array.isArray(i)?i.map(t=>So(t)):[So(i)]}function So(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function $p(i){const t=So(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Xp(i){const t=So(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ip(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Qp(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>ip(t)):[ip(i)]}function pc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function lp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function ap(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function _t(i){if(i==null)throw new Error("ContentUnion is required");return pc(i)?i:{role:"user",parts:Qp(i)}}function Lc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const s=_t(l);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const l=_t(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>_t(l)):[_t(t)]}function cn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(lp(i)||ap(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_t(i)]}const t=[],l=[],s=pc(i[0]);for(const r of i){const d=pc(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(lp(r)||ap(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return s||t.push({role:"user",parts:Qp(l)}),t}function db(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(s=>s!=="null");if(l.length===1)t.type=Object.values(ae).includes(l[0].toUpperCase())?l[0].toUpperCase():ae.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of l)t.anyOf.push({type:Object.values(ae).includes(s.toUpperCase())?s.toUpperCase():ae.TYPE_UNSPECIFIED})}}function Pl(i){const t={},l=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&db(i.type,t);for(const[h,x]of Object.entries(i))if(x!=null)if(h=="type"){if(x==="null")throw new Error("type: null can not be the only possible type for the field.");if(x instanceof Array)continue;t.type=Object.values(ae).includes(x.toUpperCase())?x.toUpperCase():ae.TYPE_UNSPECIFIED}else if(l.includes(h))t[h]=Pl(x);else if(s.includes(h)){const v=[];for(const g of x){if(g.type=="null"){t.nullable=!0;continue}v.push(Pl(g))}t[h]=v}else if(r.includes(h)){const v={};for(const[g,y]of Object.entries(x))v[g]=Pl(y);t[h]=v}else{if(h==="additionalProperties")continue;t[h]=x}return t}function Gc(i){return Pl(i)}function Pc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Hc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function jl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Pl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Pl(t.response));return i}function Vl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function fb(i,t,l,s=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function Yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return fb(i,t,"cachedContents")}function Zp(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ei(i){return Ic(i)}function mb(i){return i!=null&&typeof i=="object"&&"name"in i}function hb(i){return i!=null&&typeof i=="object"&&"video"in i}function pb(i){return i!=null&&typeof i=="object"&&"uri"in i}function Wp(i){var t;let l;if(mb(i)&&(l=i.name),!(pb(i)&&(l=i.uri,l===void 0))&&!(hb(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function eg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function tg(i){for(const t of["models","tunedModels","publisherModels"])if(gb(i,t))return i[t];return[]}function gb(i,t){return i!==null&&typeof i=="object"&&t in i}function xb(i,t={}){const l=i,s={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(s.responseJsonSchema=l.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function vb(i,t={}){const l=[],s=new Set;for(const r of i){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const h=xb(r,t);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function ng(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const s=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function yb(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function ig(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const v=h.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Ol(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function lg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>eS(h))),f(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["inlinedEmbedContentResponses"],d)}return t}function Sb(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function Tb(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function go(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata","displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],lg(r));const d=u(i,["metadata","createTime"]);d!=null&&f(t,["createTime"],d);const h=u(i,["metadata","endTime"]);h!=null&&f(t,["endTime"],h);const x=u(i,["metadata","updateTime"]);x!=null&&f(t,["updateTime"],x);const v=u(i,["metadata","model"]);v!=null&&f(t,["model"],v);const g=u(i,["metadata","output"]);return g!=null&&f(t,["dest"],bb(ig(g))),t}function gc(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["state"]);r!=null&&f(t,["state"],lg(r));const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["createTime"]);h!=null&&f(t,["createTime"],h);const x=u(i,["startTime"]);x!=null&&f(t,["startTime"],x);const v=u(i,["endTime"]);v!=null&&f(t,["endTime"],v);const g=u(i,["updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["model"]);y!=null&&f(t,["model"],y);const S=u(i,["inputConfig"]);S!=null&&f(t,["src"],Eb(S));const T=u(i,["outputConfig"]);T!=null&&f(t,["dest"],Sb(ig(T)));const _=u(i,["completionStats"]);return _!=null&&f(t,["completionStats"],_),t}function Eb(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const s=u(i,["gcsSource","uris"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function Nb(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&f(l,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Wb(i,h))),f(l,["requests","requests"],d)}return l}function _b(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Ab(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Cb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function kb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function wb(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const s=u(i,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],Mb(s));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&f(t,["finishReason"],d);const h=u(i,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const x=u(i,["groundingMetadata"]);x!=null&&f(t,["groundingMetadata"],x);const v=u(i,["index"]);v!=null&&f(t,["index"],v);const g=u(i,["logprobsResult"]);g!=null&&f(t,["logprobsResult"],g);const y=u(i,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(_=>_)),f(t,["safetyRatings"],T)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function Mb(i){const t={},l=u(i,["citationSources"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["citations"],s)}return t}function ag(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>oS(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function Rb(i,t){const l={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&f(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Ib(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],Tb(yb(r))),l}function sp(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],Nb(i,ng(i,r)));const d=u(t,["config"]);return d!=null&&Rb(d,l),l}function Db(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],je(i,s));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],_b(ng(i,r)));const d=u(t,["config"]);return d!=null&&Ib(d,l),l}function Ub(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["batch","displayName"],s),l}function Lb(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],jb(i,r));const d=u(t,["config"]);return d!=null&&Ub(d,l),l}function Gb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Pb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Hb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);return d!=null&&f(t,["error"],d),t}function zb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);return d!=null&&f(t,["error"],d),t}function Bb(i,t){const l={},s=u(t,["contents"]);if(s!=null){let d=Lc(i,s);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],qb(r,l)),Py(l,{"requests[].*":"requests[].request.*"})),l}function qb(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function jb(i,t){const l={},s=u(t,["fileName"]);s!=null&&f(l,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],Bb(i,r)),l}function Vb(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Ob(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Fb(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Kb(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],ag(_t(r)));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const x=u(t,["topK"]);x!=null&&f(s,["topK"],x);const v=u(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const g=u(t,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const y=u(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const T=u(t,["logprobs"]);T!=null&&f(s,["logprobs"],T);const _=u(t,["presencePenalty"]);_!=null&&f(s,["presencePenalty"],_);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=u(t,["seed"]);k!=null&&f(s,["seed"],k);const M=u(t,["responseMimeType"]);M!=null&&f(s,["responseMimeType"],M);const P=u(t,["responseSchema"]);P!=null&&f(s,["responseSchema"],Gc(P));const X=u(t,["responseJsonSchema"]);if(X!=null&&f(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(l!==void 0&&j!=null){let ge=j;Array.isArray(ge)&&(ge=ge.map(we=>rS(we))),f(l,["safetySettings"],ge)}const Z=u(t,["tools"]);if(l!==void 0&&Z!=null){let ge=Vl(Z);Array.isArray(ge)&&(ge=ge.map(we=>cS(jl(we)))),f(l,["tools"],ge)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&f(l,["toolConfig"],uS(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=u(t,["cachedContent"]);l!==void 0&&se!=null&&f(l,["cachedContent"],Yn(i,se));const Y=u(t,["responseModalities"]);Y!=null&&f(s,["responseModalities"],Y);const pe=u(t,["mediaResolution"]);pe!=null&&f(s,["mediaResolution"],pe);const te=u(t,["speechConfig"]);if(te!=null&&f(s,["speechConfig"],Pc(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(t,["thinkingConfig"]);ee!=null&&f(s,["thinkingConfig"],ee);const me=u(t,["imageConfig"]);me!=null&&f(s,["imageConfig"],Zb(me));const Ee=u(t,["enableEnhancedCivicAnswers"]);return Ee!=null&&f(s,["enableEnhancedCivicAnswers"],Ee),s}function Jb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>wb(g))),f(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&f(t,["responseId"],h);const x=u(i,["usageMetadata"]);return x!=null&&f(t,["usageMetadata"],x),t}function Yb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function $b(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Xb(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function Qb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function Zb(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const s=u(i,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Wb(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["request","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let x=cn(r);Array.isArray(x)&&(x=x.map(v=>ag(v))),f(l,["request","contents"],x)}const d=u(t,["metadata"]);d!=null&&f(l,["metadata"],d);const h=u(t,["config"]);return h!=null&&f(l,["request","generationConfig"],Kb(i,h,u(l,["request"],{}))),l}function eS(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],Jb(l));const s=u(i,["error"]);return s!=null&&f(t,["error"],s),t}function tS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function nS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),l}function iS(i){const t={},l=u(i,["config"]);return l!=null&&tS(l,t),t}function lS(i){const t={},l=u(i,["config"]);return l!=null&&nS(l,t),t}function aS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>go(h))),f(t,["batchJobs"],d)}return t}function sS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>gc(h))),f(t,["batchJobs"],d)}return t}function oS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],Vb(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],Ob(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],Ab(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function rS(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function uS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],Fb(s)),t}function cS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],Xb(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],Qb(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Kn||(Kn={}));class Ji{constructor(t,l,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,s,r)}init(t,l,s){var r,d;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!s||Object.keys(s).length===0?h={config:{}}:typeof s=="object"?h=Object.assign({},s):h=s,h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(d=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dS extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=sp(this.apiClient,t),s=l._url,r=oe("{model}:batchGenerateContent",s),x=l.batch.inputConfig.requests,v=x.requests,g=[];for(const y of v){const S=Object.assign({},y);if(S.systemInstruction){const T=S.systemInstruction;delete S.systemInstruction;const _=S.request;_.systemInstruction=T,S.request=_}g.push(S)}return x.requests=g,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const s=l?Object.assign({},l):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(t),h=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(h)s.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=Db(this.apiClient,t);return x=oe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>gc(y))}else{const g=sp(this.apiClient,t);return x=oe("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>go(y))}}async createEmbeddingsInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=Lb(this.apiClient,t);return d=oe("{model}:asyncBatchEmbedContent",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>go(v))}}async get(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=$b(this.apiClient,t);return x=oe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>gc(y))}else{const g=Yb(this.apiClient,t);return x=oe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>go(y))}}async cancel(t){var l,s,r,d;let h="",x={};if(this.apiClient.isVertexAI()){const v=kb(this.apiClient,t);h=oe("batchPredictionJobs/{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=Cb(this.apiClient,t);h=oe("batches/{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=lS(t);return x=oe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=sS(y),T=new np;return Object.assign(T,S),T})}else{const g=iS(t);return x=oe("batches",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=aS(y),T=new np;return Object.assign(T,S),T})}}async delete(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=Pb(this.apiClient,t);return x=oe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>zb(y))}else{const g=Gb(this.apiClient,t);return x=oe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>Hb(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function op(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>LS(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function mS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const h=u(i,["contents"]);if(t!==void 0&&h!=null){let y=cn(h);Array.isArray(y)&&(y=y.map(S=>op(S))),f(t,["contents"],y)}const x=u(i,["systemInstruction"]);t!==void 0&&x!=null&&f(t,["systemInstruction"],op(_t(x)));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(S=>PS(S))),f(t,["tools"],y)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&f(t,["toolConfig"],GS(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function hS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const h=u(i,["contents"]);if(t!==void 0&&h!=null){let S=cn(h);Array.isArray(S)&&(S=S.map(T=>T)),f(t,["contents"],S)}const x=u(i,["systemInstruction"]);t!==void 0&&x!=null&&f(t,["systemInstruction"],_t(x));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>HS(T))),f(t,["tools"],S)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&f(t,["toolConfig"],g);const y=u(i,["kmsKeyName"]);return t!==void 0&&y!=null&&f(t,["encryption_spec","kmsKeyName"],y),l}function pS(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],Jp(i,s));const r=u(t,["config"]);return r!=null&&mS(r,l),l}function gS(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],Jp(i,s));const r=u(t,["config"]);return r!=null&&hS(r,l),l}function xS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function vS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function yS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function bS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function SS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function TS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ES(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function NS(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&f(t,["response"],h);const x=u(i,["responseJsonSchema"]);if(x!=null&&f(t,["responseJsonSchema"],x),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function _S(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function AS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function CS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function kS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function wS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function MS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function RS(i){const t={},l=u(i,["config"]);return l!=null&&wS(l,t),t}function IS(i){const t={},l=u(i,["config"]);return l!=null&&MS(l,t),t}function DS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["cachedContents"],d)}return t}function US(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["cachedContents"],d)}return t}function LS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],SS(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],TS(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],fS(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function GS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],ES(s)),t}function PS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],CS(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],kS(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function HS(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&f(t,["enterpriseWebSearch"],d);const h=u(i,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>NS(T))),f(t,["functionDeclarations"],S)}const x=u(i,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function zS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function BS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function qS(i,t){const l={},s=u(t,["name"]);s!=null&&f(l,["_url","name"],Yn(i,s));const r=u(t,["config"]);return r!=null&&zS(r,l),l}function jS(i,t){const l={},s=u(t,["name"]);s!=null&&f(l,["_url","name"],Yn(i,s));const r=u(t,["config"]);return r!=null&&BS(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VS extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(l),l)}async create(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=gS(this.apiClient,t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const g=pS(this.apiClient,t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async get(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=AS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const g=_S(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async delete(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=vS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=bS(y),T=new ep;return Object.assign(T,S),T})}else{const g=xS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=yS(y),T=new ep;return Object.assign(T,S),T})}}async update(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=jS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const g=qS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=IS(t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=US(y),T=new tp;return Object.assign(T,S),T})}else{const g=RS(t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=DS(y),T=new tp;return Object.assign(T,S),T})}}}function To(i,t){var l={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(l[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(l[s[r]]=i[s[r]]);return l}function rp(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],s=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(i){return this instanceof _e?(this.v=i,this):new _e(i)}function yn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),x("next"),x("throw"),x("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(_){return function(N){return Promise.resolve(N).then(_,S)}}function x(_,N){s[_]&&(r[_]=function(k){return new Promise(function(M,P){d.push([_,k,M,P])>1||v(_,k)})},N&&(r[_]=N(r[_])))}function v(_,N){try{g(s[_](N))}catch(k){T(d[0][3],k)}}function g(_){_.value instanceof _e?Promise.resolve(_.value.v).then(y,S):T(d[0][2],_)}function y(_){v("next",_)}function S(_){v("throw",_)}function T(_,N){_(N),d.shift(),d.length&&v(d[0][0],d[0][1])}}function bn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof rp=="function"?rp(i):i[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(d){l[d]=i[d]&&function(h){return new Promise(function(x,v){h=i[d](h),r(x,v,h.done,h.value)})}}function r(d,h,x,v){Promise.resolve(v).then(function(g){d({value:g,done:x})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:sg(l)}function sg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function FS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function up(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let s=0;for(;s<l;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let d=!0;for(;s<l&&i[s].role==="model";)r.push(i[s]),d&&!sg(i[s])&&(d=!1),s++;d?t.push(...r):t.pop()}return t}class KS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new JS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class JS{constructor(t,l,s,r={},d=[]){this.apiClient=t,this.modelsModule=l,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),FS(d)}async sendMessage(t){var l;await this.sendPromise;const s=_t(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,h,x;const v=await r,g=(h=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content,y=v.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let T=[];y!=null&&(T=(x=y.slice(S))!==null&&x!==void 0?x:[]);const _=g?[g]:[];this.recordHistory(s,_,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const s=_t(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(t=!1){const l=t?up(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return yn(this,arguments,function*(){var r,d,h,x,v,g;const y=[];try{for(var S=!0,T=bn(t),_;_=yield _e(T.next()),r=_.done,!r;S=!0){x=_.value,S=!1;const N=x;if(OS(N)){const k=(g=(v=N.candidates)===null||v===void 0?void 0:v[0])===null||g===void 0?void 0:g.content;k!==void 0&&y.push(k)}yield yield _e(N)}}catch(N){d={error:N}}finally{try{!S&&!r&&(h=T.return)&&(yield _e(h.call(T)))}finally{if(d)throw d.error}}this.recordHistory(l,y)})}recordHistory(t,l,s){let r=[];l.length>0&&l.every(d=>d.role!==void 0)?r=l:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...up(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Co extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Co.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function $S(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function XS(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Wp(l)),t}function QS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function ZS(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Wp(l)),t}function WS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function eT(i){const t={},l=u(i,["config"]);return l!=null&&WS(l,t),t}function tT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nT extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=eT(t);return d=oe("files",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=tT(v),y=new sb;return Object.assign(y,g),y})}}async createInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=YS(t);return d=oe("upload/v1beta/files",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=$S(v),y=new ob;return Object.assign(y,g),y})}}async get(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=ZS(t);return d=oe("files/{file}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=XS(t);return d=oe("files/{file}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=QS(v),y=new rb;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xo(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function iT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>yT(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function lT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function aT(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sT(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&f(t,["response"],h);const x=u(i,["responseJsonSchema"]);if(x!=null&&f(t,["responseJsonSchema"],x),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function oT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const s=u(i,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&f(t,["candidateCount"],d);const h=u(i,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const x=u(i,["frequencyPenalty"]);x!=null&&f(t,["frequencyPenalty"],x);const v=u(i,["logprobs"]);v!=null&&f(t,["logprobs"],v);const g=u(i,["maxOutputTokens"]);g!=null&&f(t,["maxOutputTokens"],g);const y=u(i,["mediaResolution"]);y!=null&&f(t,["mediaResolution"],y);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const T=u(i,["responseLogprobs"]);T!=null&&f(t,["responseLogprobs"],T);const _=u(i,["responseMimeType"]);_!=null&&f(t,["responseMimeType"],_);const N=u(i,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const k=u(i,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const M=u(i,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const P=u(i,["seed"]);P!=null&&f(t,["seed"],P);const X=u(i,["speechConfig"]);X!=null&&f(t,["speechConfig"],X);const j=u(i,["stopSequences"]);j!=null&&f(t,["stopSequences"],j);const Z=u(i,["temperature"]);Z!=null&&f(t,["temperature"],Z);const ne=u(i,["thinkingConfig"]);ne!=null&&f(t,["thinkingConfig"],ne);const se=u(i,["topK"]);se!=null&&f(t,["topK"],se);const Y=u(i,["topP"]);if(Y!=null&&f(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function rT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function uT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function cT(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const x=u(i,["topK"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","topK"],x);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Hc(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],_);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],iT(_t(N)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let se=Vl(k);Array.isArray(se)&&(se=se.map(Y=>ST(jl(Y)))),f(t,["setup","tools"],se)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],bT(M));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&f(t,["setup","realtimeInputConfig"],j);const Z=u(i,["contextWindowCompression"]);t!==void 0&&Z!=null&&f(t,["setup","contextWindowCompression"],Z);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&f(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function dT(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],oT(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const x=u(i,["topK"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","topK"],x);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Hc(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],_);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],_t(N));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let Y=Vl(k);Array.isArray(Y)&&(Y=Y.map(pe=>TT(jl(pe)))),f(t,["setup","tools"],Y)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],M);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&f(t,["setup","realtimeInputConfig"],j);const Z=u(i,["contextWindowCompression"]);t!==void 0&&Z!=null&&f(t,["setup","contextWindowCompression"],Z);const ne=u(i,["proactivity"]);t!==void 0&&ne!=null&&f(t,["setup","proactivity"],ne);const se=u(i,["explicitVadSignal"]);return t!==void 0&&se!=null&&f(t,["setup","explicitVadSignal"],se),l}function fT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],je(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],cT(r,l)),l}function mT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],je(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],dT(r,l)),l}function hT(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function pT(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["weightedPrompts"],s)}return t}function gT(i){const t={},l=u(i,["media"]);if(l!=null){let g=Yp(l);Array.isArray(g)&&(g=g.map(y=>xo(y))),f(t,["mediaChunks"],g)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],xo(Xp(s)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&f(t,["video"],xo($p(d)));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["activityStart"]);x!=null&&f(t,["activityStart"],x);const v=u(i,["activityEnd"]);return v!=null&&f(t,["activityEnd"],v),t}function xT(i){const t={},l=u(i,["media"]);if(l!=null){let g=Yp(l);Array.isArray(g)&&(g=g.map(y=>y)),f(t,["mediaChunks"],g)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],Xp(s));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&f(t,["video"],$p(d));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["activityStart"]);x!=null&&f(t,["activityStart"],x);const v=u(i,["activityEnd"]);return v!=null&&f(t,["activityEnd"],v),t}function vT(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const s=u(i,["serverContent"]);s!=null&&f(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&f(t,["toolCallCancellation"],d);const h=u(i,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],ET(h));const x=u(i,["goAway"]);x!=null&&f(t,["goAway"],x);const v=u(i,["sessionResumptionUpdate"]);v!=null&&f(t,["sessionResumptionUpdate"],v);const g=u(i,["voiceActivityDetectionSignal"]);return g!=null&&f(t,["voiceActivityDetectionSignal"],g),t}function yT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],lT(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],aT(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],xo(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function bT(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ST(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],rT(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],uT(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function TT(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&f(t,["enterpriseWebSearch"],d);const h=u(i,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>sT(T))),f(t,["functionDeclarations"],S)}const x=u(i,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function ET(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const s=u(i,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&f(t,["toolUsePromptTokenCount"],d);const h=u(i,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const x=u(i,["totalTokenCount"]);x!=null&&f(t,["totalTokenCount"],x);const v=u(i,["promptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(N=>N)),f(t,["promptTokensDetails"],_)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(N=>N)),f(t,["cacheTokensDetails"],_)}const y=u(i,["candidatesTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(N=>N)),f(t,["responseTokensDetails"],_)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(N=>N)),f(t,["toolUsePromptTokensDetails"],_)}const T=u(i,["trafficType"]);return T!=null&&f(t,["trafficType"],T),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NT(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function _T(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const s=u(i,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],AT(s));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&f(t,["finishReason"],d);const h=u(i,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const x=u(i,["groundingMetadata"]);x!=null&&f(t,["groundingMetadata"],x);const v=u(i,["index"]);v!=null&&f(t,["index"],v);const g=u(i,["logprobsResult"]);g!=null&&f(t,["logprobsResult"],g);const y=u(i,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(_=>_)),f(t,["safetyRatings"],T)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function AT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["citations"],s)}return t}function CT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let d=cn(r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["contents"],d)}return l}function kT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),f(t,["tokensInfo"],r)}return t}function wT(i){const t={},l=u(i,["values"]);l!=null&&f(t,["values"],l);const s=u(i,["statistics"]);return s!=null&&f(t,["statistics"],MT(s)),t}function MT(i){const t={},l=u(i,["truncated"]);l!=null&&f(t,["truncated"],l);const s=u(i,["token_count"]);return s!=null&&f(t,["tokenCount"],s),t}function ko(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>zE(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function RT(i){const t={},l=u(i,["controlType"]);l!=null&&f(t,["controlType"],l);const s=u(i,["enableControlImageComputation"]);return s!=null&&f(t,["computeControl"],s),t}function IT(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function DT(i,t){const l={},s=u(i,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],_t(s));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(x=>cg(x))),f(t,["tools"],h)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&f(t,["generationConfig"],NE(d)),l}function UT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>ko(x))),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&IT(d),l}function LT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>x)),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&DT(d,l),l}function GT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["totalTokens"]);s!=null&&f(t,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function PT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["totalTokens"]);return s!=null&&f(t,["totalTokens"],s),t}function HT(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],je(i,s)),l}function zT(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],je(i,s)),l}function BT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function qT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function jT(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const x=u(i,["guidanceScale"]);t!==void 0&&x!=null&&f(t,["parameters","guidanceScale"],x);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["parameters","seed"],v);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&f(t,["parameters","includeRaiReason"],T);const _=u(i,["language"]);t!==void 0&&_!=null&&f(t,["parameters","language"],_);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const P=u(i,["labels"]);t!==void 0&&P!=null&&f(t,["labels"],P);const X=u(i,["editMode"]);t!==void 0&&X!=null&&f(t,["parameters","editMode"],X);const j=u(i,["baseSteps"]);return t!==void 0&&j!=null&&f(t,["parameters","editConfig","baseSteps"],j),l}function VT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(v=>FE(v))),f(l,["instances[0]","referenceImages"],x)}const h=u(t,["config"]);return h!=null&&jT(h,l),l}function OT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>wo(d))),f(t,["generatedImages"],r)}return t}function FT(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function KT(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["instances[]","task_type"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&f(t,["parameters","outputDimensionality"],d);const h=u(i,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const x=u(i,["autoTruncate"]);return t!==void 0&&x!=null&&f(t,["parameters","autoTruncate"],x),l}function JT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let x=Lc(i,r);Array.isArray(x)&&(x=x.map(v=>v)),f(l,["requests[]","content"],x)}const d=u(t,["config"]);d!=null&&FT(d,l);const h=u(t,["model"]);return h!==void 0&&f(l,["requests[]","model"],je(i,h)),l}function YT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let h=Lc(i,r);Array.isArray(h)&&(h=h.map(x=>x)),f(l,["instances[]","content"],h)}const d=u(t,["config"]);return d!=null&&KT(d,l),l}function $T(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function XT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>wT(h))),f(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function QT(i){const t={},l=u(i,["endpoint"]);l!=null&&f(t,["name"],l);const s=u(i,["deployedModelId"]);return s!=null&&f(t,["deployedModelId"],s),t}function ZT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function WT(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eE(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tE(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&f(t,["response"],h);const x=u(i,["responseJsonSchema"]);if(x!=null&&f(t,["responseJsonSchema"],x),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function nE(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],ko(_t(r)));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const x=u(t,["topK"]);x!=null&&f(s,["topK"],x);const v=u(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const g=u(t,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const y=u(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const T=u(t,["logprobs"]);T!=null&&f(s,["logprobs"],T);const _=u(t,["presencePenalty"]);_!=null&&f(s,["presencePenalty"],_);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=u(t,["seed"]);k!=null&&f(s,["seed"],k);const M=u(t,["responseMimeType"]);M!=null&&f(s,["responseMimeType"],M);const P=u(t,["responseSchema"]);P!=null&&f(s,["responseSchema"],Gc(P));const X=u(t,["responseJsonSchema"]);if(X!=null&&f(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(l!==void 0&&j!=null){let ge=j;Array.isArray(ge)&&(ge=ge.map(we=>KE(we))),f(l,["safetySettings"],ge)}const Z=u(t,["tools"]);if(l!==void 0&&Z!=null){let ge=Vl(Z);Array.isArray(ge)&&(ge=ge.map(we=>WE(jl(we)))),f(l,["tools"],ge)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&f(l,["toolConfig"],ZE(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=u(t,["cachedContent"]);l!==void 0&&se!=null&&f(l,["cachedContent"],Yn(i,se));const Y=u(t,["responseModalities"]);Y!=null&&f(s,["responseModalities"],Y);const pe=u(t,["mediaResolution"]);pe!=null&&f(s,["mediaResolution"],pe);const te=u(t,["speechConfig"]);if(te!=null&&f(s,["speechConfig"],Pc(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(t,["thinkingConfig"]);ee!=null&&f(s,["thinkingConfig"],ee);const me=u(t,["imageConfig"]);me!=null&&f(s,["imageConfig"],wE(me));const Ee=u(t,["enableEnhancedCivicAnswers"]);return Ee!=null&&f(s,["enableEnhancedCivicAnswers"],Ee),s}function iE(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],_t(r));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const x=u(t,["topK"]);x!=null&&f(s,["topK"],x);const v=u(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const g=u(t,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const y=u(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const T=u(t,["logprobs"]);T!=null&&f(s,["logprobs"],T);const _=u(t,["presencePenalty"]);_!=null&&f(s,["presencePenalty"],_);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=u(t,["seed"]);k!=null&&f(s,["seed"],k);const M=u(t,["responseMimeType"]);M!=null&&f(s,["responseMimeType"],M);const P=u(t,["responseSchema"]);P!=null&&f(s,["responseSchema"],Gc(P));const X=u(t,["responseJsonSchema"]);X!=null&&f(s,["responseJsonSchema"],X);const j=u(t,["routingConfig"]);j!=null&&f(s,["routingConfig"],j);const Z=u(t,["modelSelectionConfig"]);Z!=null&&f(s,["modelConfig"],Z);const ne=u(t,["safetySettings"]);if(l!==void 0&&ne!=null){let L=ne;Array.isArray(L)&&(L=L.map($=>$)),f(l,["safetySettings"],L)}const se=u(t,["tools"]);if(l!==void 0&&se!=null){let L=Vl(se);Array.isArray(L)&&(L=L.map($=>cg(jl($)))),f(l,["tools"],L)}const Y=u(t,["toolConfig"]);l!==void 0&&Y!=null&&f(l,["toolConfig"],Y);const pe=u(t,["labels"]);l!==void 0&&pe!=null&&f(l,["labels"],pe);const te=u(t,["cachedContent"]);l!==void 0&&te!=null&&f(l,["cachedContent"],Yn(i,te));const ee=u(t,["responseModalities"]);ee!=null&&f(s,["responseModalities"],ee);const me=u(t,["mediaResolution"]);me!=null&&f(s,["mediaResolution"],me);const Ee=u(t,["speechConfig"]);Ee!=null&&f(s,["speechConfig"],Pc(Ee));const ge=u(t,["audioTimestamp"]);ge!=null&&f(s,["audioTimestamp"],ge);const we=u(t,["thinkingConfig"]);we!=null&&f(s,["thinkingConfig"],we);const ze=u(t,["imageConfig"]);if(ze!=null&&f(s,["imageConfig"],ME(ze)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function cp(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>ko(x))),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&f(l,["generationConfig"],nE(i,d,l)),l}function dp(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>x)),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&f(l,["generationConfig"],iE(i,d,l)),l}function fp(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>_T(g))),f(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&f(t,["responseId"],h);const x=u(i,["usageMetadata"]);return x!=null&&f(t,["usageMetadata"],x),t}function mp(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["candidates"],g)}const r=u(i,["createTime"]);r!=null&&f(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&f(t,["modelVersion"],d);const h=u(i,["promptFeedback"]);h!=null&&f(t,["promptFeedback"],h);const x=u(i,["responseId"]);x!=null&&f(t,["responseId"],x);const v=u(i,["usageMetadata"]);return v!=null&&f(t,["usageMetadata"],v),t}function lE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&f(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const v=u(i,["includeSafetyAttributes"]);t!==void 0&&v!=null&&f(t,["parameters","includeSafetyAttributes"],v);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const y=u(i,["language"]);t!==void 0&&y!=null&&f(t,["parameters","language"],y);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const T=u(i,["outputCompressionQuality"]);if(t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(i,["imageSize"]);if(t!==void 0&&_!=null&&f(t,["parameters","sampleImageSize"],_),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function aE(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const x=u(i,["guidanceScale"]);t!==void 0&&x!=null&&f(t,["parameters","guidanceScale"],x);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["parameters","seed"],v);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&f(t,["parameters","includeRaiReason"],T);const _=u(i,["language"]);t!==void 0&&_!=null&&f(t,["parameters","language"],_);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const P=u(i,["labels"]);t!==void 0&&P!=null&&f(t,["labels"],P);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&f(t,["parameters","sampleImageSize"],X);const j=u(i,["enhancePrompt"]);return t!==void 0&&j!=null&&f(t,["parameters","enhancePrompt"],j),l}function sE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&lE(d,l),l}function oE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&aE(d,l),l}function rE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>bE(h))),f(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],rg(r)),t}function uE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>wo(h))),f(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],ug(r)),t}function cE(i,t){const l={},s=u(i,["numberOfVideos"]);if(t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=u(i,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const x=u(i,["personGeneration"]);if(t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=u(i,["negativePrompt"]);t!==void 0&&v!=null&&f(t,["parameters","negativePrompt"],v);const g=u(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&f(t,["parameters","enhancePrompt"],g),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=u(i,["lastFrame"]);t!==void 0&&y!=null&&f(t,["instances[0]","lastFrame"],Mo(y));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let T=S;Array.isArray(T)&&(T=T.map(_=>fN(_))),f(t,["instances[0]","referenceImages"],T)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function dE(i,t){const l={},s=u(i,["numberOfVideos"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&f(t,["parameters","fps"],d);const h=u(i,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["parameters","seed"],x);const v=u(i,["aspectRatio"]);t!==void 0&&v!=null&&f(t,["parameters","aspectRatio"],v);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&f(t,["parameters","pubsubTopic"],S);const T=u(i,["negativePrompt"]);t!==void 0&&T!=null&&f(t,["parameters","negativePrompt"],T);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&f(t,["parameters","enhancePrompt"],_);const N=u(i,["generateAudio"]);t!==void 0&&N!=null&&f(t,["parameters","generateAudio"],N);const k=u(i,["lastFrame"]);t!==void 0&&k!=null&&f(t,["instances[0]","lastFrame"],Sn(k));const M=u(i,["referenceImages"]);if(t!==void 0&&M!=null){let j=M;Array.isArray(j)&&(j=j.map(Z=>mN(Z))),f(t,["instances[0]","referenceImages"],j)}const P=u(i,["mask"]);t!==void 0&&P!=null&&f(t,["instances[0]","mask"],dN(P));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&f(t,["parameters","compressionQuality"],X),l}function fE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],gE(h)),t}function mE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],xE(h)),t}function hE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&f(l,["instances[0]","image"],Mo(d));const h=u(t,["video"]);h!=null&&f(l,["instances[0]","video"],dg(h));const x=u(t,["source"]);x!=null&&vE(x,l);const v=u(t,["config"]);return v!=null&&cE(v,l),l}function pE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&f(l,["instances[0]","image"],Sn(d));const h=u(t,["video"]);h!=null&&f(l,["instances[0]","video"],fg(h));const x=u(t,["source"]);x!=null&&yE(x,l);const v=u(t,["config"]);return v!=null&&dE(v,l),l}function gE(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>TE(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function xE(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>EE(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function vE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Mo(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],dg(d)),l}function yE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Sn(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],fg(d)),l}function bE(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],RE(l));const s=u(i,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&f(t,["safetyAttributes"],rg(r)),t}function wo(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],og(l));const s=u(i,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&f(t,["safetyAttributes"],ug(r));const d=u(i,["prompt"]);return d!=null&&f(t,["enhancedPrompt"],d),t}function SE(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["mask"],og(l));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),f(t,["labels"],r)}return t}function TE(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],uN(l)),t}function EE(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],cN(l)),t}function NE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const s=u(i,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&f(t,["candidateCount"],d);const h=u(i,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const x=u(i,["frequencyPenalty"]);x!=null&&f(t,["frequencyPenalty"],x);const v=u(i,["logprobs"]);v!=null&&f(t,["logprobs"],v);const g=u(i,["maxOutputTokens"]);g!=null&&f(t,["maxOutputTokens"],g);const y=u(i,["mediaResolution"]);y!=null&&f(t,["mediaResolution"],y);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const T=u(i,["responseLogprobs"]);T!=null&&f(t,["responseLogprobs"],T);const _=u(i,["responseMimeType"]);_!=null&&f(t,["responseMimeType"],_);const N=u(i,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const k=u(i,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const M=u(i,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const P=u(i,["seed"]);P!=null&&f(t,["seed"],P);const X=u(i,["speechConfig"]);X!=null&&f(t,["speechConfig"],X);const j=u(i,["stopSequences"]);j!=null&&f(t,["stopSequences"],j);const Z=u(i,["temperature"]);Z!=null&&f(t,["temperature"],Z);const ne=u(i,["thinkingConfig"]);ne!=null&&f(t,["thinkingConfig"],ne);const se=u(i,["topK"]);se!=null&&f(t,["topK"],se);const Y=u(i,["topP"]);if(Y!=null&&f(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function _E(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],je(i,s)),l}function AE(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],je(i,s)),l}function CE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function kE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function wE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const s=u(i,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ME(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const s=u(i,["imageSize"]);s!=null&&f(t,["imageSize"],s);const r=u(i,["personGeneration"]);r!=null&&f(t,["personGeneration"],r);const d=u(i,["outputMimeType"]);d!=null&&f(t,["imageOutputOptions","mimeType"],d);const h=u(i,["outputCompressionQuality"]);return h!=null&&f(t,["imageOutputOptions","compressionQuality"],h),t}function RE(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],Ei(l));const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function og(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["imageBytes"],Ei(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Mo(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],Ei(l));const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Sn(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const s=u(i,["imageBytes"]);s!=null&&f(t,["bytesBase64Encoded"],Ei(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function IE(i,t,l){const s={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&f(l,["_query","pageToken"],d);const h=u(t,["filter"]);l!==void 0&&h!=null&&f(l,["_query","filter"],h);const x=u(t,["queryBase"]);return l!==void 0&&x!=null&&f(l,["_url","models_url"],eg(i,x)),s}function DE(i,t,l){const s={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&f(l,["_query","pageToken"],d);const h=u(t,["filter"]);l!==void 0&&h!=null&&f(l,["_query","filter"],h);const x=u(t,["queryBase"]);return l!==void 0&&x!=null&&f(l,["_url","models_url"],eg(i,x)),s}function UE(i,t){const l={},s=u(t,["config"]);return s!=null&&IE(i,s,l),l}function LE(i,t){const l={},s=u(t,["config"]);return s!=null&&DE(i,s,l),l}function GE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=tg(r);Array.isArray(d)&&(d=d.map(h=>xc(h))),f(t,["models"],d)}return t}function PE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=tg(r);Array.isArray(d)&&(d=d.map(h=>vc(h))),f(t,["models"],d)}return t}function HE(i){const t={},l=u(i,["maskMode"]);l!=null&&f(t,["maskMode"],l);const s=u(i,["segmentationClasses"]);s!=null&&f(t,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function xc(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const d=u(i,["version"]);d!=null&&f(t,["version"],d);const h=u(i,["_self"]);h!=null&&f(t,["tunedModelInfo"],eN(h));const x=u(i,["inputTokenLimit"]);x!=null&&f(t,["inputTokenLimit"],x);const v=u(i,["outputTokenLimit"]);v!=null&&f(t,["outputTokenLimit"],v);const g=u(i,["supportedGenerationMethods"]);g!=null&&f(t,["supportedActions"],g);const y=u(i,["temperature"]);y!=null&&f(t,["temperature"],y);const S=u(i,["maxTemperature"]);S!=null&&f(t,["maxTemperature"],S);const T=u(i,["topP"]);T!=null&&f(t,["topP"],T);const _=u(i,["topK"]);_!=null&&f(t,["topK"],_);const N=u(i,["thinking"]);return N!=null&&f(t,["thinking"],N),t}function vc(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const d=u(i,["versionId"]);d!=null&&f(t,["version"],d);const h=u(i,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>QT(T))),f(t,["endpoints"],S)}const x=u(i,["labels"]);x!=null&&f(t,["labels"],x);const v=u(i,["_self"]);v!=null&&f(t,["tunedModelInfo"],tN(v));const g=u(i,["defaultCheckpointId"]);g!=null&&f(t,["defaultCheckpointId"],g);const y=u(i,["checkpoints"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(T=>T)),f(t,["checkpoints"],S)}return t}function zE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],ZT(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],WT(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],NT(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function BE(i){const t={},l=u(i,["productImage"]);return l!=null&&f(t,["image"],Sn(l)),t}function qE(i,t){const l={},s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&f(t,["parameters","storageUri"],d);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&f(t,["parameters","safetySetting"],x);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const g=u(i,["addWatermark"]);t!==void 0&&g!=null&&f(t,["parameters","addWatermark"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S);const T=u(i,["enhancePrompt"]);t!==void 0&&T!=null&&f(t,["parameters","enhancePrompt"],T);const _=u(i,["labels"]);return t!==void 0&&_!=null&&f(t,["labels"],_),l}function jE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["source"]);r!=null&&OE(r,l);const d=u(t,["config"]);return d!=null&&qE(d,l),l}function VE(i){const t={},l=u(i,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>wo(r))),f(t,["generatedImages"],s)}return t}function OE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],Sn(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>BE(x))),f(t,["instances[0]","productImages"],h)}return l}function FE(i){const t={},l=u(i,["referenceImage"]);l!=null&&f(t,["referenceImage"],Sn(l));const s=u(i,["referenceId"]);s!=null&&f(t,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&f(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&f(t,["maskImageConfig"],HE(d));const h=u(i,["controlImageConfig"]);h!=null&&f(t,["controlImageConfig"],RT(h));const x=u(i,["styleImageConfig"]);x!=null&&f(t,["styleImageConfig"],x);const v=u(i,["subjectImageConfig"]);return v!=null&&f(t,["subjectImageConfig"],v),t}function rg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const s=u(i,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function ug(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const s=u(i,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function KE(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function JE(i){const t={},l=u(i,["image"]);return l!=null&&f(t,["image"],Sn(l)),t}function YE(i,t){const l={},s=u(i,["mode"]);t!==void 0&&s!=null&&f(t,["parameters","mode"],s);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&f(t,["parameters","confidenceThreshold"],d);const h=u(i,["maskDilation"]);t!==void 0&&h!=null&&f(t,["parameters","maskDilation"],h);const x=u(i,["binaryColorThreshold"]);t!==void 0&&x!=null&&f(t,["parameters","binaryColorThreshold"],x);const v=u(i,["labels"]);return t!==void 0&&v!=null&&f(t,["labels"],v),l}function $E(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["source"]);r!=null&&QE(r,l);const d=u(t,["config"]);return d!=null&&YE(d,l),l}function XE(i){const t={},l=u(i,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>SE(r))),f(t,["generatedMasks"],s)}return t}function QE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Sn(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&f(t,["instances[0]","scribble"],JE(d)),l}function ZE(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],eE(s)),t}function WE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],CE(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],kE(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function cg(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&f(t,["enterpriseWebSearch"],d);const h=u(i,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>tE(T))),f(t,["functionDeclarations"],S)}const x=u(i,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function eN(i){const t={},l=u(i,["baseModel"]);l!=null&&f(t,["baseModel"],l);const s=u(i,["createTime"]);s!=null&&f(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function tN(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const s=u(i,["createTime"]);s!=null&&f(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function nN(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),l}function iN(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),l}function lN(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","name"],je(i,s));const r=u(t,["config"]);return r!=null&&nN(r,l),l}function aN(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["config"]);return r!=null&&iN(r,l),l}function sN(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","mimeType"],x);const v=u(i,["outputCompressionQuality"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","compressionQuality"],v);const g=u(i,["enhanceInputImage"]);t!==void 0&&g!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],g);const y=u(i,["imagePreservationFactor"]);t!==void 0&&y!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const S=u(i,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const T=u(i,["numberOfImages"]);t!==void 0&&T!=null&&f(t,["parameters","sampleCount"],T);const _=u(i,["mode"]);return t!==void 0&&_!=null&&f(t,["parameters","mode"],_),l}function oN(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],je(i,s));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],Sn(r));const d=u(t,["upscaleFactor"]);d!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],d);const h=u(t,["config"]);return h!=null&&sN(h,l),l}function rN(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>wo(d))),f(t,["generatedImages"],r)}return t}function uN(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const s=u(i,["encodedVideo"]);s!=null&&f(t,["videoBytes"],Ei(s));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function cN(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],Ei(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function dN(i){const t={},l=u(i,["image"]);l!=null&&f(t,["_self"],Sn(l));const s=u(i,["maskMode"]);return s!=null&&f(t,["maskMode"],s),t}function fN(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Mo(l));const s=u(i,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function mN(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Sn(l));const s=u(i,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function dg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const s=u(i,["videoBytes"]);s!=null&&f(t,["encodedVideo"],Ei(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function fg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["gcsUri"],l);const s=u(i,["videoBytes"]);s!=null&&f(t,["bytesBase64Encoded"],Ei(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hN(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["displayName"],s),l}function pN(i){const t={},l=u(i,["config"]);return l!=null&&hN(l,t),t}function gN(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),l}function xN(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&gN(s,t),t}function vN(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function yN(i,t){const l={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function bN(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],TN(h)),t}function SN(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const s=u(i,["fileName"]);s!=null&&f(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&yN(r,t),t}function TN(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function EN(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function NN(i){const t={},l=u(i,["config"]);return l!=null&&EN(l,t),t}function _N(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["fileSearchStores"],d)}return t}function mg(i,t){const l={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&f(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let x=d;Array.isArray(x)&&(x=x.map(v=>v)),f(t,["customMetadata"],x)}const h=u(i,["chunkingConfig"]);return t!==void 0&&h!=null&&f(t,["chunkingConfig"],h),l}function AN(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const s=u(i,["config"]);return s!=null&&mg(s,t),t}function CN(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kN="Content-Type",wN="X-Server-Timeout",MN="User-Agent",yc="x-goog-api-client",RN="1.35.0",IN=`google-genai-sdk/${RN}`,DN="v1beta1",UN="v1beta";class LN{constructor(t){var l,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:DN,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:UN,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,s){const r=[this.getRequestUrlInternal(l)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,s);if(t.queryParams)for(const[h,x]of Object.entries(t.queryParams))r.searchParams.append(h,String(x));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,l){const s=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(l))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,s,r){if(l&&l.timeout||r){const d=new AbortController,h=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const x=setTimeout(()=>d.abort(),l.timeout);x&&typeof x.unref=="function"&&x.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=h}return l&&l.extraBody!==null&&GN(t,l.extraBody),t.headers=await this.getHeadersInternal(l,s),t}async unaryApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await hp(r),new hc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await hp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return yn(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";const x="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:y}=yield _e(r.read());if(g){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=d.decode(y,{stream:!0});try{const N=JSON.parse(S);if("error"in N){const k=JSON.parse(JSON.stringify(N.error)),M=k.status,P=k.code,X=`got status: ${M}. ${JSON.stringify(N)}`;if(P>=400&&P<600)throw new Co({message:X,status:P})}}catch(N){if(N.name==="ApiError")throw N}h+=S;let T=-1,_=0;for(;;){T=-1,_=0;for(const M of v){const P=h.indexOf(M);P!==-1&&(T===-1||P<T)&&(T=P,_=M.length)}if(T===-1)break;const N=h.substring(0,T);h=h.substring(T+_);const k=N.trim();if(k.startsWith(x)){const M=k.substring(x.length).trim();try{const P=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield _e(new hc(P))}catch(P){throw new Error(`exception parsing stream chunk ${M}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},l=IN+" "+this.clientOptions.userAgentExtra;return t[MN]=l,t[yc]=l,t[kN]="application/json",t}async getHeadersInternal(t,l){const s=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))s.append(r,d);t.timeout&&t.timeout>0&&s.append(wN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,l),s}getFileName(t){var l;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(l=s.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),s}async uploadFile(t,l){var s;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,h=await d.stat(t);r.sizeBytes=String(h.size);const x=(s=l==null?void 0:l.mimeType)!==null&&s!==void 0?s:h.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=x;const v={file:r},g=this.getFileName(t),y=oe("upload/v1beta/files",v._url),S=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,g,v,l==null?void 0:l.httpOptions);return d.upload(t,S,this)}async uploadFileToFileSearchStore(t,l,s){var r;const d=this.clientOptions.uploader,h=await d.stat(l),x=String(h.size),v=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:h.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(l),S={};s!=null&&mg(s,S);const T=await this.fetchUploadUrl(g,x,v,y,S,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(l,T,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,s,r,d,h){var x;let v={};h?v=h:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(x=g==null?void 0:g.headers)===null||x===void 0?void 0:x["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function hp(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw l>=400&&l<600?new Co({message:r,status:l}):new Error(r)}}function GN(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,h){const x=Object.assign({},d);for(const v in h)if(Object.prototype.hasOwnProperty.call(h,v)){const g=h[v],y=x[v];g&&typeof g=="object"&&!Array.isArray(g)&&y&&typeof y=="object"&&!Array.isArray(y)?x[v]=s(y,g):(y&&g&&typeof y!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof g}. Overwriting.`),x[v]=g)}return x}const r=s(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PN="mcp_used/unknown";let HN=!1;function hg(i){for(const t of i)if(zN(t)||typeof t=="object"&&"inputSchema"in t)return!0;return HN}function pg(i){var t;const l=(t=i[yc])!==null&&t!==void 0?t:"";i[yc]=(l+` ${PN}`).trimStart()}function zN(i){return i!==null&&typeof i=="object"&&i instanceof zc}function BN(i){return yn(this,arguments,function*(l,s=100){let r,d=0;for(;d<s;){const h=yield _e(l.listTools({cursor:r}));for(const x of h.tools)yield yield _e(x),d++;if(!h.nextCursor)break;r=h.nextCursor}})}class zc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new zc(t,l)}async initialize(){var t,l,s,r;if(this.mcpTools.length>0)return;const d={},h=[];for(const y of this.mcpClients)try{for(var x=!0,v=(l=void 0,bn(BN(y))),g;g=await v.next(),t=g.done,!t;x=!0){r=g.value,x=!1;const S=r;h.push(S);const T=S.name;if(d[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);d[T]=y}}catch(S){l={error:S}}finally{try{!x&&!t&&(s=v.return)&&await s.call(v)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),vb(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const h=await r.callTool({name:s.name,arguments:s.args},void 0,d);l.push({functionResponse:{name:s.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qN(i,t,l){const s=new cb;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(s,r),t(s)}class jN{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s}async connect(t){var l,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),h=FN(this.apiClient.getDefaultHeaders()),x=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${x}`;let g=()=>{};const y=new Promise(j=>{g=j}),S=t.callbacks,T=function(){g({})},_=this.apiClient,N={onopen:T,onmessage:j=>{qN(_,S.onmessage,j)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(j){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(j){}},k=this.webSocketFactory.create(v,ON(h),N);k.connect(),await y;const X={setup:{model:je(this.apiClient,t.model)}};return k.send(JSON.stringify(X)),new VN(k,this.apiClient)}}class VN{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=pT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=hT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Ll.PLAY)}pause(){this.sendPlaybackControl(Ll.PAUSE)}stop(){this.sendPlaybackControl(Ll.STOP)}resetContext(){this.sendPlaybackControl(Ll.RESET_CONTEXT)}close(){this.conn.close()}}function ON(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function FN(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function JN(i,t,l){const s=new ub;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const d=JSON.parse(r);if(i.isVertexAI()){const h=vT(d);Object.assign(s,h)}else Object.assign(s,d);t(s)}class YN{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s,this.music=new jN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,s,r,d,h,x;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let y;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&hg(t.config.tools)&&pg(S);const T=ZN(S);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,y);else{const te=this.apiClient.getApiKey();let ee="BidiGenerateContent",me="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",me="access_token"),y=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ee}?${me}=${te}`}let _=()=>{};const N=new Promise(te=>{_=te}),k=t.callbacks,M=function(){var te;(te=k==null?void 0:k.onopen)===null||te===void 0||te.call(k),_({})},P=this.apiClient,X={onopen:M,onmessage:te=>{JN(P,k.onmessage,te)},onerror:(l=k==null?void 0:k.onerror)!==null&&l!==void 0?l:function(te){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(te){}},j=this.webSocketFactory.create(y,QN(T),X);j.connect(),await N;let Z=je(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const te=this.apiClient.getProject(),ee=this.apiClient.getLocation();Z=`projects/${te}/locations/${ee}/`+Z}let ne={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[yo.AUDIO]}:t.config.responseModalities=[yo.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(x=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&x!==void 0?x:[],Y=[];for(const te of se)if(this.isCallableTool(te)){const ee=te;Y.push(await ee.tool())}else Y.push(te);Y.length>0&&(t.config.tools=Y);const pe={model:Z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ne=mT(this.apiClient,pe):ne=fT(this.apiClient,pe),delete ne.config,j.send(JSON.stringify(ne)),new XN(j,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const $N={turnComplete:!0};class XN{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let s=[];try{s=cn(l.turns),t.isVertexAI()||(s=s.map(r=>ko(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:s,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let s=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?s=l.functionResponses:s=[l.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(KN)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},$N),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:xT(t)}:l={realtimeInput:gT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function QN(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function ZN(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pp=10;function gp(i){var t,l,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const h of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Hl(h)){r=!0;break}if(!r)return!0;const d=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Hl(i){return"callTool"in i&&typeof i.callTool=="function"}function WN(i){var t,l,s;return(s=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Hl(r)))!==null&&s!==void 0?s:!1}function xp(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(Hl(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(r)}),l}function vp(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e1 extends Jn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var s,r,d,h,x;const v=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!WN(l)||gp(l.config))return await this.generateContentInternal(v);const g=xp(l);if(g.length>0){const k=g.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let y,S;const T=cn(v.contents),_=(d=(r=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:pp;let N=0;for(;N<_&&(y=await this.generateContentInternal(v),!(!y.functionCalls||y.functionCalls.length===0));){const k=y.candidates[0].content,M=[];for(const P of(x=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&x!==void 0?x:[])if(Hl(P)){const j=await P.callTool(y.functionCalls);M.push(...j)}N++,S={role:"user",parts:M},v.contents=cn(v.contents),v.contents.push(k),v.contents.push(S),vp(v.config)&&(T.push(k),T.push(S))}return vp(v.config)&&(y.automaticFunctionCallingHistory=T),y},this.generateContentStream=async l=>{var s,r,d,h,x;if(this.maybeMoveToResponseJsonSchem(l),gp(l.config)){const S=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(S)}const v=xp(l);if(v.length>0){const S=v.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(d=(r=(s=l==null?void 0:l.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,y=(x=(h=l==null?void 0:l.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||x===void 0?void 0:x.disable;if(g&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(s=>{var r;let d;const h=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:h.push(v);let x;return d?x={generatedImages:h,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:x={generatedImages:h,sdkHttpResponse:s.sdkHttpResponse},x}),this.list=async l=>{var s;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((s=h.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Ji(Kn.PAGED_ITEM_MODELS,x=>this.listInternal(x),await this.listInternal(h),h)},this.editImage=async l=>{const s={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(s.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async l=>{let s={numberOfImages:1,mode:"upscale"};l.config&&(s=Object.assign(Object.assign({},s),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var s,r,d,h,x,v;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=l.video)===null||s===void 0)&&s.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((h=(d=l.source)===null||d===void 0?void 0:d.video)===null||h===void 0)&&h.uri&&(!((v=(x=l.source)===null||x===void 0?void 0:x.video)===null||v===void 0)&&v.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,s,r;const d=(l=t.config)===null||l===void 0?void 0:l.tools;if(!d)return t;const h=await Promise.all(d.map(async v=>Hl(v)?await v.tool():v)),x={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(x.config.tools=h,t.config&&t.config.tools&&hg(t.config.tools)){const v=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),pg(g),x.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return x}async initAfcToolsMap(t){var l,s,r;const d=new Map;for(const h of(s=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(Hl(h)){const x=h,v=await x.tool();for(const g of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(d.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);d.set(g.name,x)}}return d}async processAfcStream(t){var l,s,r;const d=(r=(s=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:pp;let h=!1,x=0;const v=await this.initAfcToolsMap(t);return(function(g,y,S){return yn(this,arguments,function*(){for(var T,_,N,k,M,P;x<d;){h&&(x++,h=!1);const ne=yield _e(g.processParamsMaybeAddMcpUsage(S)),se=yield _e(g.generateContentStreamInternal(ne)),Y=[],pe=[];try{for(var X=!0,j=(_=void 0,bn(se)),Z;Z=yield _e(j.next()),T=Z.done,!T;X=!0){k=Z.value,X=!1;const te=k;if(yield yield _e(te),te.candidates&&(!((M=te.candidates[0])===null||M===void 0)&&M.content)){pe.push(te.candidates[0].content);for(const ee of(P=te.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(x<d&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ee.functionCall.name)){const me=yield _e(y.get(ee.functionCall.name).callTool([ee.functionCall]));Y.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(te){_={error:te}}finally{try{!X&&!T&&(N=j.return)&&(yield _e(N.call(j)))}finally{if(_)throw _.error}}if(Y.length>0){h=!0;const te=new qa;te.candidates=[{content:{role:"user",parts:Y}}],yield yield _e(te);const ee=[];ee.push(...pe),ee.push({role:"user",parts:Y});const me=cn(S.contents).concat(ee);S.contents=me}else break}})})(this,v,t)}async generateContentInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=dp(this.apiClient,t);return x=oe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=mp(y),T=new qa;return Object.assign(T,S),T})}else{const g=cp(this.apiClient,t);return x=oe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=fp(y),T=new qa;return Object.assign(T,S),T})}}async generateContentStreamInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=dp(this.apiClient,t);return x=oe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),h.then(function(S){return yn(this,arguments,function*(){var T,_,N,k;try{for(var M=!0,P=bn(S),X;X=yield _e(P.next()),T=X.done,!T;M=!0){k=X.value,M=!1;const j=k,Z=mp(yield _e(j.json()));Z.sdkHttpResponse={headers:j.headers};const ne=new qa;Object.assign(ne,Z),yield yield _e(ne)}}catch(j){_={error:j}}finally{try{!M&&!T&&(N=P.return)&&(yield _e(N.call(P)))}finally{if(_)throw _.error}}})})}else{const g=cp(this.apiClient,t);return x=oe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),h.then(function(S){return yn(this,arguments,function*(){var T,_,N,k;try{for(var M=!0,P=bn(S),X;X=yield _e(P.next()),T=X.done,!T;M=!0){k=X.value,M=!1;const j=k,Z=fp(yield _e(j.json()));Z.sdkHttpResponse={headers:j.headers};const ne=new qa;Object.assign(ne,Z),yield yield _e(ne)}}catch(j){_={error:j}}finally{try{!M&&!T&&(N=P.return)&&(yield _e(N.call(P)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=YT(this.apiClient,t);return x=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=XT(y),T=new Jh;return Object.assign(T,S),T})}else{const g=JT(this.apiClient,t);return x=oe("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=$T(y),T=new Jh;return Object.assign(T,S),T})}}async generateImagesInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=oE(this.apiClient,t);return x=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=uE(y),T=new Yh;return Object.assign(T,S),T})}else{const g=sE(this.apiClient,t);return x=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=rE(y),T=new Yh;return Object.assign(T,S),T})}}async editImageInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=VT(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=OT(v),y=new Zy;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=oN(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=rN(v),y=new Wy;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=jE(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=VE(v),y=new eb;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=$E(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=XE(v),y=new tb;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=AE(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>vc(y))}else{const g=_E(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>xc(y))}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,t);return x=oe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=PE(y),T=new $h;return Object.assign(T,S),T})}else{const g=UE(this.apiClient,t);return x=oe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=GE(y),T=new $h;return Object.assign(T,S),T})}}async update(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=aN(this.apiClient,t);return x=oe("{model}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>vc(y))}else{const g=lN(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>xc(y))}}async delete(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=zT(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=qT(y),T=new Xh;return Object.assign(T,S),T})}else{const g=HT(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=BT(y),T=new Xh;return Object.assign(T,S),T})}}async countTokens(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=LT(this.apiClient,t);return x=oe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=PT(y),T=new Qh;return Object.assign(T,S),T})}else{const g=UT(this.apiClient,t);return x=oe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=GT(y),T=new Qh;return Object.assign(T,S),T})}}async computeTokens(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=CT(this.apiClient,t);return d=oe("{model}:computeTokens",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=kT(v),y=new nb;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=pE(this.apiClient,t);return x=oe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>{const S=mE(y),T=new bo;return Object.assign(T,S),T})}else{const g=hE(this.apiClient,t);return x=oe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>{const S=fE(y),T=new bo;return Object.assign(T,S),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1 extends Jn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=Ky(t);return x=oe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h}else{const g=Fy(t);return x=oe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h}}async fetchPredictVideosOperationInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=Hy(t);return d=oe("{resourceName}:fetchPredictOperation",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function i1(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>f1(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function l1(i,t,l){const s={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);l!==void 0&&d!=null&&f(l,["newSessionExpireTime"],d);const h=u(t,["uses"]);l!==void 0&&h!=null&&f(l,["uses"],h);const x=u(t,["liveConnectConstraints"]);l!==void 0&&x!=null&&f(l,["bidiGenerateContentSetup"],d1(i,x));const v=u(t,["lockAdditionalFields"]);return l!==void 0&&v!=null&&f(l,["fieldMask"],v),s}function a1(i,t){const l={},s=u(t,["config"]);return s!=null&&f(l,["config"],l1(i,s,l)),l}function s1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function o1(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function r1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function u1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function c1(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const x=u(i,["topK"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","topK"],x);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Hc(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],_);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],i1(_t(N)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let se=Vl(k);Array.isArray(se)&&(se=se.map(Y=>h1(jl(Y)))),f(t,["setup","tools"],se)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],m1(M));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&f(t,["setup","realtimeInputConfig"],j);const Z=u(i,["contextWindowCompression"]);t!==void 0&&Z!=null&&f(t,["setup","contextWindowCompression"],Z);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&f(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function d1(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],je(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],c1(r,l)),l}function f1(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],s1(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],o1(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],n1(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function m1(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function h1(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],r1(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],u1(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p1(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const s=i[l];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${l}.${d}`);t.push(...r)}else t.push(l)}return t.join(",")}function g1(i,t){let l=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const d=p1(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let x=[];r.length>0&&(x=r.map(g=>h.includes(g)?`generationConfig.${g}`:g));const v=[];d&&v.push(d),x.length>0&&v.push(...x),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class x1 extends Jn{constructor(t){super(),this.apiClient=t}async create(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const x=a1(this.apiClient,t);d=oe("auth_tokens",x._url),h=x._query,delete x.config,delete x._url,delete x._query;const v=g1(x,t.config);return r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v1(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),l}function y1(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&v1(s,t),t}function b1(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function S1(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function T1(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const s=u(i,["config"]);return s!=null&&S1(s,t),t}function E1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N1 extends Jn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Ji(Kn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:l.parent,config:s.config}),await this.listInternal(l),l)}async get(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=b1(t);return d=oe("{name}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=y1(t);r=oe("{name}",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=T1(t);return d=oe("{parent}/documents",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=E1(v),y=new ib;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _1 extends Jn{constructor(t,l=new N1(t)){super(),this.apiClient=t,this.documents=l,this.list=async(s={})=>new Ji(Kn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=pN(t);return d=oe("fileSearchStores",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=vN(t);return d=oe("{name}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xN(t);r=oe("{name}",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=NN(t);return d=oe("fileSearchStores",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=_N(v),y=new lb;return Object.assign(y,g),y})}}async uploadToFileSearchStoreInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=AN(t);return d=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=CN(v),y=new ab;return Object.assign(y,g),y})}}async importFile(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=SN(t);return d=oe("{file_search_store_name}:importFile",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=bN(v),y=new Dc;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return gg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^l()&15>>+s/4).toString(16))};const A1=()=>gg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Sc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fn extends Error{}class Dt extends fn{constructor(t,l,s,r){super(`${Dt.makeMessage(t,l,s)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,s){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,s,r){if(!t||!r)return new Ro({message:s,cause:Sc(l)});const d=l;return t===400?new vg(t,d,s,r):t===401?new yg(t,d,s,r):t===403?new bg(t,d,s,r):t===404?new Sg(t,d,s,r):t===409?new Tg(t,d,s,r):t===422?new Eg(t,d,s,r):t===429?new Ng(t,d,s,r):t>=500?new _g(t,d,s,r):new Dt(t,d,s,r)}}class Tc extends Dt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ro extends Dt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class xg extends Ro{constructor({message:t}={}){super({message:t??"Request timed out."})}}class vg extends Dt{}class yg extends Dt{}class bg extends Dt{}class Sg extends Dt{}class Tg extends Dt{}class Eg extends Dt{}class Ng extends Dt{}class _g extends Dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C1=/^[a-z][a-z0-9+.-]*:/i,k1=i=>C1.test(i);let Ec=i=>(Ec=Array.isArray,Ec(i));const w1=Ec;let M1=w1;const yp=M1;function R1(i){if(!i)return!0;for(const t in i)return!1;return!0}function I1(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const D1=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new fn(`${i} must be an integer`);if(t<0)throw new fn(`${i} must be a positive integer`);return t},U1=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L1=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ul="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const P1=()=>{var i,t,l,s,r;const d=G1();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":Sp(Deno.build.os),"X-Stainless-Arch":bp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":Sp((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":bp((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const h=H1();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function H1(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const s=l.exec(navigator.userAgent);if(s){const r=s[1]||0,d=s[2]||0,h=s[3]||0;return{browser:t,version:`${r}.${d}.${h}`}}}return null}const bp=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Sp=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let uo;const z1=()=>uo??(uo=P1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ag(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function q1(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Ag({start(){},async pull(l){const{done:s,value:r}=await t.next();s?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Cg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function j1(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V1=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function sc(i,t,l){return kg(),new File(i,t??"unknown_file",l)}function O1(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const F1=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",K1=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&wg(i),J1=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function Y1(i,t,l){if(kg(),i=await i,K1(i))return i instanceof File?i:sc([await i.arrayBuffer()],i.name);if(J1(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),sc(await Nc(r),t,l)}const s=await Nc(i);if(t||(t=O1(i)),!(l!=null&&l.type)){const r=s.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return sc(s,t,l)}async function Nc(i){var t,l,s,r,d;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(wg(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(F1(i))try{for(var x=!0,v=bn(i),g;g=await v.next(),t=g.done,!t;x=!0){r=g.value,x=!1;const y=r;h.push(...await Nc(y))}}catch(y){l={error:y}}finally{try{!x&&!t&&(s=v.return)&&await s.call(v)}finally{if(l)throw l.error}}else{const y=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${y?`; constructor: ${y}`:""}${$1(i)}`)}return h}function $1(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mg{constructor(t){this._client=t}}Mg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Tp=Object.freeze(Object.create(null)),X1=(i=Rg)=>(function(l,...s){if(l.length===1)return l[0];let r=!1;const d=[],h=l.reduce((y,S,T)=>{var _,N,k;/[?#]/.test(S)&&(r=!0);const M=s[T];let P=(r?encodeURIComponent:i)(""+M);return T!==s.length&&(M==null||typeof M=="object"&&M.toString===((k=Object.getPrototypeOf((N=Object.getPrototypeOf((_=M.hasOwnProperty)!==null&&_!==void 0?_:Tp))!==null&&N!==void 0?N:Tp))===null||k===void 0?void 0:k.toString))&&(P=M+"",d.push({start:y.length+S.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),y+S+(T===s.length?"":P)},""),x=h.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=v.exec(x))!==null;)d.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(d.sort((y,S)=>y.start-S.start),d.length>0){let y=0;const S=d.reduce((T,_)=>{const N=" ".repeat(_.start-y),k="^".repeat(_.length);return y=_.start+_.length,T+N+k},"");throw new fn(`Path parameters result in path with invalid segments:
${d.map(T=>T.error).join(`
`)}
${h}
${S}`)}return h}),co=X1(Rg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ig extends Mg{create(t,l){var s;const{api_version:r=this._client.apiVersion}=t,d=To(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new fn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new fn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(co`/${r}/interactions`,Object.assign(Object.assign({body:d},l),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(co`/${r}/interactions/${t}`,s)}cancel(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(co`/${r}/interactions/${t}/cancel`,s)}get(t,l={},s){var r;const d=l??{},{api_version:h=this._client.apiVersion}=d,x=To(d,["api_version"]);return this._client.get(co`/${h}/interactions/${t}`,Object.assign(Object.assign({query:x},s),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Ig._key=Object.freeze(["interactions"]);class Dg extends Ig{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q1(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let s=0;for(const r of i)l.set(r,s),s+=r.length;return l}let fo;function Bc(i){let t;return(fo??(t=new globalThis.TextEncoder,fo=t.encode.bind(t)))(i)}let mo;function Ep(i){let t;return(mo??(t=new globalThis.TextDecoder,mo=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Io{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Bc(t):t;this.buffer=Q1([this.buffer,l]);const s=[];let r;for(;(r=Z1(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Ep(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,h=Ep(this.buffer.subarray(0,d));s.push(h),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Io.NEWLINE_CHARS=new Set([`
`,"\r"]);Io.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Z1(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function W1(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eo={off:0,error:200,warn:300,info:400,debug:500},Np=(i,t,l)=>{if(i){if(I1(Eo,i))return i;Rt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Eo))}`)}};function Va(){}function ho(i,t,l){return!t||Eo[i]>Eo[l]?Va:t[i].bind(t)}const e_={error:Va,warn:Va,info:Va,debug:Va};let _p=new WeakMap;function Rt(i){var t;const l=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return e_;const r=_p.get(l);if(r&&r[0]===s)return r[1];const d={error:ho("error",l,s),warn:ho("warn",l,s),info:ho("info",l,s),debug:ho("debug",l,s)};return _p.set(l,[s,d]),d}const ji=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gl{constructor(t,l,s){this.iterator=t,this.controller=l,this.client=s}static fromSSEResponse(t,l,s){let r=!1;const d=s?Rt(s):console;function h(){return yn(this,arguments,function*(){var v,g,y,S;if(r)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var _=!0,N=bn(t_(t,l)),k;k=yield _e(N.next()),v=k.done,!v;_=!0){S=k.value,_=!1;const M=S;if(!T)if(M.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield _e(JSON.parse(M.data))}catch(P){throw d.error("Could not parse message into JSON:",M.data),d.error("From chunk:",M.raw),P}}}catch(M){g={error:M}}finally{try{!_&&!v&&(y=N.return)&&(yield _e(y.call(N)))}finally{if(g)throw g.error}}T=!0}catch(M){if(bc(M))return yield _e(void 0);throw M}finally{T||l.abort()}})}return new Gl(h,l,s)}static fromReadableStream(t,l,s){let r=!1;function d(){return yn(this,arguments,function*(){var v,g,y,S;const T=new Io,_=Cg(t);try{for(var N=!0,k=bn(_),M;M=yield _e(k.next()),v=M.done,!v;N=!0){S=M.value,N=!1;const P=S;for(const X of T.decode(P))yield yield _e(X)}}catch(P){g={error:P}}finally{try{!N&&!v&&(y=k.return)&&(yield _e(y.call(k)))}finally{if(g)throw g.error}}for(const P of T.flush())yield yield _e(P)})}function h(){return yn(this,arguments,function*(){var v,g,y,S;if(r)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var _=!0,N=bn(d()),k;k=yield _e(N.next()),v=k.done,!v;_=!0){S=k.value,_=!1;const M=S;T||M&&(yield yield _e(JSON.parse(M)))}}catch(M){g={error:M}}finally{try{!_&&!v&&(y=N.return)&&(yield _e(y.call(N)))}finally{if(g)throw g.error}}T=!0}catch(M){if(bc(M))return yield _e(void 0);throw M}finally{T||l.abort()}})}return new Gl(h,l,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],s=this.iterator(),r=d=>({next:()=>{if(d.length===0){const h=s.next();t.push(h),l.push(h)}return d.shift()}});return[new Gl(()=>r(t),this.controller,this.client),new Gl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Ag({async start(){l=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:d}=await l.next();if(d)return s.close();const h=Bc(JSON.stringify(r)+`
`);s.enqueue(h)}catch(r){s.error(r)}},async cancel(){var s;await((s=l.return)===null||s===void 0?void 0:s.call(l))}})}}function t_(i,t){return yn(this,arguments,function*(){var s,r,d,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fn("Attempted to iterate over a response with no body");const x=new i_,v=new Io,g=Cg(i.body);try{for(var y=!0,S=bn(n_(g)),T;T=yield _e(S.next()),s=T.done,!s;y=!0){h=T.value,y=!1;const _=h;for(const N of v.decode(_)){const k=x.decode(N);k&&(yield yield _e(k))}}}catch(_){r={error:_}}finally{try{!y&&!s&&(d=S.return)&&(yield _e(d.call(S)))}finally{if(r)throw r.error}}for(const _ of v.flush()){const N=x.decode(_);N&&(yield yield _e(N))}})}function n_(i){return yn(this,arguments,function*(){var l,s,r,d;let h=new Uint8Array;try{for(var x=!0,v=bn(i),g;g=yield _e(v.next()),l=g.done,!l;x=!0){d=g.value,x=!1;const y=d;if(y==null)continue;const S=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Bc(y):y;let T=new Uint8Array(h.length+S.length);T.set(h),T.set(S,h.length),h=T;let _;for(;(_=W1(h))!==-1;)yield yield _e(h.slice(0,_)),h=h.slice(_)}}catch(y){s={error:y}}finally{try{!x&&!l&&(r=v.return)&&(yield _e(r.call(v)))}finally{if(s)throw s.error}}h.length>0&&(yield yield _e(h))})}class i_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,s,r]=l_(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function l_(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function a_(i,t){const{response:l,requestLogID:s,retryOfRequestLogID:r,startTime:d}=t,h=await(async()=>{var x;if(t.options.stream)return Rt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Gl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const v=l.headers.get("content-type"),g=(x=v==null?void 0:v.split(";")[0])===null||x===void 0?void 0:x.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await l.json():await l.text()})();return Rt(i).debug(`[${s}] response parsed`,ji({retryOfRequestLogID:r,url:l.url,status:l.status,body:h,durationMs:Date.now()-d})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qc extends Promise{constructor(t,l,s=a_){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new qc(this.client,this.responsePromise,async(l,s)=>t(await this.parseResponse(l,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ug=Symbol("brand.privateNullableHeaders");function*s_(i){if(!i)return;if(Ug in i){const{values:s,nulls:r}=i;yield*s.entries();for(const d of r)yield[d,null];return}let t=!1,l;i instanceof Headers?l=i.entries():yp(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let s of l){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=yp(s[1])?s[1]:[s[1]];let h=!1;for(const x of d)x!==void 0&&(t&&!h&&(h=!0,yield[r,null]),yield[r,x])}}const ja=i=>{const t=new Headers,l=new Set;for(const s of i){const r=new Set;for(const[d,h]of s_(s)){const x=d.toLowerCase();r.has(x)||(t.delete(d),r.add(x)),h===null?(t.delete(d),l.add(x)):(t.append(d,h),l.delete(x))}}return{[Ug]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oc=i=>{var t,l,s,r,d,h;if(typeof globalThis.process<"u")return(s=(l=(t=Iy)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lg;class Do{constructor(t){var l,s,r,d,h,x,v,{baseURL:g=oc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(l=oc("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:S="v1beta"}=t,T=To(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:y,apiVersion:S},T),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(s=_.timeout)!==null&&s!==void 0?s:Do.DEFAULT_TIMEOUT,this.logger=(r=_.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(h=(d=Np(_.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:Np(oc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:N,this.fetchOptions=_.fetchOptions,this.maxRetries=(x=_.maxRetries)!==null&&x!==void 0?x:2,this.fetch=(v=_.fetch)!==null&&v!==void 0?v:B1(),this.encoder=V1,this._options=_,this.apiKey=y,this.apiVersion=S,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=ja([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return ja([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ja([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,s])=>typeof s<"u").map(([l,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(l)}=`;throw new fn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ul}`}defaultIdempotencyKey(){return`stainless-node-retry-${A1()}`}makeStatusError(t,l,s,r){return Dt.generate(t,l,s,r)}buildURL(t,l,s){const r=!this.baseURLOverridden()&&s||this.baseURL,d=k1(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return R1(h)||(l=Object.assign(Object.assign({},h),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(d.search=this.stringifyQuery(l)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:s}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new qc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,s){var r,d,h;const x=await t,v=(r=x.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=v),await this.prepareOptions(x);const{req:g,url:y,timeout:S}=await this.buildRequest(x,{retryCount:v-l});await this.prepareRequest(g,{url:y,options:x});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(Rt(this).debug(`[${T}] sending request`,ji({retryOfRequestLogID:s,method:x.method,url:y,options:x,headers:g.headers})),!((d=x.signal)===null||d===void 0)&&d.aborted)throw new Tc;const k=new AbortController,M=await this.fetchWithTimeout(y,g,S,k).catch(Sc),P=Date.now();if(M instanceof globalThis.Error){const j=`retrying, ${l} attempts remaining`;if(!((h=x.signal)===null||h===void 0)&&h.aborted)throw new Tc;const Z=bc(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(l)return Rt(this).info(`[${T}] connection ${Z?"timed out":"failed"} - ${j}`),Rt(this).debug(`[${T}] connection ${Z?"timed out":"failed"} (${j})`,ji({retryOfRequestLogID:s,url:y,durationMs:P-N,message:M.message})),this.retryRequest(x,l,s??T);throw Rt(this).info(`[${T}] connection ${Z?"timed out":"failed"} - error; no more retries left`),Rt(this).debug(`[${T}] connection ${Z?"timed out":"failed"} (error; no more retries left)`,ji({retryOfRequestLogID:s,url:y,durationMs:P-N,message:M.message})),Z?new xg:new Ro({cause:M})}const X=`[${T}${_}] ${g.method} ${y} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${P-N}ms`;if(!M.ok){const j=await this.shouldRetry(M);if(l&&j){const te=`retrying, ${l} attempts remaining`;return await j1(M.body),Rt(this).info(`${X} - ${te}`),Rt(this).debug(`[${T}] response error (${te})`,ji({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:P-N})),this.retryRequest(x,l,s??T,M.headers)}const Z=j?"error; no more retries left":"error; not retryable";Rt(this).info(`${X} - ${Z}`);const ne=await M.text().catch(te=>Sc(te).message),se=U1(ne),Y=se?void 0:ne;throw Rt(this).debug(`[${T}] response error (${Z})`,ji({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,message:Y,durationMs:Date.now()-N})),this.makeStatusError(M.status,se,Y,M.headers)}return Rt(this).info(X),Rt(this).debug(`[${T}] response start`,ji({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:P-N})),{response:M,options:x,controller:k,requestLogID:T,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(t,l,s,r){const d=l||{},{signal:h,method:x}=d,v=To(d,["signal","method"]);h&&h.addEventListener("abort",()=>r.abort());const g=setTimeout(()=>r.abort(),s),y=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},y?{duplex:"half"}:{}),{method:"GET"}),v);x&&(S.method=x.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(g)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,s,r){var d;let h;const x=r==null?void 0:r.get("retry-after-ms");if(x){const g=parseFloat(x);Number.isNaN(g)||(h=g)}const v=r==null?void 0:r.get("retry-after");if(v&&!h){const g=parseFloat(v);Number.isNaN(g)?h=Date.parse(v)-Date.now():h=g*1e3}if(!(h&&0<=h&&h<60*1e3)){const g=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(l,g)}return await L1(h),this.makeRequest(t,l-1,s)}calculateDefaultRetryTimeoutMillis(t,l){const d=l-t,h=Math.min(.5*Math.pow(2,d),8),x=1-Math.random()*.25;return h*x*1e3}async buildRequest(t,{retryCount:l=0}={}){var s,r,d;const h=Object.assign({},t),{method:x,path:v,query:g,defaultBaseURL:y}=h,S=this.buildURL(v,g,y);"timeout"in h&&D1("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:_}=this.buildBody({options:h}),N=await this.buildHeaders({options:t,method:x,bodyHeaders:T,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:x,headers:N},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=h.fetchOptions)!==null&&d!==void 0?d:{}),url:S,timeout:h.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:s,retryCount:r}){let d={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let x=ja([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),z1()),this._options.defaultHeaders,s,t.headers,h]);return this.validateHeaders(x),x.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=ja([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:q1(t)}:this.encoder({body:t,headers:s})}}Do.DEFAULT_TIMEOUT=6e4;class vt extends Do{constructor(){super(...arguments),this.interactions=new Dg(this)}}Lg=vt;vt.GeminiNextGenAPIClient=Lg;vt.GeminiNextGenAPIClientError=fn;vt.APIError=Dt;vt.APIConnectionError=Ro;vt.APIConnectionTimeoutError=xg;vt.APIUserAbortError=Tc;vt.NotFoundError=Sg;vt.ConflictError=Tg;vt.RateLimitError=Ng;vt.BadRequestError=vg;vt.AuthenticationError=yg;vt.InternalServerError=_g;vt.PermissionDeniedError=bg;vt.UnprocessableEntityError=Eg;vt.toFile=Y1;vt.Interactions=Dg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o_(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function r_(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function u_(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function c_(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function d_(i,t,l){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&f(t,["tuningTask","hyperparameters","epochCount"],d);const h=u(i,["learningRateMultiplier"]);if(h!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const x=u(i,["batchSize"]);t!==void 0&&x!=null&&f(t,["tuningTask","hyperparameters","batchSize"],x);const v=u(i,["learningRate"]);if(t!==void 0&&v!=null&&f(t,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function f_(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const _=u(i,["validationDataset"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec"],Ap(_))}else if(r==="PREFERENCE_TUNING"){const _=u(i,["validationDataset"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec"],Ap(_))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&f(t,["tunedModelDisplayName"],d);const h=u(i,["description"]);t!==void 0&&h!=null&&f(t,["description"],h);let x=u(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const _=u(i,["epochCount"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(x==="PREFERENCE_TUNING"){const _=u(i,["epochCount"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const _=u(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(v==="PREFERENCE_TUNING"){const _=u(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=u(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(g==="PREFERENCE_TUNING"){const _=u(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const _=u(i,["adapterSize"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(y==="PREFERENCE_TUNING"){const _=u(i,["adapterSize"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const T=u(i,["beta"]);return t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function m_(i,t){const l={},s=u(i,["baseModel"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&N_(d);const h=u(i,["config"]);return h!=null&&d_(h,l),l}function h_(i,t){const l={},s=u(i,["baseModel"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&__(d,l,t);const h=u(i,["config"]);return h!=null&&f_(h,l,t),l}function p_(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function g_(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function x_(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const h=u(i,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),s}function v_(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const h=u(i,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),s}function y_(i,t){const l={},s=u(i,["config"]);return s!=null&&x_(s,l),l}function b_(i,t){const l={},s=u(i,["config"]);return s!=null&&v_(s,l),l}function S_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>Gg(x))),f(l,["tuningJobs"],h)}return l}function T_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>_c(x))),f(l,["tuningJobs"],h)}return l}function E_(i,t){const l={},s=u(i,["name"]);s!=null&&f(l,["model"],s);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function N_(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),f(l,["examples","examples"],r)}return l}function __(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=u(i,["gcsUri"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(r==="PREFERENCE_TUNING"){const h=u(i,["gcsUri"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let d=u(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=u(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(d==="PREFERENCE_TUNING"){const h=u(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Gg(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const d=u(i,["state"]);d!=null&&f(l,["state"],Zp(d));const h=u(i,["createTime"]);h!=null&&f(l,["createTime"],h);const x=u(i,["tuningTask","startTime"]);x!=null&&f(l,["startTime"],x);const v=u(i,["tuningTask","completeTime"]);v!=null&&f(l,["endTime"],v);const g=u(i,["updateTime"]);g!=null&&f(l,["updateTime"],g);const y=u(i,["description"]);y!=null&&f(l,["description"],y);const S=u(i,["baseModel"]);S!=null&&f(l,["baseModel"],S);const T=u(i,["_self"]);return T!=null&&f(l,["tunedModel"],E_(T)),l}function _c(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const d=u(i,["state"]);d!=null&&f(l,["state"],Zp(d));const h=u(i,["createTime"]);h!=null&&f(l,["createTime"],h);const x=u(i,["startTime"]);x!=null&&f(l,["startTime"],x);const v=u(i,["endTime"]);v!=null&&f(l,["endTime"],v);const g=u(i,["updateTime"]);g!=null&&f(l,["updateTime"],g);const y=u(i,["error"]);y!=null&&f(l,["error"],y);const S=u(i,["description"]);S!=null&&f(l,["description"],S);const T=u(i,["baseModel"]);T!=null&&f(l,["baseModel"],T);const _=u(i,["tunedModel"]);_!=null&&f(l,["tunedModel"],_);const N=u(i,["preTunedModel"]);N!=null&&f(l,["preTunedModel"],N);const k=u(i,["supervisedTuningSpec"]);k!=null&&f(l,["supervisedTuningSpec"],k);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&f(l,["preferenceOptimizationSpec"],M);const P=u(i,["tuningDataStats"]);P!=null&&f(l,["tuningDataStats"],P);const X=u(i,["encryptionSpec"]);X!=null&&f(l,["encryptionSpec"],X);const j=u(i,["partnerModelTuningSpec"]);j!=null&&f(l,["partnerModelTuningSpec"],j);const Z=u(i,["customBaseModel"]);Z!=null&&f(l,["customBaseModel"],Z);const ne=u(i,["experiment"]);ne!=null&&f(l,["experiment"],ne);const se=u(i,["labels"]);se!=null&&f(l,["labels"],se);const Y=u(i,["outputUri"]);Y!=null&&f(l,["outputUri"],Y);const pe=u(i,["pipelineJob"]);pe!=null&&f(l,["pipelineJob"],pe);const te=u(i,["serviceAccount"]);te!=null&&f(l,["serviceAccount"],te);const ee=u(i,["tunedModelDisplayName"]);ee!=null&&f(l,["tunedModelDisplayName"],ee);const me=u(i,["veoTuningSpec"]);return me!=null&&f(l,["veoTuningSpec"],me),l}function A_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const d=u(i,["metadata"]);d!=null&&f(l,["metadata"],d);const h=u(i,["done"]);h!=null&&f(l,["done"],h);const x=u(i,["error"]);return x!=null&&f(l,["error"],x),l}function Ap(i,t){const l={},s=u(i,["gcsUri"]);s!=null&&f(l,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_ extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var s;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((s=l.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),d=await this.tuneMldevInternal(r);let h="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?h=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(h=d.name.split("/operations/")[0]),{name:h,state:mc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=g_(t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>_c(y))}else{const g=p_(t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>Gg(y))}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=b_(t);return x=oe("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=T_(y),T=new Zh;return Object.assign(T,S),T})}else{const g=y_(t);return x=oe("tunedModels",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=S_(y),T=new Zh;return Object.assign(T,S),T})}}async cancel(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=r_(t);return x=oe("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=c_(y),T=new Wh;return Object.assign(T,S),T})}else{const g=o_(t);return x=oe("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=u_(y),T=new Wh;return Object.assign(T,S),T})}}async tuneInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=h_(t,t);return d=oe("tuningJobs",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>_c(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=m_(t);return d=oe("tunedModels",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>A_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const w_=1024*1024*8,M_=3,R_=1e3,I_=2,No="x-goog-upload-status";async function D_(i,t,l){var s;const r=await Pg(i,t,l),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[No])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function U_(i,t,l){var s;const r=await Pg(i,t,l),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[No])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=Kp(d),x=new Uc;return Object.assign(x,h),x}async function Pg(i,t,l){var s,r;let d=0,h=0,x=new hc(new Response),v="upload";for(d=i.size;h<d;){const g=Math.min(w_,d-h),y=i.slice(h,h+g);h+g>=d&&(v+=", finalize");let S=0,T=R_;for(;S<M_&&(x=await l.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(h),"Content-Length":String(g)}}}),!(!((s=x==null?void 0:x.headers)===null||s===void 0)&&s[No]));)S++,await G_(T),T=T*I_;if(h+=g,((r=x==null?void 0:x.headers)===null||r===void 0?void 0:r[No])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return x}async function L_(i){return{size:i.size,type:i.type}}function G_(i){return new Promise(t=>setTimeout(t,i))}class P_{async upload(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await D_(t,l,s)}async uploadToFileSearchStore(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await U_(t,l,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await L_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H_{create(t,l,s){return new z_(t,l,s)}}class z_{constructor(t,l,s){this.url=t,this.headers=l,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cp="x-goog-api-key";class B_{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Cp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Cp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q_="gl-node/";class j_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new vt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const s=Gy(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new B_(this.apiKey);this.apiClient=new LN({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:q_+"web",uploader:new P_,downloader:new k_}),this.models=new e1(this.apiClient),this.live=new YN(this.apiClient,r,new H_),this.batches=new dS(this.apiClient),this.chats=new KS(this.models,this.apiClient),this.caches=new VS(this.apiClient),this.files=new nT(this.apiClient),this.operations=new t1(this.apiClient),this.authTokens=new x1(this.apiClient),this.tunings=new C_(this.apiClient),this.fileSearchStores=new _1(this.apiClient)}}const V_=new j_({apiKey:"PLACEHOLDER_API_KEY"});function kp(i){const t=[...i];for(let l=t.length-1;l>0;l--){const s=Math.floor(Math.random()*(l+1));[t[l],t[s]]=[t[s],t[l]]}return t}const Hg={type:ae.OBJECT,properties:{id:{type:ae.STRING},type:{type:ae.STRING,enum:["multiple_choice","short_answer","long_text"]},content:{type:ae.STRING},options:{type:ae.ARRAY,items:{type:ae.STRING}},correctAnswer:{type:ae.STRING},tkpPoints:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{option:{type:ae.STRING},points:{type:ae.INTEGER}}}},explanation:{type:ae.STRING},shortcut:{type:ae.STRING},metadata:{type:ae.OBJECT,properties:{difficulty:{type:ae.STRING,enum:["Easy","Medium","Hard","HOTS"]},idealTimeSeconds:{type:ae.INTEGER},topic:{type:ae.STRING},subtest:{type:ae.STRING},trapPattern:{type:ae.STRING}}}},required:["id","type","content","correctAnswer","explanation","metadata"]},O_={type:ae.OBJECT,properties:{questions:{type:ae.ARRAY,items:Hg}},required:["questions"]};async function An(i,t,l){const s="gemini-3-flash-preview",r={temperature:.85,topP:.95,topK:40};t&&(r.responseMimeType="application/json",r.responseSchema=t);const d=[];l&&d.push({inlineData:{mimeType:"application/pdf",data:l}}),d.push({text:i});try{const x=(await V_.models.generateContent({model:s,contents:{role:"user",parts:d},config:r})).text;if(!x)throw new Error("Empty response from AI");if(t)try{let v=x.trim();return v.startsWith("```json")?v=v.replace(/^```json\n?/,"").replace(/\n?```$/,""):v.startsWith("```")&&(v=v.replace(/^```\n?/,"").replace(/\n?```$/,"")),JSON.parse(v)}catch(v){console.error("JSON Parse Error",v);const g=x.match(/\{[\s\S]*\}|\[[\s\S]*\]/);return g?JSON.parse(g[0]):x}return x}catch(h){throw console.error("Gemini API Error:",h),h}}function F_(i){return i.id||(i.id=`q-${Math.random().toString(36).substr(2,9)}`),i.type==="multiple_choice"&&((!i.options||i.options.length===0)&&(i.options=["Option A","Option B","Option C","Option D","Option E"]),i.tkpPoints&&i.tkpPoints.length>0,i.options=kp(i.options)),i}const It=async(i,t,l,s=5,r=[],d,h,x)=>{let v="",g;const y="CRITICAL: DETECT the language of the input material/context. The generated questions/answers MUST BE in the SAME LANGUAGE as the input (Bahasa Indonesia mostly).";let S=O_;if(t==="GENERAL"&&h){const N=l,k=N.type==="topic"?`Topic: ${N.content}`:"Material Content";N.type==="pdf"&&(g=N.content);const M=N.difficultyPreference||"MEDIUM",P=`DIFFICULTY LEVEL: ${M}. ${M==="HARD"?"Use complex analysis/HOTS.":M==="EASY"?"Use straightforward recall.":""}`;h==="ACTIVE_RECALL"?v=`Create ${s} Active Recall questions (Short Answer format) based on this: ${k}. 
          ${y} ${P}
          Questions must be specific and require recall of key facts/concepts.`:h==="PBL"?v=`Create ${s} Problem-Based Learning scenarios (Case Study).
          ${y} ${P}
          Format: 'long_text' or 'multiple_choice'.
          Based on: ${k}. 
          Each question should be a realistic scenario requiring application of the concept.`:v=`Create ${s} practice questions based on: ${k}. ${y} ${P}`,N.type==="text"&&(v+=`

CONTENT: ${N.content}`)}else{let N="";if(x?(N=`CONTEXT: ${t} - ${d||""}. DIFFICULTY: ${x}.`,x==="HOTS"&&(N+=" QUESTIONS MUST BE High Order Thinking Skills (Analyze, Evaluate, Create).")):t==="SKD"&&d?N=`CONTEXT: SKD ${d}. DIFFICULTY: STANDARD TO HOTS.`:t==="UTBK"?N="CONTEXT: UTBK SNBT 2025. DIFFICULTY: ADAPTIVE (HOTS).":t==="TPA"?N="CONTEXT: TPA (Tes Potensi Akademik) & TBI. High Logic Requirement.":t==="PSIKOTEST"?N=`
          CONTEXT: PROFESSIONAL PSYCHOMETRIC TEST (High IQ & Logical Reasoning).
          Generate ${s} questions distributed among these 4 subtest types:

          1. **Number Series (Deret Angka)**: 
             - Create complex sequences (e.g., Fibonacci, multi-level differences, alternating patterns).
             - Example: 2, 5, 10, 17, ... (n^2 + 1).

          2. **Verbal Analogy (Analogi Verbal)**:
             - Create 'Word A : Word B = Word C : ?' questions.
             - Relationships should be subtle (e.g., degree, cause-effect, antonyms).
             - Example: "Api : Panas = Es : Dingin" (Cause-Effect/Property).
          
          3. **Formal Logic (Silogisme)**:
             - Create syllogisms with 2 or 3 premises.
             - Use 'All', 'Some', 'None' quantifiers.
             - Ensure options have logical distractors.
             - Example: "Semua A adalah B. Sebagian B adalah C. Maka..."
          
          4. **Figural/Spatial (Tes Spasial)**:
             - Since this is text-based, describe the pattern in text format.
             - E.g., "Image A rotates 90 degrees clockwise. Image B is mirror of A. Image C is..."
          
          Instruction: "Options must be tricky. Explanation must be clear step-by-step logic."
          `:t==="INTERVIEW"?(N="CONTEXT: JOB/SCHOOL ADMISSION INTERVIEW.",S={type:ae.OBJECT,properties:{questions:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{id:{type:ae.STRING},type:{type:ae.STRING,enum:["long_text"]},content:{type:ae.STRING},explanation:{type:ae.STRING},metadata:{type:ae.OBJECT,properties:{topic:{type:ae.STRING}}}},required:["content","type"]}}}}):N="Standard difficulty.",t==="INTERVIEW")v=`Roleplay Task: Act as a professional HR Interviewer.
        Context: ${l}.
        Generate ${s} distinct interview questions. 
        Style: Conversational, direct, and engaging.
        Questions should range from introduction to behavioral/situational.
        Metadata subtest: "Interview".`;else{const k=`
            Generate ${s} questions.
            ${N}
            MANDATORY: Provide a DETAILED 'explanation' for the answer.
            MANDATORY METADATA:
            - idealTimeSeconds: Realistic time (e.g. 60s for Logic, 30s for Verbal).
            - subtest: Use specific names like "Deret Angka", "Analogi Verbal", "Silogisme", "Tes Spasial".
        `,M=typeof l=="string"&&l.toUpperCase().includes("TKP")||t==="SKD"&&x==="TKP";let P="";M&&(P=`
           CRITICAL RULES FOR TKP (Tes Karakteristik Pribadi):
           1. **AMBIGUITY & CONFUSION**: The distinction between the 5-point and 4-point answers MUST be very subtle.
           2. **SCORING LOGIC**:
              - 5 Points: Best answer (professional, proactive, leadership).
              - 4 Points: Good answer (standard procedure).
              - 3 Points: Neutral.
              - 1-2 Points: Negative.
           5. **FORMAT**: Provide 'tkpPoints' list mapping EACH option to a score 1-5.
           `),i===Ne.WEAKNESS?v=`WEAKNESS ATTACK MODE. User weak in: ${r.join(", ")}. ${N} ${P}`:i===Ne.ACTIVE_RECALL?v=`ACTIVE RECALL. Type: "short_answer". ${N}`:v=`TRY OUT / PRACTICE.
            Context: ${t} - ${JSON.stringify(l)}.
            ${k}
            ${P}`}}return((await An(v,S,g)).questions||[]).filter(N=>!!N).map(N=>{const k=F_(N);return t==="INTERVIEW"&&(k.type="long_text",k.options=[]),k})},K_=async(i,t,l)=>{const s={type:ae.OBJECT,properties:{score:{type:ae.INTEGER,description:"Score from 0 to 100"},isCorrect:{type:ae.BOOLEAN,description:"True if score > 70"},feedback:{type:ae.STRING,description:"Constructive feedback"}},required:["score","isCorrect","feedback"]},r=`Evaluate this answer. 
  Question: ${i}
  Correct Answer / Key Concept: ${t}
  User Answer: ${l}
  
  Provide a score (0-100), boolean correctness, and feedback.`;return An(r,s)},J_=async i=>{const t=`The user is weak in these topics: ${i.join(", ")}. Provide a concise, actionable study plan (3 paragraphs max) to improve.`;return An(t)},Y_=async(i,t)=>{const l={type:ae.OBJECT,properties:{score:{type:ae.INTEGER},feedback:{type:ae.STRING},improvedAnswer:{type:ae.STRING},keyPointsCovered:{type:ae.ARRAY,items:{type:ae.STRING}},toneAnalysis:{type:ae.STRING}},required:["score","feedback","improvedAnswer","toneAnalysis"]},s=`Evaluate this job interview answer given by a candidate.
  Question: ${i}
  Candidate Answer: ${t}
  
  Act as a senior HR manager. Critique the tone, content, and structure.
  `;return An(s,l)},$_=async(i,t)=>{const l={type:ae.OBJECT,properties:{understandingScore:{type:ae.INTEGER},simplificationQuality:{type:ae.STRING},missingConcepts:{type:ae.ARRAY,items:{type:ae.STRING}},correction:{type:ae.STRING}},required:["understandingScore","simplificationQuality","correction"]},s=`Evaluate this Feynman Technique explanation. The user is trying to explain "${i}" to a 5-year old.
  Explanation: ${t}`;return An(s,l)},X_=async i=>i.type==="pdf"&&i.content?await An("Extract and summarize the main text content from this PDF for study purposes. Ignore headers/footers.",void 0,i.content):i.content,Q_=async(i,t)=>{const l=`Context: University Thesis (Skripsi). Topic: ${i}. Task: ${t}. Provide detailed output.`;return An(l)},Z_=async i=>{const t={type:ae.OBJECT,properties:{flashcards:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{id:{type:ae.STRING},front:{type:ae.STRING},back:{type:ae.STRING}},required:["front","back"]}}}},l=`Create 10 flashcards based on this material: ${i.extractedText||i.content}`;return(await An(l,t)).flashcards},W_=async i=>{const t={type:ae.OBJECT,properties:{label:{type:ae.STRING},children:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{label:{type:ae.STRING},children:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{label:{type:ae.STRING}}}}}}}}},l=`Create a hierarchical mind map structure (JSON) for the topic: ${i.title||i.content.substring(0,50)}. Base it on the content.`;return An(l,t)},eA=async(i,t,l)=>{const s={type:ae.OBJECT,properties:{topic:{type:ae.STRING},summary:{type:ae.STRING},keyPoints:{type:ae.ARRAY,items:{type:ae.STRING}},question:Hg},required:["topic","summary","keyPoints","question"]},r=`Create a Drill Card (Mini Lesson + 1 Question) for ${i} - ${t} ${l?"("+l+")":""}.`;return An(r,s)},wp=async i=>{const t=It(Ne.SIMULATION,"SKD","Tes Wawasan Kebangsaan (TWK)",30,[],i),l=It(Ne.SIMULATION,"SKD","Tes Intelegensia Umum (TIU)",35,[],i),s=It(Ne.SIMULATION,"SKD","Tes Karakteristik Pribadi (TKP)",45,[],i,void 0,"TKP"),[r,d,h]=await Promise.all([t,l,s]);return r.forEach(x=>x.metadata.subtest="Tes Wawasan Kebangsaan (TWK)"),d.forEach(x=>x.metadata.subtest="Tes Intelegensia Umum (TIU)"),h.forEach(x=>x.metadata.subtest="Tes Karakteristik Pribadi (TKP)"),[...r,...d,...h]},Mp=async()=>{const i=It(Ne.SIMULATION,"UTBK","Penalaran Umum (Induktif, Deduktif, Kuantitatif)",30),t=It(Ne.SIMULATION,"UTBK","Pengetahuan dan Pemahaman Umum",20),l=It(Ne.SIMULATION,"UTBK","Pemahaman Bacaan dan Menulis",20),s=It(Ne.SIMULATION,"UTBK","Pengetahuan Kuantitatif",20),r=It(Ne.SIMULATION,"UTBK","Literasi Bahasa Indonesia",25),d=It(Ne.SIMULATION,"UTBK","Literasi Bahasa Inggris",25),h=It(Ne.SIMULATION,"UTBK","Penalaran Matematika",20),[x,v,g,y,S,T,_]=await Promise.all([i,t,l,s,r,d,h]);return x.forEach(N=>N.metadata.subtest="Penalaran Umum"),v.forEach(N=>N.metadata.subtest="Pengetahuan dan Pemahaman Umum"),g.forEach(N=>N.metadata.subtest="Pemahaman Bacaan dan Menulis"),y.forEach(N=>N.metadata.subtest="Pengetahuan Kuantitatif"),S.forEach(N=>N.metadata.subtest="Literasi Bahasa Indonesia"),T.forEach(N=>N.metadata.subtest="Literasi Bahasa Inggris"),_.forEach(N=>N.metadata.subtest="Penalaran Matematika"),[...x,...v,...g,...y,...S,...T,..._]},tA=async()=>It(Ne.SIMULATION,"TPA","SIMULATION",65),nA=async()=>It(Ne.SIMULATION,"PSIKOTEST","SIMULATION",40);class iA{constructor(){if(this.audioCache={},this.soundEnabled=!0,typeof Audio<"u")try{this.preload("click"),this.preload("back"),this.preload("tap")}catch(t){console.error("Audio init error",t)}}preload(t){const l=new Audio($m[t]);l.preload="auto",l.volume=.5,this.audioCache[t]=l}syncSettings(t){this.soundEnabled=t.soundEnabled;const l=t.volume!==void 0?t.volume:.5;Object.values(this.audioCache).forEach(s=>{s&&(s.volume=l)})}startMusic(){}stopMusic(){}play(t){if(this.soundEnabled)try{if(this.audioCache[t]){const r=this.audioCache[t];r.currentTime=0;const d=r.play();d!==void 0&&d.catch(()=>{});return}const l=$m[t];if(!l)return;const s=new Audio(l);s.volume=this.audioCache.click?this.audioCache.click.volume:.5,s.play().catch(()=>{})}catch{}}}const le=new iA;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aA=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,s)=>s?s.toUpperCase():l.toLowerCase()),Rp=i=>{const t=aA(i);return t.charAt(0).toUpperCase()+t.slice(1)},zg=(...i)=>i.filter((t,l,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===l).join(" ").trim(),sA=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=O.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:r="",children:d,iconNode:h,...x},v)=>O.createElement("svg",{ref:v,...oA,width:t,height:t,stroke:i,strokeWidth:s?Number(l)*24/Number(t):l,className:zg("lucide",r),...!d&&!sA(x)&&{"aria-hidden":"true"},...x},[...h.map(([g,y])=>O.createElement(g,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(i,t)=>{const l=O.forwardRef(({className:s,...r},d)=>O.createElement(rA,{ref:d,iconNode:t,className:zg(`lucide-${lA(Rp(i))}`,`lucide-${i}`,s),...r}));return l.displayName=Rp(i),l};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ki=he("activity",uA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dn=he("arrow-left",cA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bg=he("award",dA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],mA=he("bell-off",fA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pA=he("bell",hA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ip=he("book-open",gA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],jc=he("book",xA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Vi=he("brain",vA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bA=he("briefcase",yA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],TA=he("building-2",SA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],NA=he("calculator",EA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rc=he("calendar",_A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Ac=he("chart-no-axes-column",AA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fi=he("chevron-right",CA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mn=he("circle-check-big",kA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fl=he("circle-x",wA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bl=he("clock",MA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qg=he("download",RA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jg=he("eye",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],UA=he("file-search",DA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_o=he("file-text",LA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PA=he("funnel",GA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],zA=he("git-merge",HA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Vg=he("graduation-cap",BA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Og=he("grid-3x3",qA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Fg=he("history",jA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],OA=he("info",VA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],KA=he("landmark",FA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Kg=he("lightbulb",JA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ql=he("loader-circle",YA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XA=he("log-out",$A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ZA=he("message-circle",QA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vc=he("message-square",WA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Jg=he("moon",eC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],nC=he("music",tC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],lC=he("palette",iC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Oa=he("pause",aC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Dp=he("pen-tool",sC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Oc=he("play",oC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uC=he("plus",rC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],dC=he("repeat",cC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],mC=he("rocket",fC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Cc=he("rotate-ccw",hC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yg=he("save",pC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uc=he("search",gC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$g=he("settings",xC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],yC=he("share-2",vC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xg=he("sun",bC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kc=he("target",SC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],wc=he("timer",TC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zl=he("trash-2",EC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_C=he("trending-up",NC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mc=he("triangle-alert",AC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fc=he("upload",CC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qg=he("user",kC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],MC=he("volume-2",wC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],IC=he("volume-x",RC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UC=he("x",DC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ao=he("zap",LC),GC=()=>{const[i,t]=O.useState(!1),[l,s]=O.useState(1500),[r,d]=O.useState(!1),[h,x]=O.useState("focus");O.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),O.useEffect(()=>{let _=null;return r&&l>0?_=setInterval(()=>{s(l-1)},1e3):l===0&&(d(!1),v()),()=>clearInterval(_)},[r,l]);const v=()=>{new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play().catch(N=>console.log("Audio play failed",N)),"Notification"in window&&Notification.permission==="granted"&&new Notification(h==="focus"?"Fokus Selesai!":"Istirahat Selesai!",{body:h==="focus"?"Waktunya istirahat sejenak.":"Kembali fokus belajar!",icon:"/favicon.ico"})},g=()=>d(!r),y=()=>{d(!1),s(h==="focus"?1500:300)},S=()=>{const _=h==="focus"?"break":"focus";x(_),s(_==="focus"?1500:300),d(!1)},T=_=>{const N=Math.floor(_/60),k=_%60;return`${N.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`};return i?c.jsxs("div",{className:"fixed bottom-6 right-6 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 z-50 overflow-hidden animate-fade-in-up",children:[c.jsxs("div",{className:`p-4 ${h==="focus"?"bg-indigo-600":"bg-emerald-500"} text-white flex justify-between items-center`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wc,{size:20}),c.jsx("span",{className:"font-bold",children:h==="focus"?"Fokus":"Istirahat"})]}),c.jsx("button",{onClick:()=>t(!1),className:"hover:bg-white/20 p-1 rounded",children:c.jsx(UC,{size:18})})]}),c.jsxs("div",{className:"p-6 flex flex-col items-center",children:[c.jsx("div",{className:"text-5xl font-mono font-bold text-slate-800 dark:text-slate-100 mb-6 tracking-wider",children:T(l)}),c.jsxs("div",{className:"flex gap-4 mb-6",children:[c.jsx("button",{onClick:g,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:r?c.jsx(Oa,{size:24}):c.jsx(Oc,{size:24})}),c.jsx("button",{onClick:y,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:c.jsx(Cc,{size:24})})]}),c.jsxs("button",{onClick:S,className:"text-sm text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 underline",children:["Ganti ke Mode ",h==="focus"?"Istirahat":"Fokus"]})]})]}):c.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 bg-indigo-600 hover:bg-indigo-700 text-white p-4 rounded-full shadow-xl z-50 flex items-center gap-2 transition-all",children:[c.jsx(wc,{size:24}),c.jsx("span",{className:"font-semibold hidden sm:inline",children:"Pomodoro"})]})},PC=({data:i,onNext:t})=>{const[l,s]=O.useState(!1);return c.jsxs("div",{className:"w-full max-w-xl mx-auto perspective-1000",children:[c.jsxs("div",{className:`relative w-full h-80 transition-transform duration-700 transform-style-3d cursor-pointer ${l?"rotate-y-180":""}`,onClick:()=>s(!l),children:[c.jsx("div",{className:"absolute w-full h-full bg-white rounded-2xl shadow-xl border-2 border-indigo-100 flex items-center justify-center p-8 backface-hidden",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold mb-4",children:"QUESTION"}),c.jsx("p",{className:"text-2xl font-medium text-slate-800 leading-relaxed",children:i.front}),c.jsx("p",{className:"mt-8 text-slate-400 text-sm animate-pulse",children:"Tap to flip"})]})}),c.jsx("div",{className:"absolute w-full h-full bg-indigo-600 rounded-2xl shadow-xl flex items-center justify-center p-8 backface-hidden rotate-y-180",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsx("span",{className:"inline-block px-3 py-1 bg-white/20 text-white rounded-full text-xs font-bold mb-4",children:"ANSWER"}),c.jsx("p",{className:"text-xl leading-relaxed",children:i.back})]})})]}),l&&c.jsxs("div",{className:"mt-8 flex justify-center gap-3",children:[c.jsx("button",{onClick:()=>{s(!1),t("hard")},className:"px-6 py-2 bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 font-medium transition",children:"Sulit (1m)"}),c.jsx("button",{onClick:()=>{s(!1),t("medium")},className:"px-6 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 font-medium transition",children:"Sedang (10m)"}),c.jsx("button",{onClick:()=>{s(!1),t("easy")},className:"px-6 py-2 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-200 font-medium transition",children:"Mudah (4d)"})]})]})},Zg=({node:i,depth:t=0})=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`
        border-2 px-4 py-2 rounded-xl text-center font-medium shadow-sm transition-all hover:scale-105
        ${t===0?"bg-indigo-600 text-white border-indigo-600 mb-4 text-lg":""}
        ${t===1?"bg-white text-indigo-700 border-indigo-200 mb-4 text-base":""}
        ${t>1?"bg-slate-50 text-slate-600 border-slate-200 text-sm":""}
      `,children:i.label}),i.children&&i.children.length>0&&c.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-8 relative pt-4",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-px h-4 bg-slate-300"}),c.jsx("div",{className:"absolute top-0 left-4 right-4 h-px bg-slate-300"}),i.children.map((l,s)=>c.jsxs("div",{className:"flex flex-col items-center relative",children:[c.jsx("div",{className:"w-px h-4 bg-slate-300 mb-1"}),c.jsx(Zg,{node:l,depth:t+1})]},s))]})]}),HC=({data:i})=>{const t=i.root||i;return c.jsx("div",{className:"p-8 bg-slate-50 rounded-3xl overflow-x-auto border border-slate-200 min-h-[400px] flex justify-center",children:c.jsx(Zg,{node:t})})},Oi=({className:i="",height:t="h-4",width:l="w-full"})=>c.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700 rounded-md ${t} ${l} ${i}`}),zC=()=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx(Oi,{height:"h-12",width:"w-12",className:"rounded-full"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx(Oi,{height:"h-4",width:"w-1/3"}),c.jsx(Oi,{height:"h-3",width:"w-1/2"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Oi,{height:"h-4"}),c.jsx(Oi,{height:"h-4"}),c.jsx(Oi,{height:"h-4",width:"w-2/3"})]})]}),BC=({onComplete:i})=>{const t=()=>{le.play("click"),i()};return c.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-900 flex flex-col items-center justify-center p-6 text-center animate-fade-in cursor-pointer",onClick:t,children:[c.jsxs("div",{className:"relative mb-8 group",children:[c.jsx("div",{className:"absolute -inset-4 bg-indigo-500 rounded-full opacity-20 group-hover:opacity-40 blur-xl transition-opacity duration-1000 animate-pulse"}),c.jsx("img",{src:vo,alt:"Fajmuls Learning",className:"w-48 h-48 md:w-64 md:h-64 object-contain relative z-10 drop-shadow-2xl animate-bounce-slow"})]}),c.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-2 tracking-tight",children:["Fajmuls ",c.jsx("span",{className:"text-indigo-400",children:"Learning"})]}),c.jsx("p",{className:"text-slate-400 text-lg mb-10 max-w-md",children:"Platform Belajar Cerdas Terintegrasi AI"}),c.jsxs("button",{onClick:l=>{l.stopPropagation(),t()},className:"px-10 py-4 bg-white text-indigo-900 rounded-full font-bold text-lg hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)] transition-all flex items-center gap-2",children:[c.jsx(mC,{size:24,className:"text-indigo-600"})," Mulai Belajar"]})]})},qC=({isOpen:i,onClose:t,settings:l,onUpdate:s})=>{if(!i)return null;const r=h=>{le.play("tap"),s({...l,[h]:!l[h]})},d=h=>{s({...l,volume:parseFloat(h.target.value)})};return c.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl border border-slate-200 dark:border-slate-700 max-h-[85vh] overflow-y-auto scrollbar-hide",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-white dark:bg-slate-800 z-10 py-2 border-b border-slate-100 dark:border-slate-700",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx($g,{size:24,className:"text-slate-400"})," Pengaturan"]}),c.jsx("button",{onClick:()=>{le.play("back"),t()},children:c.jsx(Fl,{size:24,className:"text-slate-400 hover:text-rose-500"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.darkMode?"bg-indigo-600 text-white":"bg-slate-200 text-slate-500"}`,children:l.darkMode?c.jsx(Jg,{size:20}):c.jsx(Xg,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Tema Gelap"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Tampilan malam hari."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.darkMode,onChange:()=>r("darkMode")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.soundEnabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-500"}`,children:l.soundEnabled?c.jsx(MC,{size:20}):c.jsx(IC,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Efek Suara"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Bunyi klik & interaksi."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.soundEnabled,onChange:()=>r("soundEnabled")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.musicEnabled?"bg-pink-100 text-pink-600":"bg-slate-200 text-slate-500"}`,children:c.jsx(nC,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Musik Latar"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Musik santai saat belajar."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.musicEnabled,onChange:()=>r("musicEnabled")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Volume Utama"}),c.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[Math.round(l.volume*100),"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:l.volume,onChange:d,className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer dark:bg-slate-600 accent-indigo-600"})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.funnyNotifications?"bg-amber-100 text-amber-600":"bg-slate-200 text-slate-500"}`,children:l.funnyNotifications?c.jsx(pA,{size:20}):c.jsx(mA,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Notifikasi Lucu"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Pesan penyemangat unik."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.funnyNotifications,onChange:()=>r("funnyNotifications")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.confirmActions?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-500"}`,children:c.jsx(mn,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Konfirmasi Aksi"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Cegah salah pencet."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.confirmActions,onChange:()=>r("confirmActions")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]})})},jC=({category:i,skdStream:t,availablePackages:l,history:s,onSelectPackage:r,onGenerateNew:d,onImportPackage:h,onDeletePackage:x,onBack:v,showToast:g,confirmEnabled:y})=>{const[S,T]=O.useState(""),[_,N]=O.useState(!1),[k,M]=O.useState(!1),[P,X]=O.useState(null),j=O.useRef(null),Z=ee=>{const me=s.filter(ge=>ge.packageId===ee);if(me.length===0)return{attempts:0,highScore:0,avgScore:0};const Ee=me.map(ge=>ge.score);return{attempts:me.length,highScore:Math.max(...Ee),avgScore:Math.round(Ee.reduce((ge,we)=>ge+we,0)/Ee.length),lastAttemptDate:me[0].date}},ne=async()=>{if(!S){g("Masukkan token terlebih dahulu","error");return}le.play("click"),M(!0);try{await d(S)}catch(ee){console.error(ee)}finally{M(!1)}},se=(ee,me)=>{ee.stopPropagation();const Ee=JSON.stringify(me,null,2),ge=new Blob([Ee],{type:"application/json"}),we=URL.createObjectURL(ge),ze=document.createElement("a");ze.href=we,ze.download=`${me.title.replace(/\s+/g,"_")}.json`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(we),g("Paket Soal berhasil didownload","success")},Y=(ee,me)=>{ee.stopPropagation(),y?X(me):x(me)},pe=()=>{P&&(x(P),X(null))},te=l.filter(ee=>ee.category===i&&(!t||ee.skdStream===t));return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center relative",children:[P&&c.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-xl max-w-sm w-full text-center border border-slate-200 dark:border-slate-700 animate-fade-in-up",children:[c.jsx("div",{className:"w-14 h-14 bg-rose-100 dark:bg-rose-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-rose-600 dark:text-rose-400",children:c.jsx(zl,{size:24})}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Hapus Paket Soal?"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-6",children:"Paket soal akan dihapus permanen dari daftar."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>X(null),className:"flex-1 py-3 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Batal"}),c.jsx("button",{onClick:pe,className:"flex-1 py-3 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg",children:"Hapus"})]})]})}),c.jsxs("div",{className:"max-w-4xl w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("button",{onClick:v,className:"flex items-center gap-2 text-slate-500 hover:text-indigo-600",children:[c.jsx(dn,{size:20})," Kembali"]}),c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["Pilih Paket Soal ",i]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 mb-8",children:[c.jsxs("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(uC,{size:20})," Buat Paket Baru (AI)"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:"Masukkan Token Akses...",value:S,onChange:ee=>T(ee.target.value),className:"flex-1 p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-600 dark:text-white"}),c.jsx("button",{onClick:ne,disabled:k,className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50",children:k?c.jsx(ql,{className:"animate-spin"}):"Generate"})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-end",children:[c.jsx("input",{type:"file",ref:j,className:"hidden",accept:".json",multiple:!0,onChange:ee=>{ee.target.files&&ee.target.files.length>0&&h(ee.target.files),j.current&&(j.current.value="")}}),c.jsxs("button",{onClick:()=>{var ee;return(ee=j.current)==null?void 0:ee.click()},className:"flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-indigo-600",children:[c.jsx(Fc,{size:16})," Import Paket (.json)"]})]})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:te.map(ee=>{const me=Z(ee.id);return c.jsxs("button",{onClick:()=>r(ee),className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition text-left group relative overflow-hidden w-full shadow-sm hover:shadow-md",children:[ee.isAiGenerated&&c.jsx("div",{className:"absolute top-0 right-0 bg-indigo-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg",children:"AI Generated"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2 group-hover:text-indigo-600 transition-colors pr-8 line-clamp-2",children:ee.title}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{onClick:Ee=>se(Ee,ee),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-700 rounded-lg transition",title:"Download JSON Soal",children:c.jsx(qg,{size:18})}),c.jsx("div",{onClick:Ee=>Y(Ee,ee.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-slate-700 rounded-lg transition",title:"Hapus Paket",children:c.jsx(zl,{size:18})})]})]}),c.jsxs("div",{className:"flex gap-4 text-xs text-slate-500 dark:text-slate-400 mb-4",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Bl,{size:12})," ",ee.durationMinutes," Menit"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(_o,{size:12})," ",ee.questions.length," Soal"]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-3 grid grid-cols-3 gap-2 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Percobaan"}),c.jsxs("div",{className:"text-lg font-bold text-slate-800 dark:text-white",children:[me.attempts,"x"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Tertinggi"}),c.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:me.highScore})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Rata-rata"}),c.jsx("div",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:me.avgScore})]})]})]},ee.id)})})]})]})},VC=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-sm font-sans"})},OC=({answers:i,questions:t,onHome:l,onRetry:s,category:r,details:d})=>{const h=i.filter(k=>k.isCorrect).length;let x=(d==null?void 0:d.total)||(d==null?void 0:d.average)||(d==null?void 0:d.iqScore)||Math.round(h/t.length*100);if(r==="GENERAL"&&!d){const k=i.reduce((M,P)=>M+(P.scoreEarned||0),0);x=Math.round(k/(t.length||1))}const[v,g]=O.useState(""),[y,S]=O.useState(!1),T=i.filter(k=>!k.isCorrect),_=Array.from(new Set(T.map(k=>{var P,X;const M=t.find(j=>j.id===k.questionId);return((P=M==null?void 0:M.metadata)==null?void 0:P.subtest)||((X=M==null?void 0:M.metadata)==null?void 0:X.topic)||"General"}))),N=async()=>{S(!0);try{const k=await J_(_);g(k)}catch{alert("Gagal memuat saran AI.")}finally{S(!1)}};return c.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 p-6 md:p-12 flex flex-col items-center transition-colors",children:c.jsxs("div",{className:"max-w-2xl w-full text-center",children:[c.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-50 dark:bg-slate-800 mb-6",children:x>=(r==="UTBK"?600:70)?c.jsx(Bg,{size:48,className:"text-emerald-500"}):c.jsx(Ki,{size:48,className:"text-amber-500"})}),c.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Sesi Selesai!"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Berikut adalah analisis hasil belajar Anda."}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:"Skor Akhir"}),c.jsx("div",{className:"text-4xl font-black text-slate-900 dark:text-white",children:x})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:r==="GENERAL"?"Poin":"Akurasi"}),c.jsx("div",{className:"text-4xl font-black text-indigo-600 dark:text-indigo-400",children:r==="GENERAL"?x:`${Math.round(h/t.length*100)}%`})]})]}),r==="UTBK"&&d&&c.jsxs("div",{className:"mb-8 w-full bg-slate-50 dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-4",children:[c.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300 mb-4 text-left border-b border-slate-200 dark:border-slate-700 pb-2",children:"Rincian Subtes (IRT)"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Penalaran Umum:"})," ",c.jsx("b",{children:d.pu})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"PPU:"})," ",c.jsx("b",{children:d.ppu})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"PBM:"})," ",c.jsx("b",{children:d.pbm})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Kuantitatif:"})," ",c.jsx("b",{children:d.pk})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Lit. B.Indo:"})," ",c.jsx("b",{children:d.lbi})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Lit. B.Inggris:"})," ",c.jsx("b",{children:d.lbe})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Penalaran Math:"})," ",c.jsx("b",{children:d.pm})]})]})]}),_.length>0&&c.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 border border-rose-100 dark:border-rose-900 p-6 rounded-2xl mb-8 text-left w-full",children:[c.jsxs("h3",{className:"font-bold text-rose-800 dark:text-rose-400 flex items-center gap-2",children:[c.jsx(kc,{size:20})," Topik Perlu Perbaikan"]}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:_.slice(0,5).map(k=>c.jsx("span",{className:"bg-white dark:bg-rose-900/40 text-rose-600 dark:text-rose-200 px-3 py-1 rounded-full text-xs font-bold border border-rose-200 dark:border-rose-800",children:k},k))}),v?c.jsxs("div",{className:"mt-4 pt-4 border-t border-rose-200 dark:border-rose-800",children:[c.jsx("h4",{className:"font-bold text-sm text-rose-800 dark:text-rose-400 mb-2",children:"Saran AI:"}),c.jsx("div",{className:"prose prose-sm prose-rose max-w-none text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 p-4 rounded-xl border border-rose-100 dark:border-rose-800",children:c.jsx(VC,{text:v})})]}):c.jsxs("button",{onClick:N,disabled:y,className:"text-sm font-bold text-rose-700 dark:text-rose-400 underline flex items-center gap-1 hover:text-rose-900 dark:hover:text-rose-300",children:[y?c.jsx(ql,{className:"animate-spin",size:14}):c.jsx(Kg,{size:14}),"Minta Saran Perbaikan AI"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden text-left mb-8 w-full",children:[c.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 border-b border-slate-100 dark:border-slate-600 font-bold text-slate-700 dark:text-slate-200",children:"Detail Jawaban"}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:t.map((k,M)=>{const P=i.find(j=>j.questionId===k.id),X=P==null?void 0:P.isCorrect;return c.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-750 transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("span",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:["Soal ",M+1]}),X?c.jsx(mn,{size:16,className:"text-emerald-500"}):c.jsx(Fl,{size:16,className:"text-rose-500"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:k.content})]},M)})})]}),c.jsxs("div",{className:"flex gap-4 w-full",children:[c.jsx("button",{onClick:l,className:"flex-1 py-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:"Ke Menu Utama"}),c.jsx("button",{onClick:s,className:"flex-1 py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Coba Lagi"})]})]})})},Up=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1</i>").replace(/\n- (.*?)/g,"<br/> $1").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm font-sans"})},Wg=i=>i.category==="PSIKOTEST"&&i.details&&"speedPerMinute"in i.details,ex=i=>i.category==="KECERMATAN"&&i.details&&"averageSpeed"in i.details,FC=({history:i,onBack:t,onReview:l,username:s,onExport:r,onImport:d,onDelete:h})=>{const[x,v]=O.useState("ALL"),g=O.useRef(null),y=i.filter(N=>x==="ALL"||N.category===x),S=y.length,T=S>0?Math.round(y.reduce((N,k)=>N+k.score,0)/S):0,_=S>0?Math.max(...y.map(N=>N.score)):0;return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition text-slate-700 dark:text-slate-300",children:c.jsx(dn,{size:20})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Riwayat Belajar"}),c.jsxs("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[c.jsx(Qg,{size:12})," ",s]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-bold text-xs hover:bg-slate-50 dark:hover:bg-slate-700 transition shadow-sm",children:[c.jsx(qg,{size:14})," Backup JSON"]}),c.jsxs("button",{onClick:()=>{var N;return(N=g.current)==null?void 0:N.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800 rounded-xl font-bold text-xs hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition shadow-sm",children:[c.jsx(Fc,{size:14})," Restore JSON"]}),c.jsx("input",{type:"file",ref:g,className:"hidden",accept:".json",onChange:N=>{var k;(k=N.target.files)!=null&&k[0]&&d(N.target.files[0]),g.current&&(g.current.value="")}})]})]}),c.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-4 scrollbar-hide",children:[c.jsx("button",{onClick:()=>v("ALL"),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${x==="ALL"?"bg-slate-900 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:"Semua"}),Fp.map(N=>c.jsx("button",{onClick:()=>v(N.id),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${x===N.id?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:N.name},N.id))]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[c.jsx(PA,{size:14})," Total Tes"]}),c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:S})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[c.jsx(_C,{size:14})," Rata-rata"]}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:T})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[c.jsx(Bg,{size:14})," Tertinggi"]}),c.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-500",children:_})]})]}),c.jsx("div",{className:"space-y-4",children:y.length===0?c.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-3xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:[c.jsx(Fg,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("p",{children:"Tidak ada riwayat untuk kategori ini."})]}):y.map(N=>{if(Wg(N)){const k=N.details;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-500 transition group relative overflow-hidden",children:[N.isAborted&&c.jsx("div",{className:"absolute top-0 right-0 bg-amber-500 text-white text-[10px] px-2 py-1 font-bold rounded-bl-lg",children:"TIDAK FULL"}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{onClick:()=>l(N),className:"cursor-pointer flex-1",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded uppercase tracking-wider bg-slate-900 text-white dark:bg-white dark:text-slate-900",children:"TES PAULI"})}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[c.jsx(rc,{size:14}),new Date(N.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),c.jsx("span",{className:"opacity-50",children:""}),new Date(N.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]}),c.jsx("button",{onClick:M=>{M.stopPropagation(),h(N.id)},className:"text-slate-300 hover:text-rose-500 transition p-2",children:c.jsx(zl,{size:16})})]}),c.jsxs("div",{onClick:()=>l(N),className:"cursor-pointer",children:[c.jsxs("div",{className:"flex gap-4 mb-3",children:[c.jsxs("div",{className:"text-center bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg flex-1",children:[c.jsx("div",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400",children:k.speedPerMinute}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Speed"})]}),c.jsxs("div",{className:"text-center bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg flex-1",children:[c.jsxs("div",{className:"text-xl font-black text-emerald-600 dark:text-emerald-400",children:[k.accuracy,"%"]}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Akurasi"})]})]}),c.jsx("div",{className:"flex gap-2 justify-center",children:c.jsxs("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-slate-600 dark:text-slate-300",children:["Konsistensi: ",k.consistencyScore]})})]})]},N.id)}if(ex(N)){const k=N.details;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-500 transition group relative overflow-hidden",children:[N.isAborted&&c.jsx("div",{className:"absolute top-0 right-0 bg-amber-500 text-white text-[10px] px-2 py-1 font-bold rounded-bl-lg",children:"TIDAK FULL"}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{onClick:()=>l(N),className:"cursor-pointer flex-1",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsxs("span",{className:"text-xs font-bold px-2 py-1 rounded uppercase tracking-wider bg-indigo-600 text-white dark:bg-indigo-500",children:["KECERMATAN (",k.mode,")"]})}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[c.jsx(rc,{size:14}),new Date(N.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),c.jsx("span",{className:"opacity-50",children:""}),new Date(N.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]}),c.jsx("button",{onClick:M=>{M.stopPropagation(),h(N.id)},className:"text-slate-300 hover:text-rose-500 transition p-2",children:c.jsx(zl,{size:16})})]}),c.jsxs("div",{onClick:()=>l(N),className:"cursor-pointer",children:[c.jsxs("div",{className:"flex gap-4 mb-3",children:[c.jsxs("div",{className:"text-center bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg flex-1",children:[c.jsx("div",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400",children:k.averageSpeed}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Avg Correct"})]}),c.jsxs("div",{className:"text-center bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg flex-1",children:[c.jsxs("div",{className:"text-xl font-black text-emerald-600 dark:text-emerald-400",children:[k.accuracy,"%"]}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Akurasi"})]})]}),c.jsxs("div",{className:"flex gap-2 justify-center",children:[c.jsxs("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-slate-600 dark:text-slate-300",children:["Stabilitas: ",k.stability]}),c.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-slate-600 dark:text-slate-300 font-bold",children:k.verdict})]})]})]},N.id)}return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-500 transition group relative overflow-hidden",children:[N.isAborted&&c.jsx("div",{className:"absolute top-0 right-0 bg-amber-500 text-white text-[10px] px-2 py-1 font-bold rounded-bl-lg",children:"TIDAK FULL"}),c.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[c.jsxs("div",{onClick:()=>l(N),className:"cursor-pointer flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wider ${N.category==="UTBK"?"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300":N.category==="SKD"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300":N.category==="GENERAL"?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300"}`,children:N.category}),N.skdStream&&c.jsx("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-1 rounded",children:N.skdStream})]}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[c.jsx(rc,{size:14}),new Date(N.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),c.jsx("span",{className:"opacity-50",children:""}),new Date(N.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]}),c.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[c.jsx("button",{onClick:k=>{k.stopPropagation(),h(N.id)},className:"text-slate-300 hover:text-rose-500 transition p-1",children:c.jsx(zl,{size:16})}),c.jsxs("div",{onClick:()=>l(N),className:"cursor-pointer",children:[c.jsx("div",{className:"text-4xl font-black text-slate-800 dark:text-white",children:N.score}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"SKOR"})]})]})]}),c.jsxs("div",{onClick:()=>l(N),className:"cursor-pointer border-t border-slate-100 dark:border-slate-700 pt-4 flex justify-between items-center relative z-10",children:[c.jsxs("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[c.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-md text-xs font-bold text-slate-600 dark:text-slate-300",children:[(N.questions||[]).length," Soal"]}),N.details&&N.details.passed!==void 0&&(N.details.passed?c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[c.jsx(mn,{size:14})," Lulus"]}):c.jsxs("span",{className:"text-rose-500 dark:text-rose-400 font-bold flex items-center gap-1",children:[c.jsx(Fl,{size:14})," Tidak Lulus"]}))]}),c.jsxs("div",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400 flex items-center gap-1 group-hover:translate-x-1 transition-transform",children:["Review Detail ",c.jsx(Fi,{size:16})]})]})]},N.id)})})]})})},KC=({item:i,onBack:t})=>{if(Wg(i)){const l=i.details,s=(d,h)=>h==="speed"?d>50?"Sangat Cepat":d>35?"Cepat":"Sedang":h==="acc"?d>98?"Sangat Teliti":d>92?"Teliti":"Cukup":d<3?"Sangat Stabil":d<6?"Stabil":"Fluktuatif",r=l.intervalData||l.columnData||[];return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsxs("button",{onClick:t,className:"text-slate-500 dark:text-slate-400 flex items-center hover:text-indigo-600 transition",children:[c.jsx(dn,{size:16,className:"mr-1"})," Kembali ke Riwayat"]}),i.isAborted&&c.jsx("span",{className:"bg-amber-500 text-white text-xs px-2 py-1 rounded font-bold",children:"TIDAK FULL TEST"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl text-indigo-600 dark:text-indigo-400",children:c.jsx(Ki,{size:32})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Analisis Tes Pauli"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Detail performa ketahanan kerja"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-400 uppercase mb-2 flex items-center gap-2",children:[c.jsx(Bl,{size:16})," Kecepatan"]}),c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:l.speedPerMinute}),c.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1 font-bold",children:s(l.speedPerMinute,"speed")})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-400 uppercase mb-2 flex items-center gap-2",children:[c.jsx(mn,{size:16})," Akurasi"]}),c.jsxs("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:[l.accuracy,"%"]}),c.jsx("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1 font-bold",children:s(l.accuracy,"acc")})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-400 uppercase mb-2 flex items-center gap-2",children:[c.jsx(Ac,{size:16})," Stabilitas"]}),c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:l.consistencyScore}),c.jsx("div",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1 font-bold",children:s(l.consistencyScore,"stab")})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Grafik Ritme Kerja (Per 1 Menit)"}),c.jsx("div",{className:"h-64 flex items-end gap-1 bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 relative overflow-x-auto",children:r.map((d,h)=>{const x=Math.max(...r,1),v=d/x*100;return c.jsx("div",{className:"flex-1 min-w-[20px] bg-indigo-500/80 rounded-t relative group",style:{height:`${v}%`},children:c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block bg-black text-white text-[10px] px-2 py-1 rounded whitespace-nowrap z-10",children:["Int ",h+1,": ",d]})},h)})}),c.jsx("p",{className:"text-xs text-slate-400 mt-2 text-center",children:"Grafik menunjukkan jumlah jawaban benar per interval 1 menit (garis)."})]})]})]})})}if(ex(i)){const l=i.details;return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsxs("button",{onClick:t,className:"text-slate-500 dark:text-slate-400 flex items-center hover:text-indigo-600 transition",children:[c.jsx(dn,{size:16,className:"mr-1"})," Kembali ke Riwayat"]}),i.isAborted&&c.jsx("span",{className:"bg-amber-500 text-white text-xs px-2 py-1 rounded font-bold",children:"TIDAK FULL TEST"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl text-indigo-600 dark:text-indigo-400",children:c.jsx(jg,{size:32})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Analisis Tes Kecermatan"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:["Mode: ",c.jsx("span",{className:"font-bold uppercase text-indigo-600 dark:text-indigo-400",children:l.mode})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Total Benar"}),c.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400",children:l.totalCorrect})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Total Salah"}),c.jsx("div",{className:"text-3xl font-black text-rose-500",children:l.totalWrong})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Speed (Avg)"}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:l.averageSpeed}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"per kolom"})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Stabilitas"}),c.jsx("div",{className:"text-3xl font-black text-amber-500",children:l.stability}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"deviasi (makin kecil makin baik)"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Grafik Performa Per Kolom (Interval 1 Menit)"}),c.jsx("div",{className:"h-64 flex items-end gap-2 bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 relative",children:l.sectionData.map((s,r)=>{const d=Math.max(...l.sectionData.map(v=>v.correct+v.wrong),10),h=s.correct/d*100,x=s.wrong/d*100;return c.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center group relative h-full",children:[c.jsx("div",{className:"w-full bg-rose-400 rounded-t-sm opacity-80",style:{height:`${x}%`}}),c.jsx("div",{className:"w-full bg-indigo-600 rounded-t-sm",style:{height:`${h}%`}}),c.jsx("div",{className:"mt-2 text-[10px] font-bold text-slate-400",children:s.section}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-slate-900 text-white text-xs p-2 rounded z-10 whitespace-nowrap shadow-xl",children:["Kolom ",s.section,c.jsx("br",{}),"Benar: ",s.correct,c.jsx("br",{}),"Salah: ",s.wrong]})]},r)})}),c.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-sm"})," Benar"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-rose-400 rounded-sm"})," Salah"]})]}),c.jsx("p",{className:"text-xs text-slate-400 mt-2 text-center",children:"Grafik menunjukkan jumlah jawaban benar dan salah pada setiap kolom (durasi 1 menit per kolom)."})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl text-center",children:[c.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Kesimpulan"}),c.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-white",children:['"',l.verdict,'"']})]})]})]})})}return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsxs("button",{onClick:t,className:"text-slate-500 dark:text-slate-400 flex items-center hover:text-indigo-600 transition",children:[c.jsx(dn,{size:16,className:"mr-1"})," Kembali ke Riwayat"]}),i.isAborted&&c.jsx("span",{className:"bg-amber-500 text-white text-xs px-2 py-1 rounded font-bold",children:"TIDAK FULL TEST"})]}),i.category==="SKD"&&i.details&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 mb-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TWK"}),c.jsx("div",{className:`text-2xl font-black ${i.details.twk>=65?"text-emerald-600":"text-rose-500"}`,children:i.details.twk}),c.jsx("div",{className:"text-[10px] text-slate-400",children:"Target: 65"})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TIU"}),c.jsx("div",{className:`text-2xl font-black ${i.details.tiu>=80?"text-emerald-600":"text-rose-500"}`,children:i.details.tiu}),c.jsx("div",{className:"text-[10px] text-slate-400",children:"Target: 80"})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TKP"}),c.jsx("div",{className:`text-2xl font-black ${i.details.tkp>=166?"text-emerald-600":"text-rose-500"}`,children:i.details.tkp}),c.jsx("div",{className:"text-[10px] text-slate-400",children:"Target: 166"})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full bg-slate-50 dark:bg-slate-700/50 p-2 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-300 uppercase tracking-widest mb-1",children:"Total"}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:i.score})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(Ao,{size:20,className:"text-amber-500"})," Pembahasan Soal"]}),c.jsx("div",{className:"space-y-6",children:i.questions.map((l,s)=>{var v;const r=i.answers.find(g=>g.questionId===l.id),d=r==null?void 0:r.isCorrect,h=(r==null?void 0:r.scoreEarned)||0;let x="bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300";return h>0?l.tkpPoints?h===5?x="bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":x="bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":x="bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":x="bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400",c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/30 transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:["No. ",s+1]}),c.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide hidden sm:inline",children:(v=l.metadata)==null?void 0:v.subtest})]}),c.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 ${x}`,children:[h>0?c.jsx(mn,{size:12}):c.jsx(Fl,{size:12}),h," Poin"]})]}),c.jsx("div",{className:"mb-4 text-slate-800 dark:text-slate-200 font-medium text-base leading-relaxed",children:c.jsx(Up,{text:l.content})}),c.jsxs("div",{className:"grid gap-2 text-sm mb-4",children:[c.jsxs("div",{className:`p-3 rounded-lg border ${d?"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/10 dark:border-emerald-800 text-emerald-800 dark:text-emerald-300":"bg-rose-50 border-rose-200 dark:bg-rose-900/10 dark:border-rose-800 text-rose-800 dark:text-rose-300"}`,children:[c.jsx("span",{className:"font-bold block mb-1",children:"Jawaban Anda:"}),(r==null?void 0:r.selectedAnswer)||"Tidak dijawab"]}),!d&&!l.tkpPoints&&c.jsxs("div",{className:"p-3 rounded-lg border bg-indigo-50 border-indigo-200 dark:bg-indigo-900/10 dark:border-indigo-800 text-indigo-800 dark:text-indigo-300",children:[c.jsx("span",{className:"font-bold block mb-1",children:"Kunci Jawaban:"}),l.correctAnswer]}),l.tkpPoints&&c.jsxs("div",{className:"p-3 rounded-lg border bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700 text-slate-600 dark:text-slate-400",children:[c.jsx("span",{className:"font-bold block mb-1",children:"Poin Opsi TKP:"}),c.jsx("ul",{className:"list-disc pl-4 space-y-1",children:l.tkpPoints.sort((g,y)=>y.points-g.points).map((g,y)=>c.jsxs("li",{className:g.option===(r==null?void 0:r.selectedAnswer)?"font-bold text-indigo-600 dark:text-indigo-400":"",children:[g.points," Poin: ",g.option]},y))})]})]}),c.jsxs("div",{className:"mt-3 text-sm text-slate-600 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700 italic",children:[c.jsx("span",{className:"font-bold not-italic text-slate-700 dark:text-slate-300 block mb-1",children:"Pembahasan:"}),c.jsx(Up,{text:l.explanation})]})]},s)})})]})]})})},cc=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-800 dark:text-slate-200 leading-relaxed"})},JC=({timeLeft:i,onFinish:t})=>(O.useEffect(()=>{i<=0&&t()},[i,t]),c.jsxs("div",{className:"fixed inset-0 z-[60] bg-indigo-600 flex flex-col items-center justify-center text-white px-6",children:[c.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-8 animate-pulse",children:c.jsx(wc,{size:48,className:"text-white"})}),c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Istirahat Antar Subtes"}),c.jsxs("div",{className:"text-6xl font-mono font-bold mb-8",children:[i,"s"]}),c.jsx("p",{className:"text-xl text-center max-w-md italic opacity-90",children:'"Tarik nafas, persiapkan fokus untuk subtes berikutnya."'}),c.jsx("button",{onClick:t,className:"mt-8 px-6 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-bold",children:"Lewati Istirahat"})]})),YC=({mode:i,questions:t,drillContent:l,onComplete:s,isSkdSimulation:r,isUtbkSimulation:d,category:h,showToast:x})=>{var ie,A,q;const[v,g]=O.useState(0),[y,S]=O.useState(!1),[T,_]=O.useState(0),[N,k]=O.useState(0),[M,P]=O.useState({}),[X,j]=O.useState(!1),[Z,ne]=O.useState(!1),se=O.useRef(Date.now()),Y=()=>d&&Ti[0]?Ti[0].duration*60:r?6e3:i===Ne.SIMULATION?h==="PSIKOTEST"?2400:h==="TPA"?6e3:3600:0,[pe,te]=O.useState(Y),ee=O.useMemo(()=>{if(d){const H=Ti[v].name;return t.filter(I=>{var B,J;return(J=(B=I.metadata)==null?void 0:B.subtest)==null?void 0:J.includes(H)})}return t},[t,d,v]);O.useEffect(()=>{let H=null;return y&&T>0?H=setInterval(()=>_(I=>I-1),1e3):y&&T===0?S(!1):pe>0&&!X&&i===Ne.SIMULATION?H=setInterval(()=>{te(I=>(I<=11&&I>1&&le.play("tick"),I-1))},1e3):pe===0&&i===Ne.SIMULATION&&(d?me():Ee()),()=>clearInterval(H)},[pe,X,y,T,i]);const me=()=>{if(d)if(v<Ti.length-1){le.play("success");const H=v+1;g(H);const I=Ti[H].duration;te(I*60),k(0),_(30),S(!0)}else Ee();else Ee()},Ee=()=>{le.play("finish"),s(Object.values(M))},ge=()=>{const H=Object.values(M);s(H,void 0,!0)},we=async H=>{var Ze;const I=ee[N];if(!I)return;le.play("click");let B=0,J=!1;if(h==="SKD")if(I.tkpPoints&&I.tkpPoints.length>0){const be=I.tkpPoints.find(pt=>pt.option===H);B=be?be.points:0,J=B===5}else J=H===I.correctAnswer,B=J?5:0;else if(h==="UTBK"){J=H===I.correctAnswer;const be=((Ze=I.metadata)==null?void 0:Ze.difficulty)||"Medium";B=J?be==="HOTS"||be==="Hard"?3:be==="Medium"?2:1:0}else J=H===I.correctAnswer,B=J?10:0;let W="";if(I.type!=="multiple_choice"&&h==="GENERAL")try{const be=await K_(I.content,I.correctAnswer,H);B=be.score,J=be.isCorrect,W=be.feedback}catch{console.error("Grading failed")}const xe=M[I.id],ue=(Date.now()-se.current)/1e3,Je={questionId:I.id,selectedAnswer:H,isCorrect:J,scoreEarned:B,timeTakenSeconds:((xe==null?void 0:xe.timeTakenSeconds)||0)+ue,isOverthinking:!1,isGuessing:ue<5,aiEvaluation:W,isDoubtful:(xe==null?void 0:xe.isDoubtful)||!1};P(be=>({...be,[I.id]:Je})),se.current=Date.now()},ze=()=>{const H=ee[N];P(I=>{const B=I[H.id];return B?{...I,[H.id]:{...B,isDoubtful:!B.isDoubtful}}:{...I,[H.id]:{questionId:H.id,selectedAnswer:"",isCorrect:!1,scoreEarned:0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1,isDoubtful:!0}}})},L=H=>{const I=Math.floor(H/3600),B=Math.floor(H%3600/60),J=Math.floor(H%60);return`${I>0?I+":":""}${B.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},$=(H,I)=>H.length===0?null:c.jsxs("div",{className:"mb-6 animate-fade-in-up",children:[c.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 border-b border-slate-100 dark:border-slate-700 pb-1",children:I}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:H.map((B,J)=>{const W=ee.findIndex(Je=>Je.id===B.id),xe=M[B.id];let ue="bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300";return xe!=null&&xe.selectedAnswer&&(ue="bg-emerald-500 border-emerald-500 text-white"),xe!=null&&xe.isDoubtful&&(ue="bg-amber-400 border-amber-400 text-white"),W===N&&(ue+=" ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-800"),c.jsx("button",{onClick:()=>{k(W),ne(!1)},className:`aspect-square rounded-lg border flex items-center justify-center font-bold text-sm transition-all ${ue}`,children:W+1},B.id)})})]});if(y)return c.jsx(JC,{timeLeft:T,onFinish:()=>{S(!1)}});if(ee.length===0)return c.jsxs("div",{className:"p-10 text-center",children:[c.jsx(ql,{className:"animate-spin mx-auto"})," Menyiapkan soal subtes..."]});const re=ee[N],ye=M[re.id];return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row h-screen overflow-hidden transition-colors relative",children:[X&&c.jsx("div",{className:"absolute inset-0 z-50 bg-white/80 dark:bg-slate-900/90 backdrop-blur-md flex flex-col items-center justify-center animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-2xl text-center border border-slate-200 dark:border-slate-700 max-w-sm w-full",children:[c.jsx(Oa,{size:48,className:"mx-auto mb-4 text-indigo-600"}),c.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Ujian Dijeda"}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsxs("button",{onClick:()=>j(!1),className:"px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 flex items-center gap-2",children:[c.jsx(Oc,{size:20})," Lanjutkan"]}),c.jsx("button",{onClick:ge,className:"px-6 py-3 border-2 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-700",children:"Keluar (Simpan)"})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative order-1",children:[c.jsxs("div",{className:"md:hidden bg-white dark:bg-slate-800 p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm z-20",children:[c.jsxs("div",{className:"font-bold text-slate-700 dark:text-white text-sm",children:["No. ",N+1]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i===Ne.SIMULATION&&c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs font-mono font-bold dark:text-white",children:L(pe)}),c.jsx("button",{onClick:()=>ne(!Z),className:"p-2 bg-indigo-50 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-400 rounded",children:c.jsx(Og,{size:20})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:c.jsxs("div",{className:"max-w-3xl mx-auto pb-24",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 md:p-8 mb-6",children:[i===Ne.DRILL&&l&&c.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-100 dark:border-indigo-800 text-sm text-slate-700 dark:text-slate-300",children:[c.jsxs("h4",{className:"font-bold text-indigo-700 dark:text-indigo-300 mb-2 flex items-center gap-2",children:[c.jsx(Ao,{size:16})," ",l.topic]}),c.jsx("p",{children:l.summary})]}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:d?Ti[v].name:((ie=re.metadata)==null?void 0:ie.subtest)||"General"}),((A=re.metadata)==null?void 0:A.difficulty)==="HOTS"&&c.jsxs("span",{className:"flex items-center gap-1 text-rose-600 dark:text-rose-400 font-bold text-xs bg-rose-50 dark:bg-rose-900/20 px-2 py-1 rounded-full",children:[c.jsx(Ao,{size:12})," HOTS"]})]}),c.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-8 text-slate-800 dark:text-slate-100",children:c.jsx(cc,{text:re.content})}),re.type==="multiple_choice"?c.jsx("div",{className:"space-y-3",children:(q=re.options)==null?void 0:q.map((H,I)=>{var ue;const B=String.fromCharCode(65+I),J=(ye==null?void 0:ye.selectedAnswer)===H;let W="border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-750",xe="bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 group-hover:bg-slate-200 dark:group-hover:bg-slate-600";return J&&(W="border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 dark:border-indigo-500",xe="bg-indigo-600 text-white"),i!==Ne.SIMULATION&&ye&&((re.tkpPoints?((ue=re.tkpPoints.find(Ze=>Ze.option===H))==null?void 0:ue.points)===5:H===re.correctAnswer)?(W="border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20",xe="bg-emerald-500 text-white"):J&&(W="border-rose-500 bg-rose-50 dark:bg-rose-900/20",xe="bg-rose-500 text-white")),c.jsxs("button",{onClick:()=>we(H),className:`w-full flex items-start p-4 rounded-xl border-2 transition-all group text-left ${W}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm mr-4 transition-colors ${xe}`,children:B}),c.jsx("div",{className:"flex-1 pt-1 text-slate-700 dark:text-slate-200 text-base",children:c.jsx(cc,{text:H})})]},I)})}):c.jsxs("div",{children:[" ",c.jsx("textarea",{className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 dark:bg-slate-900 dark:text-white",placeholder:"Ketik jawaban Anda...",rows:4,value:(ye==null?void 0:ye.selectedAnswer)||"",onChange:H=>we(H.target.value)})," "]})]}),i!==Ne.SIMULATION&&ye&&c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 rounded-2xl p-6 animate-fade-in-up",children:[c.jsxs("h4",{className:"font-bold text-emerald-800 dark:text-emerald-300 mb-3 flex items-center gap-2",children:[c.jsx(Kg,{size:20})," Pembahasan"]}),c.jsx("div",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:c.jsx(cc,{text:re.explanation})})]})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-4 z-10",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[c.jsxs("button",{onClick:()=>{k(H=>Math.max(0,H-1))},disabled:N===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",children:[c.jsx(dn,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),c.jsxs("button",{onClick:ze,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold border transition ${ye!=null&&ye.isDoubtful?"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-400 border-amber-300 dark:border-amber-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-600"}`,children:[c.jsx("input",{type:"checkbox",checked:(ye==null?void 0:ye.isDoubtful)||!1,readOnly:!0,className:"w-4 h-4 accent-amber-500 cursor-pointer"}),c.jsx("span",{children:"Ragu-ragu"})]}),c.jsxs("button",{onClick:()=>{le.play("click"),N<ee.length-1?k(H=>H+1):d?me():Ee()},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-bold bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg",children:[c.jsx("span",{className:"hidden sm:inline",children:N===ee.length-1?d&&v<Ti.length-1?"Lanjut Subtes":"Selesai":"Berikutnya"}),c.jsx(Fi,{size:20})]})]})})]}),c.jsxs("div",{className:`fixed inset-y-0 right-0 w-80 bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 transform transition-transform duration-300 z-40 flex flex-col order-2 ${Z?"translate-x-0":"translate-x-full"} md:translate-x-0 md:relative md:w-80`,children:[c.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800",children:[c.jsxs("button",{onClick:ge,className:"flex items-center gap-2 text-rose-500 font-bold hover:text-rose-600",children:[c.jsx(dn,{size:18})," Keluar (Simpan)"]}),c.jsx("button",{onClick:()=>ne(!1),className:"md:hidden text-slate-500",children:c.jsx(Fl,{size:24})})]}),i===Ne.SIMULATION&&pe>0&&c.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 hidden md:block",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"text-xs font-bold text-indigo-500 uppercase tracking-wider",children:"Sisa Waktu"}),c.jsxs("button",{onClick:()=>j(!0),className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded font-bold hover:bg-amber-200 flex items-center gap-1",children:[c.jsx(Oa,{size:12})," Jeda"]})]}),c.jsx("div",{className:"text-3xl font-mono font-bold text-slate-800 dark:text-white text-center",children:L(pe)})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:r?c.jsxs(c.Fragment,{children:[$(ee.filter(H=>{var I,B;return(B=(I=H.metadata)==null?void 0:I.subtest)==null?void 0:B.includes("TWK")}),"Tes Wawasan Kebangsaan (TWK)"),$(ee.filter(H=>{var I,B;return(B=(I=H.metadata)==null?void 0:I.subtest)==null?void 0:B.includes("TIU")}),"Tes Intelegensia Umum (TIU)"),$(ee.filter(H=>{var I,B;return(B=(I=H.metadata)==null?void 0:I.subtest)==null?void 0:B.includes("TKP")}),"Tes Karakteristik Pribadi (TKP)")]}):$(ee,d?Ti[v].name:h)}),c.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 md:hidden",children:c.jsx("button",{onClick:Ee,className:"w-full py-3 bg-rose-600 text-white rounded-xl font-bold",children:"Hentikan Ujian"})})]}),Z&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>ne(!1)})]})},po=10,dc=60,$C=500,Lp=50,XC=(i,t)=>Array.from({length:i},()=>Array.from({length:t},()=>Math.floor(Math.random()*10))),QC=(i,t,l)=>{let s=0;return i>=60?s+=40:i>=50?s+=35:i>=40?s+=30:i>=30?s+=20:s+=10,t>=98?s+=30:t>=95?s+=25:t>=90?s+=20:t>=80?s+=10:s+=5,l<2?s+=30:l<4?s+=25:l<6?s+=15:l<8?s+=5:s+=0,s>=90?"Sempurna (Sangat Disarankan)":s>=80?"Sangat Baik":s>=65?"Baik":s>=50?"Cukup":s>=35?"Kurang":"Buruk"},ZC=({onBack:i,onComplete:t})=>{const[l,s]=O.useState("SETUP"),[r,d]=O.useState([]),[h,x]=O.useState(0),[v,g]=O.useState(0),[y,S]=O.useState(0),[T,_]=O.useState(0),[N,k]=O.useState([]),[M,P]=O.useState(0),[X,j]=O.useState(!1),[Z,ne]=O.useState(po*60),[se,Y]=O.useState(dc),pe=()=>{const ie=XC($C,Lp);d(ie),x(0),g(0),S(0),_(0),k([]),P(0),ne(po*60),Y(dc),s("PLAYING"),le.play("click")},te=O.useCallback(ie=>{if(l!=="PLAYING")return;const A=r[h][v],q=r[h][v+1];if(q===void 0){x(J=>J+1),g(0);return}const I=(A+q)%10;ie===I?(S(J=>J+1),P(J=>J+1)):(_(J=>J+1),le.play("error")),v<Lp-2?g(J=>J+1):(x(J=>J+1),g(0))},[r,h,v,l]);O.useEffect(()=>{const ie=A=>{l==="PLAYING"&&A.key>="0"&&A.key<="9"&&te(parseInt(A.key))};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[l,te]),O.useEffect(()=>{if(l!=="PLAYING")return;const ie=setInterval(()=>{ne(A=>A<=1?(Ee(),0):A-1),Y(A=>(A<=6&&A>1&&le.play("tick"),A<=1?(le.play("success"),me(),dc):A-1))},1e3);return()=>clearInterval(ie)},[l,M]);const ee=O.useRef(0);O.useEffect(()=>{ee.current=M},[M]);const me=()=>{const ie=ee.current;k(A=>[...A,ie]),P(0),j(!0),setTimeout(()=>j(!1),2e3)},Ee=(ie=!1)=>{const A=ee.current;A>0&&k(q=>[...q,A]),s("FINISHED"),ie||le.play("finish")},ge=()=>{const ie=y+T,A=(po*60-Z)/60,q=A<.1?.1:A,H=q>0?Math.round(y/q):0,I=ie>0?y/ie*100:0;let B=0;if(N.length>0){const W=N.reduce((ue,Je)=>ue+Je,0)/N.length,xe=N.reduce((ue,Je)=>ue+Math.pow(Je-W,2),0)/N.length;B=Math.sqrt(xe)}const J=QC(H,I,B);return{totalCorrect:y,totalWrong:T,totalAttempts:ie,totalColumns:h,speedPerMinute:H,consistencyScore:parseFloat(B.toFixed(2)),accuracy:Math.round(I),intervalData:N,interpretation:{verdict:J,speedDesc:H>50?"Sangat Cepat":H>35?"Cepat":"Sedang",accDesc:I>95?"Sangat Teliti":I>85?"Teliti":"Cukup",stabDesc:B<3?"Sangat Stabil":B<6?"Stabil":"Kurang Stabil"}}},we=ie=>{const A=Math.floor(ie/60),q=ie%60;return`${A}:${q.toString().padStart(2,"0")}`},ze=()=>{const ie=ge(),A={id:`pauli-${Date.now()}`,date:new Date().toISOString(),category:"PSIKOTEST",score:ie.speedPerMinute,maxScore:0,details:ie,questions:[],answers:[],isAborted:!0};t(A)};if(l==="SETUP")return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 animate-fade-in-up",children:[c.jsxs("div",{className:"p-8 bg-indigo-600 text-white text-center relative overflow-hidden",children:[c.jsx(Ki,{size:64,className:"mx-auto mb-4 relative z-10"}),c.jsx("h1",{className:"text-3xl font-black relative z-10",children:"Tes Pauli Digital"}),c.jsx("p",{className:"opacity-90 relative z-10 text-sm mt-2",children:"Uji Ketahanan & Stabilitas Kerja"})]}),c.jsxs("div",{className:"p-8 space-y-6",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl text-sm text-slate-600 dark:text-slate-300 space-y-3",children:[c.jsxs("p",{className:"flex items-center gap-3",children:[c.jsx(Bl,{size:18,className:"text-indigo-500 shrink-0"})," ",c.jsxs("span",{children:[c.jsx("strong",{children:"Durasi:"})," ",po," Menit"]})]}),c.jsxs("p",{className:"flex items-center gap-3",children:[c.jsx(Ki,{size:18,className:"text-emerald-500 shrink-0"})," ",c.jsxs("span",{children:[c.jsx("strong",{children:"Instruksi:"})," Jumlahkan dua angka yang berdekatan. Masukkan digit satuan saja (misal: 12  2)."]})]}),c.jsxs("p",{className:"flex items-center gap-3",children:[c.jsx(Ac,{size:18,className:"text-amber-500 shrink-0"})," ",c.jsxs("span",{children:[c.jsx("strong",{children:"Garis:"})," Setiap 1 menit, muncul tanda 'Garis'. Tetap lanjutkan menghitung."]})]})]}),c.jsxs("button",{onClick:pe,className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2 hover:scale-105 transform duration-200",children:[c.jsx(Oc,{size:24,fill:"currentColor"})," Mulai Tes"]}),c.jsx("button",{onClick:i,className:"w-full py-3 text-slate-500 hover:text-indigo-600 font-bold text-sm transition",children:"Kembali"})]})]})});if(l==="FINISHED"){const ie=ge(),A={id:`pauli-${Date.now()}`,date:new Date().toISOString(),category:"PSIKOTEST",score:ie.speedPerMinute,maxScore:0,details:ie,questions:[],answers:[]};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 flex items-center justify-center animate-fade-in",children:c.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-slate-800 rounded-3xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"Analisis Profil Kerja"}),c.jsx("div",{className:"mt-4 inline-block px-6 py-2 bg-indigo-600 text-white text-xl font-bold rounded-full shadow-lg",children:ie.interpretation.verdict})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-2xl text-center border border-slate-100 dark:border-slate-600",children:[c.jsxs("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2 flex justify-center items-center gap-1",children:[c.jsx(Bl,{size:14})," Kecepatan"]}),c.jsx("div",{className:"text-4xl font-black text-slate-800 dark:text-white",children:ie.speedPerMinute}),c.jsxs("div",{className:"text-xs text-slate-500",children:["angka/menit (",ie.interpretation.speedDesc,")"]})]}),c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-2xl text-center border border-slate-100 dark:border-slate-600",children:[c.jsxs("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2 flex justify-center items-center gap-1",children:[c.jsx(mn,{size:14})," Akurasi"]}),c.jsxs("div",{className:"text-4xl font-black text-emerald-600 dark:text-emerald-400",children:[ie.accuracy,"%"]}),c.jsx("div",{className:"text-xs text-slate-500",children:ie.interpretation.accDesc})]}),c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-2xl text-center border border-slate-100 dark:border-slate-600",children:[c.jsxs("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2 flex justify-center items-center gap-1",children:[c.jsx(Ki,{size:14})," Stabilitas"]}),c.jsx("div",{className:"text-4xl font-black text-amber-500",children:ie.consistencyScore}),c.jsxs("div",{className:"text-xs text-slate-500",children:["deviasi (",ie.interpretation.stabDesc,")"]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 mb-4 flex items-center gap-2",children:[c.jsx(Ac,{size:18})," Grafik Ritme Kerja (Per 1 Menit)"]}),c.jsx("div",{className:"h-48 flex items-end gap-1 p-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-700 overflow-x-auto",children:ie.intervalData.map((q,H)=>{const I=Math.max(...ie.intervalData,1),B=q/I*100;return c.jsxs("div",{className:"flex-1 min-w-[20px] bg-indigo-500/80 hover:bg-indigo-500 transition-all rounded-t relative group",style:{height:`${B}%`},children:[c.jsx("div",{className:"absolute bottom-0 w-full text-center text-[8px] text-white/50",children:H+1}),c.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block bg-black text-white text-[10px] px-2 py-1 rounded z-10 shadow-lg",children:q})]},H)})})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>{s("SETUP")},className:"flex-1 py-4 border-2 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-bold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:"Ulangi Tes"}),c.jsxs("button",{onClick:()=>t(A),className:"flex-1 py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition flex items-center justify-center gap-2 shadow-lg shadow-indigo-200 dark:shadow-none",children:[c.jsx(Yg,{size:20})," Simpan & Keluar"]})]})]})})}const L=r[h]||[],$=L[v],re=L[v+1],ye=[1,2,3,4,5,6,7,8,9,0];return c.jsxs("div",{className:"fixed inset-0 bg-slate-100 dark:bg-slate-900 flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-3 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm z-20 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Waktu"}),c.jsx("div",{className:"text-xl font-mono font-bold text-slate-800 dark:text-white",children:we(Z)})]}),c.jsxs("div",{className:"text-center pl-4 border-l border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Benar"}),c.jsx("div",{className:"text-xl font-bold text-emerald-600",children:y})]})]}),c.jsx("button",{onClick:()=>s("PAUSED"),className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:c.jsx(Oa,{size:20,className:"text-slate-600 dark:text-slate-300"})})]}),X&&c.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 z-50 bg-amber-500 text-white px-6 py-2 rounded-full font-bold shadow-lg animate-pulse border-2 border-white",children:"GARIS!  LANJUT HITUNG"}),c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center relative p-4",children:c.jsxs("div",{className:"flex flex-col items-center gap-2 transform scale-110",children:[c.jsx("div",{className:"text-4xl font-mono font-bold text-slate-300 dark:text-slate-700 opacity-30 blur-[1px]",children:v>0?L[v-1]:"-"}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-xl border-4 border-indigo-100 dark:border-slate-700 flex flex-col items-center gap-2 w-64 animate-fade-in-up",children:[c.jsx("div",{className:"text-6xl font-mono font-black text-slate-800 dark:text-white",children:$}),c.jsx("div",{className:"w-16 h-1 bg-slate-200 dark:bg-slate-600 rounded-full my-1"}),c.jsx("div",{className:"text-6xl font-mono font-black text-slate-800 dark:text-white",children:re!==void 0?re:"-"})]}),c.jsx("div",{className:"text-4xl font-mono font-bold text-slate-300 dark:text-slate-700 opacity-30 blur-[1px]",children:L[v+2]!==void 0?L[v+2]:"-"})]})}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 pb-8 border-t border-slate-200 dark:border-slate-700 shrink-0 z-30",children:[c.jsx("div",{className:"max-w-md mx-auto grid grid-cols-5 gap-3",children:ye.map(ie=>c.jsx("button",{onClick:()=>te(ie),className:"h-16 rounded-2xl bg-slate-100 dark:bg-slate-700 text-2xl font-bold text-slate-700 dark:text-white shadow-sm border-b-4 border-slate-200 dark:border-slate-900 active:border-b-0 active:translate-y-1 transition-all hover:bg-indigo-50 dark:hover:bg-slate-600 active:bg-indigo-100 dark:active:bg-slate-500",children:ie},ie))}),c.jsx("div",{className:"text-center mt-4 text-xs text-slate-400",children:"Gunakan tombol di atas atau keyboard angka"})]}),l==="PAUSED"&&c.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tes Dijeda"}),c.jsx("p",{className:"text-white/60 mb-6 text-sm",children:"Ambil napas sejenak, lalu lanjutkan."}),c.jsx("button",{onClick:()=>s("PLAYING"),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-bold text-lg mb-4 hover:scale-105 transition w-full max-w-xs shadow-lg",children:"Lanjutkan"}),c.jsx("button",{onClick:ze,className:"px-8 py-4 bg-transparent border-2 border-white/20 text-white rounded-2xl font-bold text-lg hover:bg-white/10 transition w-full max-w-xs",children:"Keluar (Simpan)"})]})]})},Gp=10,Pp=60,Hp=["A","B","C","D","E"],Vt=["","","","","","","","","","","",""],zp=(i,t,l)=>{let s=0;return i===100?s+=50:i>=95?s+=45:i>=90?s+=40:i>=80?s+=30:i>=70?s+=20:s+=10,t>=50?s+=30:t>=40?s+=25:t>=30?s+=20:t>=20?s+=10:s+=5,l<2?s+=20:l<4?s+=15:l<6?s+=10:l<8&&(s+=5),s>=95?"Sempurna":s>=85?"Sangat Baik":s>=70?"Baik":s>=55?"Cukup":s>=40?"Kurang":"Buruk"},Bp=i=>{let t=[];i==="ANGKA"?t=[...["0","1","2","3","4","5","6","7","8","9"]].sort(()=>.5-Math.random()).slice(0,5):t=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")].sort(()=>.5-Math.random()).slice(0,5);const l=Math.floor(Math.random()*5),s=t.filter((r,d)=>d!==l).sort(()=>.5-Math.random());return{reference:t,question:s,answer:l}},qp=()=>{const i=3+Math.floor(Math.random()*2),t=Array.from({length:i},()=>Vt[Math.floor(Math.random()*Vt.length)]),l=Math.random()>.5;let s=[...t];if(!l)if(Math.random()>.5){const r=Math.floor(Math.random()*i);let d=Vt[Math.floor(Math.random()*Vt.length)];for(;d===t[r];)d=Vt[Math.floor(Math.random()*Vt.length)];s[r]=d}else i>=2&&([s[0],s[1]]=[s[1],s[0]],s[0]===s[1]&&(s[0]=Vt.find(h=>h!==s[0])||"X"));return{left:t,right:s,isSame:l}},jp=()=>{const t=[...Vt].sort(()=>.5-Math.random()).slice(0,5),l=Math.floor(Math.random()*5),s=t[l];return{map:t,target:s,answer:l}},Vp=()=>{const i=Vt[Math.floor(Math.random()*Vt.length)],t=Array.from({length:20},()=>{if(Math.random()<.3)return i;let s=Vt[Math.floor(Math.random()*Vt.length)];for(;s===i;)s=Vt[Math.floor(Math.random()*Vt.length)];return s}),l=t.filter(s=>s===i).length;return{target:i,grid:t,totalCorrect:l}},WC=({initialMode:i,onBack:t,onComplete:l})=>{var H;const[s,r]=O.useState(i||"ANGKA"),[d,h]=O.useState(1),[x,v]=O.useState(Pp),[g,y]=O.useState(!1),[S,T]=O.useState("PLAYING"),[_,N]=O.useState(null),[k,M]=O.useState(null),[P,X]=O.useState(null),[j,Z]=O.useState(null),[ne,se]=O.useState([]),[Y,pe]=O.useState([]),[te,ee]=O.useState(0),[me,Ee]=O.useState(0),[ge,we]=O.useState(null),ze=O.useCallback(()=>{if(s==="ANGKA"||s==="HURUF")if(_){const I=Math.floor(Math.random()*5),B=_.reference.filter((J,W)=>W!==I).sort(()=>.5-Math.random());N({..._,question:B,answer:I})}else{const I=Bp(s);N(I)}else if(s==="SIMBOL")M(qp());else if(s==="MATCHING")if(!P)X(jp());else{const I=Math.floor(Math.random()*5);X({...P,target:P.map[I],answer:I})}else s==="GROUPING"&&(Z(Vp()),se([]))},[s,_,P]),L=O.useCallback(()=>{N(null),X(null),M(null),Z(null),s==="ANGKA"||s==="HURUF"?N(Bp(s)):s==="SIMBOL"?M(qp()):s==="MATCHING"?X(jp()):s==="GROUPING"&&(Z(Vp()),se([])),v(Pp),ee(0),Ee(0)},[s]);O.useEffect(()=>{S==="PLAYING"&&L()},[d,s,S]);const $=I=>{if(g)return;let B=!1;s==="ANGKA"||s==="HURUF"?B=I===(_==null?void 0:_.answer):s==="SIMBOL"?B=I===(k==null?void 0:k.isSame):s==="MATCHING"&&(B=I===(P==null?void 0:P.answer)),B?(ee(J=>J+1),we("CORRECT")):(Ee(J=>J+1),we("WRONG"),le.play("error")),setTimeout(()=>we(null),150),ze()},re=()=>{if(!j)return;let I=0,B=0;ne.forEach(W=>{j.grid[W]===j.target?I++:B++});const J=j.totalCorrect-I;ee(W=>W+I),Ee(W=>W+B+J),B===0&&J===0?(we("CORRECT"),le.play("success")):(we("WRONG"),le.play("error")),setTimeout(()=>we(null),200),ze()},ye=I=>{le.play("click"),se(B=>B.includes(I)?B.filter(J=>J!==I):[...B,I])};O.useEffect(()=>{if(g||S==="FINISHED")return;const I=setInterval(()=>{v(B=>(B<=6&&B>1&&le.play("tick"),B<=1?(ie(),0):B-1))},1e3);return()=>clearInterval(I)},[g,d,S]);const ie=()=>{const I={section:d,correct:te,wrong:me};pe(B=>{const J=[...B,I];return d>=Gp?setTimeout(()=>T("FINISHED"),0):setTimeout(()=>{h(W=>W+1),le.play("success")},0),J})},A=()=>{const I=Y.length,B=Y.reduce((At,Ut)=>At+Ut.correct,0),J=Y.reduce((At,Ut)=>At+Ut.wrong,0),W=I>0?B/I:0,xe=B+J,ue=xe>0?B/xe*100:0,Je=W,Ze=Y.reduce((At,Ut)=>At+Math.pow(Ut.correct-Je,2),0)/(I||1),be=Math.sqrt(Ze),pt=zp(ue,W,be),mt={mode:s,totalCorrect:B,totalWrong:J,averageSpeed:parseFloat(W.toFixed(1)),accuracy:parseFloat(ue.toFixed(1)),sectionData:Y,stability:parseFloat(be.toFixed(2)),verdict:pt},Qt={id:`kecer-${Date.now()}`,date:new Date().toISOString(),category:"KECERMATAN",score:Math.round(ue),maxScore:100,details:mt,questions:[],answers:[]};le.play("finish"),l(Qt)},q=()=>{const I={section:d,correct:te,wrong:me};pe(B=>{const J=[...B,I],W=J.reduce((At,Ut)=>At+Ut.correct,0),xe=J.reduce((At,Ut)=>At+Ut.wrong,0),ue=W/J.length,Je=W+xe,Ze=Je>0?W/Je*100:0,mt={mode:s,totalCorrect:W,totalWrong:xe,averageSpeed:parseFloat(ue.toFixed(1)),accuracy:parseFloat(Ze.toFixed(1)),sectionData:J,stability:parseFloat(5 .toFixed(2)),verdict:"Belum Selesai"},Qt={id:`kecer-${Date.now()}`,date:new Date().toISOString(),category:"KECERMATAN",score:Math.round(Ze),maxScore:100,details:mt,questions:[],answers:[],isAborted:!0};return l(Qt),J})};if(S==="FINISHED"){const I=Y.reduce((Ze,be)=>Ze+be.correct,0),B=I/Y.length,J=I/(I+Y.reduce((Ze,be)=>Ze+be.wrong,0))*100,W=B,xe=Y.reduce((Ze,be)=>Ze+Math.pow(be.correct-W,2),0)/Y.length,ue=Math.sqrt(xe),Je=zp(J,B,ue);return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex items-center justify-center animate-fade-in",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 text-center",children:[c.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:"Tes Selesai!"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Berikut hasil performa kecermatan Anda."}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("div",{className:"px-6 py-2 bg-indigo-600 text-white rounded-full font-bold text-xl shadow-lg shadow-indigo-200 dark:shadow-none animate-bounce-slow",children:Je})}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Kecepatan"}),c.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white",children:B.toFixed(1)}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"poin/menit"})]}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Akurasi"}),c.jsxs("div",{className:"text-2xl font-black text-emerald-500",children:[J.toFixed(1),"%"]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Stabilitas"}),c.jsx("div",{className:"text-2xl font-black text-amber-500",children:ue.toFixed(2)}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"deviasi"})]})]}),c.jsx("div",{className:"h-32 flex items-end gap-1 mb-8",children:Y.map((Ze,be)=>{const pt=Math.max(...Y.map(Qt=>Qt.correct),1),mt=Ze.correct/pt*100;return c.jsx("div",{className:"flex-1 bg-indigo-200 dark:bg-indigo-900 rounded-t-lg relative group",children:c.jsx("div",{className:"absolute bottom-0 w-full bg-indigo-600 rounded-t-lg transition-all duration-500",style:{height:`${mt}%`}})},be)})}),c.jsxs("button",{onClick:A,className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:opacity-90 transition flex items-center justify-center gap-2",children:[c.jsx(Yg,{size:20})," Simpan Hasil"]})]})})}return c.jsxs("div",{className:"fixed inset-0 bg-slate-100 dark:bg-slate-900 flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"px-4 py-2 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm shrink-0 z-20",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Bagian"}),c.jsxs("span",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400",children:[d,"/",Gp]})]}),c.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Waktu"}),c.jsxs("span",{className:`text-lg font-mono font-black ${x<=5?"text-rose-500 animate-pulse":"text-slate-800 dark:text-white"}`,children:[x,"s"]})]}),c.jsxs("div",{className:"hidden sm:flex flex-col border-l pl-4 border-slate-200 dark:border-slate-700",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Benar"}),c.jsx("span",{className:"text-lg font-black text-emerald-600",children:te})]})]}),c.jsx("button",{onClick:()=>y(!0),className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:c.jsx(Oa,{size:20,className:"text-slate-600 dark:text-slate-300"})})]}),c.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[ge&&c.jsx("div",{className:`absolute inset-0 z-10 flex items-center justify-center pointer-events-none transition-opacity duration-150 ${ge==="CORRECT"?"bg-emerald-500/10":"bg-rose-500/10"}`,children:c.jsx("div",{className:`p-4 rounded-full ${ge==="CORRECT"?"bg-emerald-500 text-white":"bg-rose-500 text-white"} shadow-xl transform scale-125`,children:ge==="CORRECT"?c.jsx(mn,{size:64}):c.jsx(Cc,{size:64})})}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-2 w-full max-w-4xl mx-auto h-full min-h-0",children:[(s==="ANGKA"||s==="HURUF"||s==="MATCHING")&&c.jsxs("div",{className:"w-full h-full flex flex-col justify-center gap-4 sm:gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-2 shrink-0",children:[c.jsx("div",{className:"grid grid-cols-5 gap-1",children:(H=s==="MATCHING"?P==null?void 0:P.map:_==null?void 0:_.reference)==null?void 0:H.map((I,B)=>c.jsx("div",{className:`aspect-square flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-lg ${s==="MATCHING"?"py-1":""}`,children:c.jsx("span",{className:`${s==="MATCHING"?"text-xl":"text-2xl sm:text-4xl"} font-black text-slate-800 dark:text-white`,children:I})},B))}),c.jsx("div",{className:"grid grid-cols-5 gap-1 text-center border-t border-slate-100 dark:border-slate-600 pt-1 mt-1",children:Hp.map((I,B)=>c.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400",children:I},B))})]}),c.jsxs("div",{className:"text-center py-2 flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:s==="MATCHING"?"Cari Pasangan:":"Mana yang hilang?"}),s==="MATCHING"?c.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 mx-auto flex items-center justify-center bg-indigo-600 rounded-3xl shadow-xl transform transition-all duration-300",children:c.jsx("span",{className:"text-5xl sm:text-6xl font-black text-white",children:P==null?void 0:P.target})}):c.jsx("div",{className:"flex justify-center gap-2 sm:gap-4 flex-wrap",children:_==null?void 0:_.question.map((I,B)=>c.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 flex items-center justify-center bg-white dark:bg-slate-800 rounded-xl border-2 border-slate-200 dark:border-slate-600 shadow-sm text-slate-800 dark:text-white font-bold text-xl sm:text-3xl",children:I},B))})]})]}),s==="SIMBOL"&&k&&c.jsxs("div",{className:"w-full max-w-md h-full flex flex-col justify-center gap-4 text-center min-h-0",children:[c.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4 flex-1 justify-center min-h-0",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 sm:p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-600 shadow-md flex-1 flex items-center justify-center",children:c.jsx("div",{className:"flex justify-center gap-1 sm:gap-2 flex-wrap",children:k.left.map((I,B)=>c.jsx("span",{className:"text-2xl sm:text-4xl text-slate-800 dark:text-white",children:I},B))})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 sm:p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-600 shadow-md flex-1 flex items-center justify-center",children:c.jsx("div",{className:"flex justify-center gap-1 sm:gap-2 flex-wrap",children:k.right.map((I,B)=>c.jsx("span",{className:"text-2xl sm:text-4xl text-slate-800 dark:text-white",children:I},B))})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 shrink-0",children:[c.jsxs("button",{onClick:()=>$(!0),className:"h-16 sm:h-24 bg-emerald-500 hover:bg-emerald-600 text-white rounded-3xl font-black text-lg sm:text-xl shadow-lg active:scale-95 transition-transform flex flex-col items-center justify-center",children:[c.jsx(mn,{size:24,className:"mb-1 hidden sm:block"})," SAMA"]}),c.jsxs("button",{onClick:()=>$(!1),className:"h-16 sm:h-24 bg-rose-500 hover:bg-rose-600 text-white rounded-3xl font-black text-lg sm:text-xl shadow-lg active:scale-95 transition-transform flex flex-col items-center justify-center",children:[c.jsx(Cc,{size:24,className:"mb-1 hidden sm:block"})," BEDA"]})]}),c.jsx("p",{className:"text-xs text-slate-400 pb-1",children:"Bandingkan kedua kotak. Sama atau Beda?"})]}),s==="GROUPING"&&j&&c.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden min-h-0",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2 shrink-0",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 flex items-center gap-2",children:["Pilih: ",c.jsx("span",{className:"text-2xl bg-white dark:bg-slate-800 px-3 py-1 rounded-lg border inline-block shadow-sm text-indigo-600",children:j.target})]}),c.jsx("button",{onClick:re,className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 shadow-md active:scale-95 transition",children:"Lanjut"})]}),c.jsx("div",{className:"flex-1 grid grid-cols-5 grid-rows-4 gap-1 sm:gap-2 p-1 content-center justify-items-center h-full min-h-0",children:j.grid.map((I,B)=>{const J=ne.includes(B);return c.jsx("button",{onClick:()=>ye(B),className:`w-full h-full rounded-xl flex items-center justify-center text-xl sm:text-3xl transition-all duration-75 ${J?"bg-indigo-600 text-white shadow-inner scale-95 border-2 border-indigo-700":"bg-white dark:bg-slate-800 text-slate-800 dark:text-white border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-300"}`,children:I},B)})})]})]})]}),(s==="ANGKA"||s==="HURUF"||s==="MATCHING")&&c.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-2 sm:p-4 pb-6 shrink-0 z-30",children:c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsx("div",{className:"grid grid-cols-5 gap-2 md:gap-4",children:Hp.map((I,B)=>c.jsx("button",{onClick:()=>$(B),className:"h-14 sm:h-20 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-indigo-600 dark:hover:bg-indigo-600 hover:text-white active:scale-95 transition-all shadow-sm border-b-4 border-slate-200 dark:border-slate-900 active:border-b-0 active:translate-y-1 flex flex-col items-center justify-center gap-1 group text-slate-700 dark:text-slate-200",children:c.jsx("span",{className:"text-xl sm:text-2xl font-black",children:I})},B))})})}),g&&c.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tes Dijeda"}),c.jsx("p",{className:"text-white/60 mb-6 text-sm",children:"Ambil napas sejenak, fokus kembali."}),c.jsx("button",{onClick:()=>y(!1),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-bold text-lg mb-4 hover:scale-105 transition w-full max-w-xs shadow-lg",children:"Lanjutkan"}),c.jsx("button",{onClick:q,className:"px-8 py-4 bg-transparent border-2 border-white/20 text-white rounded-2xl font-bold text-lg hover:bg-white/10 transition w-full max-w-xs",children:"Keluar (Simpan)"})]})]})},ek=({targetNumber:i,refreshTrigger:t})=>{const l=O.useRef(null);return O.useEffect(()=>{const s=l.current;if(!s)return;const r=s.getContext("2d");if(!r)return;r.clearRect(0,0,s.width,s.height);const d=document.createElement("canvas");d.width=s.width,d.height=s.height;const h=d.getContext("2d");if(!h)return;h.fillStyle="#000000",h.fillRect(0,0,s.width,s.height),h.fillStyle="#FFFFFF",h.font='bold 160px "Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif',h.textAlign="center",h.textBaseline="middle";const x=(Math.random()-.5)*.2;h.save(),h.translate(s.width/2,s.height/2),h.rotate(x),h.fillText(i.toString(),0,0),h.restore();const g=h.getImageData(0,0,s.width,s.height).data,y=["#E74C3C","#E67E22","#D35400","#C0392B","#F1948A","#E59866","#CD6155"],S=["#27AE60","#2ECC71","#1ABC9C","#16A085","#7DCEA0","#73C6B6","#A9DFBF","#52BE80"],T=s.width/2,_=s.height/2,N=s.width/2-5,k=3500;for(let M=0;M<k;M++){let P=Math.random()*s.width,X=Math.random()*s.height;if(Math.sqrt(Math.pow(P-T,2)+Math.pow(X-_,2))>N)continue;const Z=Math.random()*4+1.5,ne=(Math.floor(X)*s.width+Math.floor(P))*4,Y=g[ne]>128?y:S;let pe=Y[Math.floor(Math.random()*Y.length)];Math.random()<.05&&(pe="#95A5A6"),r.beginPath(),r.arc(P,X,Z,0,Math.PI*2),r.fillStyle=pe,r.fill()}},[i,t]),c.jsxs("div",{className:"relative",children:[c.jsx("canvas",{ref:l,width:320,height:320,className:"rounded-full shadow-lg bg-slate-50 dark:bg-slate-800 mx-auto border-4 border-slate-200 dark:border-slate-700"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-inner pointer-events-none opacity-20 bg-gradient-to-br from-white to-black"})]})},tk=({onBack:i,onComplete:t})=>{const[l,s]=O.useState([]),[r,d]=O.useState(0),[h,x]=O.useState([]),[v,g]=O.useState(""),[y,S]=O.useState(!1);O.useEffect(()=>{const N=Array.from({length:10},()=>({number:Math.floor(Math.random()*90)+10}));s(N)},[]);const T=()=>{le.play("click");const N=[...h,v];x(N),g(""),r<l.length-1?d(r+1):(le.play("finish"),S(!0))};if(l.length===0)return c.jsx("div",{className:"p-10 text-center dark:text-white flex items-center justify-center min-h-[50vh]",children:"Menyiapkan Tes..."});if(y){const N=l.filter((j,Z)=>{var ne;return j.number.toString().trim()===((ne=h[Z])==null?void 0:ne.trim())}).length,k=N>=8,M=l.map((j,Z)=>({id:`cb-q-${Z}`,type:"short_answer",content:`Ishihara Plate #${Z+1}`,correctAnswer:j.number.toString(),explanation:`Plate displayed number ${j.number}`,metadata:{difficulty:"Medium",idealTimeSeconds:10,topic:"Buta Warna",subtest:"Ishihara"}})),P=h.map((j,Z)=>({questionId:`cb-q-${Z}`,selectedAnswer:j,isCorrect:j.trim()===l[Z].number.toString().trim(),scoreEarned:j.trim()===l[Z].number.toString().trim()?10:0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1})),X={id:`cb-${Date.now()}`,date:new Date().toISOString(),category:"BUTAWRNA",score:N*10,maxScore:100,details:{type:"Ishihara Simulation",passed:k},questions:M,answers:P};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex items-center justify-center transition-colors",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl max-w-lg w-full text-center max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${k?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:k?c.jsx(mn,{size:40}):c.jsx(Mc,{size:40})}),c.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-800 dark:text-white",children:k?"Mata Normal":"Indikasi Buta Warna"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Skor Anda: ",N," dari ",l.length]}),c.jsx("div",{className:"mb-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden text-left",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-300 font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Plate"}),c.jsx("th",{className:"p-3 text-center",children:"Angka"}),c.jsx("th",{className:"p-3 text-center",children:"Jawab"}),c.jsx("th",{className:"p-3 text-center",children:"Status"})]})}),c.jsx("tbody",{children:l.map((j,Z)=>{const ne=h[Z],se=j.number.toString().trim()===ne.trim();return c.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-700 text-slate-700 dark:text-slate-300",children:[c.jsxs("td",{className:"p-3 font-medium",children:["#",Z+1]}),c.jsx("td",{className:"p-3 font-mono text-center",children:j.number}),c.jsx("td",{className:"p-3 font-mono text-center text-slate-600 dark:text-slate-400",children:ne||"-"}),c.jsx("td",{className:"p-3 text-center",children:se?c.jsx(mn,{size:16,className:"text-emerald-500 inline"}):c.jsx(Mc,{size:16,className:"text-rose-500 inline"})})]},Z)})})]})}),c.jsx("button",{onClick:()=>t(X),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none",children:"Simpan & Keluar"}),c.jsx("p",{className:"mt-4 text-[10px] text-slate-400",children:"Hasil ini adalah simulasi. Untuk diagnosis medis, hubungi dokter mata."})]})})}const _=l[r];return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center transition-colors",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("button",{onClick:i,className:"flex items-center text-slate-500 dark:text-slate-400 hover:text-indigo-600",children:[c.jsx(dn,{size:18,className:"mr-2"})," Kembali"]}),c.jsxs("span",{className:"text-sm font-bold text-slate-400 bg-slate-200 dark:bg-slate-700 px-3 py-1 rounded-full",children:[r+1," / ",l.length]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-lg border border-slate-100 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"mb-8 flex justify-center py-4",children:c.jsx(ek,{targetNumber:_.number,refreshTrigger:r})}),c.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 font-medium",children:"Angka berapa yang Anda lihat?"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"number",className:"flex-1 p-4 text-center text-2xl font-bold border-2 border-slate-200 dark:border-slate-600 dark:bg-slate-900 dark:text-white rounded-xl focus:border-indigo-600 focus:ring-0 outline-none",placeholder:"?",value:v,onChange:N=>g(N.target.value),autoFocus:!0,onKeyDown:N=>N.key==="Enter"&&v&&T()}),c.jsx("button",{onClick:T,disabled:!v,className:"px-6 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none disabled:opacity-50 hover:bg-indigo-700 transition",children:"OK"})]}),c.jsx("div",{className:"mt-6 flex justify-center",children:c.jsx("button",{onClick:()=>g("0"),className:"text-xs text-slate-400 hover:text-indigo-500 underline",children:"Saya tidak melihat angka"})})]})]})})},tx=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1</i>").replace(/\n- (.*?)/g,"<br/> $1").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm font-sans"})},nk=({message:i,type:t,onClose:l})=>{const s=t==="success"?"bg-emerald-500":t==="error"?"bg-rose-500":"bg-indigo-600",r=t==="success"?c.jsx(mn,{size:20}):t==="error"?c.jsx(Mc,{size:20}):c.jsx(OA,{size:20});return O.useEffect(()=>{const d=setTimeout(l,3e3);return()=>clearTimeout(d)},[l]),c.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] flex items-center gap-3 px-6 py-4 rounded-xl shadow-2xl text-white ${s} animate-fade-in-down transition-all`,children:[r,c.jsx("span",{className:"font-bold text-sm",children:i}),c.jsx("button",{onClick:l,className:"ml-4 hover:bg-white/20 p-1 rounded-full",children:c.jsx(Fl,{size:18})})]})},ik=({onLogin:i})=>{const[t,l]=O.useState("");return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-6 transition-colors duration-300",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"mb-8 flex justify-center",children:c.jsx("img",{src:vo,alt:"Logo",className:"w-24 h-24 object-contain animate-bounce-slow"})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Selamat Datang"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Masukkan nama untuk mulai belajar."})]}),c.jsxs("form",{onSubmit:s=>{s.preventDefault(),i(t)},children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 text-left",children:"Nama Pengguna"}),c.jsx("input",{type:"text",className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl focus:border-indigo-600 focus:ring-0 outline-none font-medium text-slate-800 placeholder:text-slate-400",placeholder:"Contoh: Budi Santoso",value:t,onChange:s=>l(s.target.value),required:!0})]}),c.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:["Mulai Belajar ",c.jsx(Fi,{size:20})]})]})]})})},lk=({result:i,feature:t,onBack:l})=>c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center",children:c.jsxs("div",{className:"max-w-3xl w-full",children:[c.jsxs("button",{onClick:l,className:"mb-4 text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[c.jsx(dn,{size:18})," Kembali"]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(jc,{size:28,className:"text-indigo-600"})," Hasil ",t]}),c.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:c.jsx(tx,{text:i})})]})]})}),ak=({questions:i,onComplete:t})=>{const[l,s]=O.useState(0),[r,d]=O.useState(""),[h,x]=O.useState(null),[v,g]=O.useState(!1),[y,S]=O.useState([]),T=i[l],_=async()=>{if(r.trim()){g(!0),le.play("click");try{const k=await Y_(T.content,r);x(k)}catch{alert("Gagal evaluasi.")}finally{g(!1)}}},N=()=>{le.play("click");const k={questionId:T.id,selectedAnswer:r,isCorrect:!0,scoreEarned:(h==null?void 0:h.score)||0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1,interviewFeedback:h||void 0},M=[...y,k];S(M),d(""),x(null),l<i.length-1?s(l+1):t(M)};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"mb-4 text-sm font-bold text-slate-400",children:["Pertanyaan ",l+1," dari ",i.length]}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:T.content}),h?c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:["Skor: ",h.score,"/100"]}),c.jsx("span",{className:"text-sm bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-2 py-1 rounded",children:h.toneAnalysis})]}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[c.jsx("b",{children:"Feedback:"})," ",h.feedback]}),c.jsxs("div",{className:"text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-800 dark:text-emerald-300 p-3 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[c.jsx("b",{children:"Saran Jawaban:"})," ",h.improvedAnswer]})]}),c.jsx("button",{onClick:N,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:opacity-90",children:"Lanjut"})]}):c.jsxs(c.Fragment,{children:[c.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-40 focus:ring-2 focus:ring-indigo-500",placeholder:"Jawab seolah sedang interview...",value:r,onChange:k=>d(k.target.value)}),c.jsxs("button",{onClick:_,disabled:v||!r,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[v?c.jsx(ql,{className:"animate-spin"}):c.jsx(Vc,{size:18})," Submit Jawaban"]})]})]})})},sk=({flashcards:i,onFinish:t})=>{const[l,s]=O.useState(0),r=d=>{l<i.length-1?s(l+1):t()};return i.length===0?c.jsx("div",{children:"No Flashcards"}):c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:[c.jsxs("div",{className:"w-full max-w-xl mb-6 flex justify-between items-center",children:[c.jsx("button",{onClick:t,className:"text-slate-500 hover:text-indigo-600",children:c.jsx(dn,{size:20})}),c.jsxs("span",{className:"font-bold text-slate-400",children:[l+1," / ",i.length]})]}),c.jsx(PC,{data:i[l],onNext:r})]})},ok=({topic:i,onFinish:t})=>{const[l,s]=O.useState(""),[r,d]=O.useState(null),[h,x]=O.useState(!1),v=async()=>{x(!0),le.play("click");try{const g=await $_(i,l);d(g)}catch{alert("Error")}finally{x(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Feynman Technique"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Jelaskan topik ",c.jsxs("b",{children:['"',i,'"']})," seolah-olah Anda sedang mengajari anak kecil (5 tahun). Gunakan bahasa sederhana."]}),r?c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsxs("div",{className:`text-2xl font-bold ${r.understandingScore>70?"text-emerald-500":"text-amber-500"}`,children:[r.understandingScore,"/100"]}),c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 uppercase font-bold",children:"Skor Pemahaman"})]}),c.jsxs("div",{className:"space-y-3 text-sm text-slate-700 dark:text-slate-300",children:[c.jsxs("p",{children:[c.jsx("b",{children:"Kualitas Penyederhanaan:"})," ",r.simplificationQuality]}),c.jsxs("p",{children:[c.jsx("b",{children:"Konsep yang Terlewat:"})," ",r.missingConcepts.join(", ")||"Tidak ada"]}),c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg border border-indigo-100 dark:border-indigo-800 text-indigo-800 dark:text-indigo-300",children:[c.jsx("b",{children:"Koreksi / Saran:"})," ",r.correction]})]})]}),c.jsx("button",{onClick:t,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold",children:"Selesai Belajar"})]}):c.jsxs(c.Fragment,{children:[c.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-48 focus:ring-2 focus:ring-indigo-500",placeholder:"Mulai jelaskan di sini...",value:l,onChange:g=>s(g.target.value)}),c.jsx("button",{onClick:v,disabled:h||!l,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50",children:h?"Menganalisis...":"Cek Pemahaman Saya"})]})]})})},rk=({topic:i,onFinish:t})=>{const l=["Survey","Question","Read","Recite","Review"],[s,r]=O.useState(0),d=["Lakukan scanning cepat pada materi. Baca judul, subjudul, dan kesimpulan. Dapatkan gambaran besar.","Buat pertanyaan dari judul/subjudul. Apa yang ingin Anda ketahui? Ubah judul menjadi pertanyaan.","Baca materi dengan seksama untuk mencari jawaban atas pertanyaan Anda tadi.","Tutup materi. Ucapkan kembali apa yang baru saja dibaca dengan kata-kata sendiri.","Review ulang seluruh materi dan catatan Anda. Pastikan semuanya tersimpan di memori."];return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"flex justify-center mb-8",children:l.map((h,x)=>c.jsxs("div",{className:`flex items-center ${x<l.length-1?"w-full":""}`,children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm ${x<=s?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:h[0]}),x<l.length-1&&c.jsx("div",{className:`h-1 flex-1 ${x<s?"bg-indigo-600":"bg-slate-100 dark:bg-slate-700"}`})]},h))}),c.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-4",children:l[s]}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mb-8",children:d[s]}),c.jsx("button",{onClick:()=>{le.play("click"),s<4?r(s+1):t()},className:"px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition",children:s<4?"Lanjut Tahap Berikutnya":"Selesai SQ3R"})]})})},uk=({category:i,onBack:t,onStartSession:l,onOpenTOSelection:s,onStartTesKoran:r,onStartTesKecermatan:d,onGeneralInputSubmit:h,generalInput:x,setGeneralInput:v,isReadingMaterial:g,onResetMaterial:y,onSubtestSelect:S,selectedSubtest:T,weakTopicsCount:_,loading:N,skdStream:k,onSkdStreamSelect:M,onHistory:P,onStartGeneralSession:X,onStartSkripsiSession:j,username:Z,isDarkMode:ne,onToggleDarkMode:se})=>{const[Y,pe]=O.useState(""),[te,ee]=O.useState(null),[me,Ee]=O.useState("MEDIUM"),[ge,we]=O.useState("MEDIUM"),[ze,L]=O.useState(!1),$=O.useRef(null),[re,ye]=O.useState(""),[ie,A]=O.useState(5),[q,H]=O.useState("Medium"),I=W=>{var ue;const xe=(ue=W.target.files)==null?void 0:ue[0];if(xe){if(xe.type!=="application/pdf"){alert("Hanya file PDF yang diperbolehkan.");return}ee(xe.name),pe(""),L(!0);const Je=new FileReader;Je.onload=Ze=>{var pt;const be=((pt=Ze.target)==null?void 0:pt.result).split(",")[1];setTimeout(()=>{v&&v({type:"pdf",content:be,title:xe.name,lengthPreference:me,difficultyPreference:ge}),L(!1)},800)},Je.readAsDataURL(xe)}},B=()=>{(x==null?void 0:x.type)==="pdf"?h({...x,lengthPreference:me,difficultyPreference:ge}):Y?h({type:"text",content:Y,title:"Input Manual",lengthPreference:me,difficultyPreference:ge}):alert("Mohon masukkan teks atau upload PDF.")},J=W=>{const xe=W.filter(ue=>ue.toLowerCase().includes(re.toLowerCase()));return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6 animate-fade-in-up",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Pilih Topik / Subtes:"}),c.jsxs("div",{className:"mb-4 relative",children:[c.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Cari topik...",value:re,onChange:ue=>ye(ue.target.value),className:"w-full pl-10 p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:xe.length>0?xe.map(ue=>c.jsx("button",{onClick:()=>{le.play("tap"),S(ue)},className:`px-4 py-2 rounded-full text-sm font-medium transition ${T===ue?"bg-indigo-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:ue},ue)):c.jsx("div",{className:"text-sm text-slate-500 italic p-2",children:"Tidak ada topik yang cocok."})}),T&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&c.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-6 animate-fade-in-up",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[c.jsxs("div",{className:"flex-1 w-full",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Jumlah Soal"}),c.jsxs("select",{value:ie,onChange:ue=>A(Number(ue.target.value)),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[c.jsx("option",{value:"5",children:"5 Soal"}),c.jsx("option",{value:"10",children:"10 Soal"}),c.jsx("option",{value:"15",children:"15 Soal"}),c.jsx("option",{value:"20",children:"20 Soal"})]})]}),c.jsxs("div",{className:"flex-1 w-full",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Tingkat Kesulitan"}),c.jsxs("select",{value:q,onChange:ue=>H(ue.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[c.jsx("option",{value:"Easy",children:"Mudah"}),c.jsx("option",{value:"Medium",children:"Sedang"}),c.jsx("option",{value:"Hard",children:"Sulit"}),c.jsx("option",{value:"HOTS",children:"HOTS (Analisis Tinggi)"})]})]}),c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.PRACTICE,q,ie)},className:"w-full sm:w-auto px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[c.jsx(Dp,{size:18})," Mulai Latihan"]})]})}),i==="INTERVIEW"&&T&&c.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-4 animate-fade-in-up",children:c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.DRILL)},className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[c.jsx(Vc,{size:20})," Mulai Sesi Wawancara"]})})]})};return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors duration-300",children:[c.jsx(GC,{}),c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("button",{onClick:()=>{le.play("back"),t()},className:"flex items-center text-slate-500 dark:text-slate-400 hover:text-indigo-600 font-medium",children:[c.jsx(dn,{size:18,className:"mr-2"})," Kembali"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[se&&c.jsx("button",{onClick:()=>{se()},className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 transition",children:ne?c.jsx(Xg,{size:16}):c.jsx(Jg,{size:16})}),c.jsxs("span",{className:"text-xs font-bold text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-full flex items-center gap-1",children:[c.jsx(Qg,{size:12})," ",Z]})]})]}),c.jsx("div",{className:"flex justify-between items-end mb-8",children:c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm font-bold tracking-wider text-indigo-600 uppercase mb-1 block",children:[i," Dashboard"]}),c.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Pusat Kendali Belajar"})]})}),N?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[c.jsx(ql,{className:"animate-spin text-indigo-600 w-10 h-10 mb-4"}),c.jsx("p",{className:"text-slate-500 font-medium",children:"AI sedang memproses materi..."}),c.jsx("div",{className:"max-w-md w-full mt-8 space-y-4",children:c.jsx(zC,{})})]}):c.jsxs(c.Fragment,{children:[i==="KECERMATAN"&&c.jsx("div",{className:"animate-fade-in-up",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("button",{onClick:()=>{le.play("click"),d("ANGKA")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/40 rounded-lg text-indigo-600 dark:text-indigo-400",children:c.jsx(Ki,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Angka Hilang"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Standar tes kedinasan/Polri. Temukan angka yang hilang dari kolom."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("HURUF")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-emerald-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg text-emerald-600 dark:text-emerald-400",children:c.jsx(Ki,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Huruf Hilang"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Variasi huruf. Melatih ketelitian visual terhadap karakter mirip."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("SIMBOL")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-amber-50 dark:hover:bg-amber-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-amber-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-amber-100 dark:bg-amber-900/40 rounded-lg text-amber-600 dark:text-amber-400",children:c.jsx(zA,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Simbol Hilang"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Bandingkan dua baris simbol. Tentukan SAMA atau BEDA secepat mungkin."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("MATCHING")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-rose-50 dark:hover:bg-rose-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-rose-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-rose-100 dark:bg-rose-900/40 rounded-lg text-rose-600 dark:text-rose-400",children:c.jsx(kc,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Matching (Pencocokan)"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cocokkan simbol dengan kode kuncinya. Melatih memori kerja jangka pendek."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("GROUPING")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-cyan-50 dark:hover:bg-cyan-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-cyan-500 rounded-2xl text-left transition group shadow-sm md:col-span-2",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-cyan-100 dark:bg-cyan-900/40 rounded-lg text-cyan-600 dark:text-cyan-400",children:c.jsx(Og,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Grouping (Pengelompokan)"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Pilih semua simbol yang diminta dari grid acak. Melatih fokus selektif."})]})]})}),i==="SKRIPSI"&&c.jsx("div",{className:"animate-fade-in-up max-w-2xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(jc,{size:24,className:"text-indigo-600"})," Skripsi Assistant"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Masukkan topik atau judul skripsi Anda untuk mendapatkan bantuan AI."}),c.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-6 focus:ring-2 focus:ring-indigo-500 h-32",placeholder:"Contoh: Pengaruh Kecerdasan Buatan terhadap Minat Belajar Mahasiswa Teknik Informatika...",value:Y,onChange:W=>pe(W.target.value)}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("TITLE_IDEAS",Y)},className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-xl font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/40 flex flex-col items-center gap-2 border border-indigo-100 dark:border-indigo-800",children:[c.jsx(Vi,{size:24})," Ide Judul"]}),c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("OUTLINE",Y)},className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 rounded-xl font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/40 flex flex-col items-center gap-2 border border-emerald-100 dark:border-emerald-800",children:[c.jsx(_o,{size:24})," Buat Outline"]}),c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("METHODOLOGY",Y)},className:"p-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 rounded-xl font-bold hover:bg-amber-100 dark:hover:bg-amber-900/40 flex flex-col items-center gap-2 border border-amber-100 dark:border-amber-800",children:[c.jsx(uc,{size:24})," Cek Metodologi"]}),c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("PARAPHRASE",Y)},className:"p-4 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-300 rounded-xl font-bold hover:bg-rose-100 dark:hover:bg-rose-900/40 flex flex-col items-center gap-2 border border-rose-100 dark:border-rose-800",children:[c.jsx(UA,{size:24})," Parafrase Teks"]})]})]})}),i==="GENERAL"&&c.jsx("div",{className:"space-y-8 animate-fade-in-up",children:g?c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[c.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Ip,{size:20})," Materi Belajar"]}),c.jsx("button",{onClick:y,className:"text-sm text-rose-500 hover:underline",children:"Ganti Materi"})]}),(x==null?void 0:x.type)==="pdf"&&x.content&&c.jsx("div",{className:"mb-6",children:c.jsx("embed",{src:`data:application/pdf;base64,${x.content}`,className:"w-full h-[500px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})}),c.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-300 leading-relaxed max-h-[400px] overflow-y-auto p-2 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:c.jsx(tx,{text:(x==null?void 0:x.extractedText)||(x==null?void 0:x.content)||""})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Sudah selesai membaca? Pilih Metode Belajar:"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Ay.map(W=>{const ue={Brain:Vi,Repeat:dC,MessageCircle:ZA,Share2:yC,Search:uc,GraduationCap:Vg,BookOpen:Ip,PenTool:Dp}[W.icon]||Vi;return c.jsxs("button",{onClick:()=>{le.play("click"),X(W.id)},className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-md transition text-left flex flex-col h-full",children:[c.jsx("div",{className:"mb-3 text-indigo-600 dark:text-indigo-400",children:c.jsx(ue,{size:24})}),c.jsx("h4",{className:"font-bold text-sm mb-1 text-slate-900 dark:text-white",children:W.name}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:W.desc})]},W.id)})})]})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(Fc,{size:20})," Input Materi"]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Masukkan topik, teks materi, atau upload PDF yang ingin dipelajari."}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("input",{type:"text",className:"flex-1 p-3 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl",placeholder:te?`PDF Terpilih: ${te}`:"Contoh: Perang Dunia II, Hukum Newton, atau paste teks...",value:Y,disabled:!!te,onChange:W=>{pe(W.target.value)}}),c.jsx("input",{type:"file",ref:$,accept:"application/pdf",className:"hidden",onChange:I}),c.jsxs("button",{className:`p-3 rounded-xl transition flex items-center gap-2 ${te?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200"}`,title:"Upload PDF",onClick:()=>{var W;return(W=$.current)==null?void 0:W.click()},children:[c.jsx(_o,{size:20}),c.jsx("span",{className:"hidden sm:inline font-bold text-sm",children:"Upload PDF"})]})]}),te&&c.jsxs("div",{className:"mb-4 text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-lg flex items-center justify-between animate-fade-in-up border border-emerald-100 dark:border-emerald-800",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mn,{size:16}),c.jsxs("span",{children:["File siap: ",c.jsx("b",{children:te})]})]}),c.jsx("button",{onClick:()=>{ee(null),v&&v(null),$.current&&($.current.value="")},className:"text-slate-400 hover:text-rose-500",title:"Hapus PDF",children:c.jsx(zl,{size:16})})]}),ze?c.jsxs("div",{className:"mb-6 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-2",children:[c.jsx(ql,{size:14,className:"animate-spin"})," Memuat Preview PDF..."]}),c.jsx(Oi,{height:"h-[300px]",className:"rounded-xl"})]}):(x==null?void 0:x.type)==="pdf"&&x.content&&c.jsxs("div",{className:"mb-6 animate-fade-in-up",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 mb-2 block",children:"Preview PDF:"}),c.jsx("embed",{src:`data:application/pdf;base64,${x.content}`,className:"w-full h-[300px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Panjang Materi (Ringkasan)"}),c.jsxs("select",{value:me,onChange:W=>Ee(W.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[c.jsx("option",{value:"SHORT",children:"Ringkas / Poin Penting"}),c.jsx("option",{value:"MEDIUM",children:"Standar (Rekomedasi)"}),c.jsx("option",{value:"LONG",children:"Mendalam / Detail"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Tingkat Kesulitan Soal"}),c.jsxs("select",{value:ge,onChange:W=>we(W.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[c.jsx("option",{value:"EASY",children:"Mudah (Recall)"}),c.jsx("option",{value:"MEDIUM",children:"Sedang (Konseptual)"}),c.jsx("option",{value:"HARD",children:"Sulit / HOTS"})]})]})]}),c.jsx("button",{onClick:()=>{le.play("click"),B()},className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Proses & Baca Materi"})]})}),i==="UTBK"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group shadow-lg shadow-indigo-200 dark:shadow-none",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Bl,{size:24,className:"text-rose-400"})," Simulasi UTBK SNBT Full"]}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"160 Soal. Durasi 195 Menit. Format Resmi 2025."})]}),c.jsx(Fi,{className:"group-hover:translate-x-2 transition-transform"})]}),J(Cy)]}),i==="TPA"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Vi,{size:24,className:"text-indigo-400"})," Simulasi TPA Full"]}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"65 Soal (TPA & TBI). Durasi 60-100 Menit."})]}),c.jsx(Fi,{className:"group-hover:translate-x-2 transition-transform"})]}),J(wy)]}),i==="PSIKOTEST"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("button",{onClick:()=>{le.play("click"),r()},className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group shadow-sm",children:[c.jsx(NA,{size:48,className:"mx-auto mb-4 text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Tes Koran (Pauli/Kraepelin)"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Uji kecepatan, ketelitian, dan stabilitas emosi dengan menjumlahkan angka."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group shadow-sm",children:[c.jsx(Vi,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Psikotes Logika & IQ"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Analogi, Deret Angka, dan Penalaran Logis (HOTS)."})]})]}),c.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Latihan Per Subtes"}),J(My)]})]}),i==="INTERVIEW"&&J(Ry),i==="SKD"&&(k?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-slate-600 dark:text-slate-300",children:[c.jsx("button",{onClick:()=>M(null),className:"underline",children:"Ubah Jalur"})," ",c.jsx(Fi,{size:14})," ",c.jsx("b",{children:k})]}),c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center shadow-lg shadow-indigo-200 dark:shadow-none",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Bl,{size:24,className:"text-rose-400"})," Simulasi SKD CAT (110 Soal)"]}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"TWK, TIU, TKP. Durasi 100 Menit. Scoring Resmi."})]}),c.jsx(Fi,{className:"group-hover:translate-x-2 transition-transform"})]}),J(ky)]}):c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("button",{onClick:()=>{le.play("click"),M("KEDINASAN")},className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[c.jsx(KA,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Sekolah Kedinasan"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"STAN, STIS, IPDN, dll"})]}),c.jsxs("button",{onClick:()=>{le.play("click"),M("CPNS")},className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[c.jsx(TA,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"CPNS Umum"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Kementerian & Lembaga"})]})]})),i!=="GENERAL"&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&i!=="PSIKOTEST"&&i!=="KECERMATAN"&&c.jsxs("div",{className:"mt-8 animate-fade-in-up delay-100",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Mode Belajar Lainnya"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.DRILL)},className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[c.jsx(Ao,{className:"text-amber-500 mb-2"}),c.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Learn & Drill"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Materi + 1 Soal"})]}),c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.ACTIVE_RECALL)},className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[c.jsx(Vi,{className:"text-emerald-500 mb-2"}),c.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Active Recall"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Isian Singkat"})]}),_>0&&c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.WEAKNESS)},className:"p-4 bg-white dark:bg-slate-800 border border-rose-200 dark:border-rose-900 rounded-xl hover:border-rose-500 hover:shadow-md transition text-left",children:[c.jsx(kc,{className:"text-rose-500 mb-2"}),c.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Weakness Attack"}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[_," Topik Lemah"]})]})]})]})]})]})]})};function ck(){var Xa;const[i,t]=O.useState("SPLASH"),[l,s]=O.useState(null),[r,d]=O.useState(!1),[h,x]=O.useState({soundEnabled:!0,musicEnabled:!0,volume:.5,funnyNotifications:!0,confirmActions:!0,darkMode:!1}),[v,g]=O.useState(null),[y,S]=O.useState(!1),[T,_]=O.useState(""),[N,k]=O.useState(null),[M,P]=O.useState(null),[X,j]=O.useState(new Set),[Z,ne]=O.useState("ANGKA"),[se,Y]=O.useState(null),[pe,te]=O.useState([]),[ee,me]=O.useState(null),[Ee,ge]=O.useState(null),[we,ze]=O.useState(""),[L,$]=O.useState([]),[re,ye]=O.useState(null),[ie,A]=O.useState([]),[q,H]=O.useState(!1),[I,B]=O.useState(""),[J,W]=O.useState([]),[xe,ue]=O.useState(null),[Je,Ze]=O.useState(null),be=(Q,de)=>Ze({msg:Q,type:de}),[pt,mt]=O.useState([]);O.useEffect(()=>{const Q=localStorage.getItem("fajmuls_username"),de=localStorage.getItem("fajmuls_settings"),Ce=localStorage.getItem("fajmuls_packages");if(de?x(JSON.parse(de)):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&x(Te=>({...Te,darkMode:!0})),Ce){const Te=JSON.parse(Ce),Ie=new Set([...Zu,...Wu,...ec,...ic,...ac,...tc,...nc,...lc].map(Me=>Me.id)),rt=Te.filter(Me=>!Ie.has(Me.id));mt([...Zu,...Wu,...ec,...ic,...ac,...tc,...nc,...lc,...rt])}else mt([...Zu,...Wu,...ec,...ic,...ac,...tc,...nc,...lc]);Q&&Qt(Q,!1)},[]),O.useEffect(()=>{localStorage.setItem("fajmuls_settings",JSON.stringify(h)),h.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),le.syncSettings(h)},[h]),O.useEffect(()=>{pt.length>0&&localStorage.setItem("fajmuls_packages",JSON.stringify(pt))},[pt]);const Qt=async(Q,de=!0)=>{const Ce=Q.trim();if(!Ce)return;le.play("click"),B(Ce),localStorage.setItem("fajmuls_username",Ce),de&&t("HOME");const Te=localStorage.getItem(`fajmuls_history_${Ce}`);let Ie=[];if(Te)try{Ie=JSON.parse(Te)}catch{console.error("History parse fail")}W(Ie)},At=()=>{le.play("click"),localStorage.removeItem("fajmuls_username"),B(""),W([]),t("LOGIN")},Ut=async Q=>{const de=[Q,...J];W(de),localStorage.setItem(`fajmuls_history_${I}`,JSON.stringify(de))},Fa=Q=>{const de=J.filter(Ce=>Ce.id!==Q);W(de),localStorage.setItem(`fajmuls_history_${I}`,JSON.stringify(de)),be("Riwayat berhasil dihapus secara permanen.","success"),le.play("click")},Kl=async Q=>{H(!0);try{const de=await X_(Q);g({...Q,extractedText:de}),S(!0)}catch{be("Gagal memproses materi. Coba lagi.","error")}finally{H(!1)}},Jl=async(Q,de)=>{if(!de.trim()){be("Mohon isi judul atau topik.","error");return}H(!0),ge(Q);try{const Ce=await Q_(de,Q);ze(Ce),t("SESSION")}catch{be("Gagal generate konten skripsi.","error")}finally{H(!1)}},Yl=async Q=>{if(!v){be("Materi hilang. Silakan input ulang.","error");return}H(!0),Y(Q),k(Ne.DRILL);try{if(Q==="ACTIVE_RECALL"||Q==="PBL"||Q==="PRACTICE"||Q==="TEACHING"){const de=await It(Ne.DRILL,"GENERAL",v,5,[],void 0,Q);$(de)}else if(Q==="SPACED_REPETITION"){const de=await Z_(v);te(de)}else if(Q==="MIND_MAP"){const de=await W_(v);me(de)}t("SESSION")}catch{be("Gagal memuat materi AI.","error")}finally{H(!1)}},Ka=async(Q,de,Ce)=>{if(l){if(["UTBK","SKD","TPA","PSIKOTEST","INTERVIEW"].includes(l)&&!T&&Q!==Ne.SIMULATION&&Q!==Ne.WEAKNESS){be(`Harap pilih topik/subtes untuk ${l}.`,"error");return}if(l==="SKD"&&!M){be("Harap pilih jalur (CPNS / Kedinasan).","error");return}H(!0),k(Q),A([]),$([]),ye(null);try{const Te=T;if(Q===Ne.DRILL){const Ie=await eA(l,Te,M||void 0);ye(Ie),Ie&&Ie.question&&$([Ie.question])}else if(Q===Ne.SIMULATION&&l==="SKD"&&M){const Ie=await wp(M);$(Ie||[])}else if(Q===Ne.SIMULATION&&l==="UTBK"){const Ie=await Mp();$(Ie||[])}else if(Q===Ne.SIMULATION&&l==="TPA"){const Ie=await tA();$(Ie||[])}else if(Q===Ne.SIMULATION&&l==="PSIKOTEST"){const Ie=await nA();$(Ie||[])}else{let Ie=Ce||5;l==="PSIKOTEST"&&Q===Ne.SIMULATION&&(Ie=40),l==="INTERVIEW"&&(Ie=3);const rt=await It(Q,l,Te,Ie,Array.from(X),M||void 0,void 0,de);$(rt||[])}t("SESSION")}catch(Te){console.error(Te),be("Gagal memuat soal. Kemungkinan traffic AI sedang tinggi. Coba lagi.","error")}finally{H(!1)}}},Ni=(Q,de,Ce=!1)=>{if(de){const Me={...de,isAborted:Ce};Ut(Me),t("HOME");return}A(Q);let Te=0,Ie=0,rt;if(l==="SKD"&&N===Ne.SIMULATION){let Me=0,He=0,Oe=0;Q.forEach(Ye=>{var kt,wt,hn,pn,Zt,Lt;const it=L.find($n=>$n.id===Ye.questionId);it&&((wt=(kt=it.metadata)==null?void 0:kt.subtest)!=null&&wt.includes("TWK")&&(Me+=Ye.scoreEarned),(pn=(hn=it.metadata)==null?void 0:hn.subtest)!=null&&pn.includes("TIU")&&(He+=Ye.scoreEarned),(Lt=(Zt=it.metadata)==null?void 0:Zt.subtest)!=null&&Lt.includes("TKP")&&(Oe+=Ye.scoreEarned))}),Te=Me+He+Oe,Ie=550,rt={twk:Me,tiu:He,tkp:Oe,total:Te,passed:Me>=65&&He>=80&&Oe>=166}}else if(l==="UTBK"&&N===Ne.SIMULATION){const Me=Zt=>{const Lt=L.filter(Cn=>{var Xn,Qn;return(Qn=(Xn=Cn.metadata)==null?void 0:Xn.subtest)==null?void 0:Qn.includes(Zt)});if(!Lt.length)return 0;const $n=Q.filter(Cn=>{var Xn,Qn,$i;return Cn.isCorrect&&(($i=(Qn=(Xn=L.find($l=>$l.id===Cn.questionId))==null?void 0:Xn.metadata)==null?void 0:Qn.subtest)==null?void 0:$i.includes(Zt))}).length;return Math.round(200+$n/Lt.length*600)},He=Me("Penalaran Umum"),Oe=Me("PPU"),Ye=Me("PBM"),it=Me("Kuantitatif"),kt=Me("Literasi B.Indo"),wt=Me("Literasi B.Inggris"),hn=Me("Penalaran Matematika"),pn=Math.round((He+Oe+Ye+it+kt+wt+hn)/7);Te=pn,Ie=1e3,rt={pu:He,ppu:Oe,pbm:Ye,pk:it,lbi:kt,lbe:wt,pm:hn,average:pn}}else if(l==="TPA"&&N===Ne.SIMULATION){let Me=0,He=0,Oe=0,Ye=0;Q.forEach(wt=>{var pn,Zt,Lt,$n;const hn=L.find(Cn=>Cn.id===wt.questionId);hn&&((Zt=(pn=hn.metadata)==null?void 0:pn.subtest)!=null&&Zt.includes("TBI")||($n=(Lt=hn.metadata)==null?void 0:Lt.subtest)!=null&&$n.includes("Inggris")?(Ye++,wt.isCorrect&&He++):(Oe++,wt.isCorrect&&Me++))});const it=Math.round(200+Me/(Oe||1)*600),kt=Math.round(He/(Ye||1)*100);Te=it+kt,Ie=900,rt={tpaScore:it,tbiScore:kt,tpaCorrect:Me,tbiCorrect:He}}else if(l==="INTERVIEW"){const Me=Q.map(He=>{var Oe;return((Oe=He.interviewFeedback)==null?void 0:Oe.score)||0});Te=Math.round(Me.reduce((He,Oe)=>He+Oe,0)/(Me.length||1)),Ie=100}else if(l==="PSIKOTEST"&&N===Ne.SIMULATION){const Me=Q.filter(kt=>kt.isCorrect).length,He=L.length,Oe=Me/He,Ye=Math.round(70+Oe*75);let it=Ye>=130?"Very Superior":Ye>=120?"Superior":Ye>=110?"High Average":Ye>=90?"Average":"Low Average";Te=Ye,Ie=160,rt={iqScore:Ye,classification:it}}else if(l==="GENERAL"){const Me=Q.reduce((He,Oe)=>He+(Oe.scoreEarned||0),0);Te=Math.round(Me/(Q.length||1)),Ie=100}else{const Me=Q.filter(He=>He.isCorrect).length;Te=Math.round(Me/L.length*100),Ie=100}Ut({id:`h-${Date.now()}`,date:new Date().toISOString(),category:l,skdStream:M||void 0,score:Te,maxScore:Ie,details:rt,questions:L,answers:Q,isAborted:Ce}),t("RESULTS")},Ct=Q=>{le.play("click"),s(Q),Q==="BUTAWRNA"?t("COLORBLIND"):(t("DASHBOARD"),g(null),S(!1),_(""),P(null),Y(null),ge(null),ze(""))},Uo=Q=>{ne(Q),t("TES_KECERMATAN")},Ja=()=>{if(J.length===0){be("Belum ada riwayat untuk disimpan.","info");return}const Q=JSON.stringify(J,null,2),de=new Blob([Q],{type:"application/json"}),Ce=URL.createObjectURL(de),Te=document.createElement("a");Te.href=Ce,Te.download=`Fajmuls_History_${I}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Ce),be("Export berhasil!","success")},Ya=Q=>{const de=new FileReader;de.onload=Ce=>{var Te;try{const Ie=(Te=Ce.target)==null?void 0:Te.result,rt=JSON.parse(Ie);if(!Array.isArray(rt))throw new Error("Format salah");const Me=new Set(J.map(Ye=>Ye.id)),He=rt.filter(Ye=>!Me.has(Ye.id)),Oe=[...J,...He].sort((Ye,it)=>new Date(it.date).getTime()-new Date(Ye.date).getTime());W(Oe),localStorage.setItem(`fajmuls_history_${I}`,JSON.stringify(Oe)),be(`Berhasil memuat ${He.length} riwayat baru.`,"success")}catch{be("Gagal membaca file JSON.","error")}},de.readAsText(Q)},Yi=Q=>{$(Q.questions),k(Ne.SIMULATION),t("SESSION")},Lo=async Q=>{if(l)try{let de=[],Ce=`Paket Latihan ${l} ${new Date().toLocaleDateString()}`,Te=60;l==="SKD"?(de=await wp(M||"CPNS"),Ce=`Try Out SKD ${M} AI-Gen`,Te=100):l==="UTBK"?(de=await Mp(),Ce="Try Out UTBK AI-Gen",Te=195):(de=await It(Ne.SIMULATION,l,"SIMULATION",20,[],M||void 0),Ce=`Latihan ${l} AI-Gen`);const Ie={id:`pkg-${Date.now()}`,title:Ce,category:l,skdStream:M||void 0,questions:de,durationMinutes:Te,isAiGenerated:!0,createdAt:new Date().toISOString()};mt(rt=>[Ie,...rt]),be("Paket baru berhasil dibuat!","success")}catch{be("Gagal membuat paket soal.","error")}},$a=Q=>{mt(de=>de.filter(Ce=>Ce.id!==Q)),be("Paket dihapus.","success")},Go=Q=>{Array.from(Q).forEach(de=>{const Ce=new FileReader;Ce.onload=Te=>{var Ie;try{const rt=(Ie=Te.target)==null?void 0:Ie.result,Me=JSON.parse(rt);Me.id&&Me.questions&&(mt(He=>He.find(Oe=>Oe.id===Me.id)?He:[Me,...He]),be(`Paket "${Me.title}" diimpor.`,"success"))}catch{be("File tidak valid.","error")}},Ce.readAsText(de)})};return i==="SPLASH"?c.jsx(BC,{onComplete:()=>t(I?"HOME":"LOGIN")}):i==="LOGIN"?c.jsx(ik,{onLogin:Q=>Qt(Q)}):c.jsxs(c.Fragment,{children:[Je&&c.jsx(nk,{message:Je.msg,type:Je.type,onClose:()=>Ze(null)}),c.jsx(qC,{isOpen:r,onClose:()=>d(!1),settings:h,onUpdate:x}),i!=="SESSION"&&i!=="TES_KORAN"&&i!=="TES_KECERMATAN"&&c.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md z-40 border-b border-slate-200 dark:border-slate-700 px-6 py-3 flex justify-between items-center animate-fade-in-down",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{le.play("click"),t("HOME")},children:[c.jsx("img",{src:vo,alt:"Logo",className:"w-8 h-8 object-contain"}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white hidden sm:block",children:"Fajmuls Learning"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[c.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:I}),c.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Ready to learn"})]}),c.jsx("button",{onClick:()=>{le.play("click"),d(!0)},className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition",children:c.jsx($g,{size:20,className:"text-slate-600 dark:text-slate-300"})})]})]}),c.jsxs("div",{className:`${i!=="SESSION"&&i!=="TES_KORAN"&&i!=="TES_KECERMATAN"?"pt-20":""}`,children:[i==="HOME"&&c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center relative transition-colors duration-300",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("img",{src:vo,alt:"Logo",className:"w-32 h-32 object-contain mx-auto mb-6 animate-float"}),c.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Pilih Jalur Belajarmu"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Sistem belajar adaptif untuk persiapan ujian."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-6xl",children:Fp.map(Q=>c.jsxs("button",{onClick:()=>Ct(Q.id),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all group text-left flex flex-col items-start relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-indigo-50 dark:bg-indigo-900/20 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),c.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-slate-700 rounded-lg flex items-center justify-center mb-6 group-hover:bg-indigo-600 transition-colors relative z-10",children:Q.id==="GENERAL"?c.jsx(_o,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Q.id==="SKD"?c.jsx(bA,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Q.id==="INTERVIEW"?c.jsx(Vc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Q.id==="BUTAWRNA"?c.jsx(lC,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Q.id==="PSIKOTEST"?c.jsx(Vi,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Q.id==="SKRIPSI"?c.jsx(jc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Q.id==="KECERMATAN"?c.jsx(jg,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):c.jsx(Vg,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2 relative z-10",children:Q.name}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed relative z-10",children:Q.desc})]},Q.id))}),c.jsxs("div",{className:"mt-12 flex gap-4",children:[c.jsxs("button",{onClick:()=>{le.play("click"),t("HISTORY")},className:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition",children:[c.jsx(Fg,{size:18})," Riwayat Belajar"]}),c.jsxs("button",{onClick:At,className:"flex items-center gap-2 px-6 py-3 bg-rose-50 dark:bg-rose-900/20 rounded-xl shadow-sm border border-rose-100 dark:border-rose-900 font-bold text-rose-700 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/40 transition",children:[c.jsx(XA,{size:18})," Keluar"]})]})]}),i==="DASHBOARD"&&c.jsx(uk,{category:l,onBack:()=>{le.play("back"),t("HOME")},onStartSession:Ka,onOpenTOSelection:()=>{le.play("click"),t("TO_SELECTION")},onStartTesKoran:()=>{le.play("click"),t("TES_KORAN")},onStartTesKecermatan:Uo,onGeneralInputSubmit:Kl,generalInput:v,setGeneralInput:g,isReadingMaterial:y,onResetMaterial:()=>{S(!1),g(null)},onSubtestSelect:_,selectedSubtest:T,weakTopicsCount:X.size,loading:q,skdStream:M,onSkdStreamSelect:P,onHistory:()=>{le.play("click"),t("HISTORY")},onStartGeneralSession:Yl,onStartSkripsiSession:Jl,username:I,isDarkMode:h.darkMode,onToggleDarkMode:()=>{x(Q=>({...Q,darkMode:!Q.darkMode}))}}),i==="TO_SELECTION"&&c.jsx(jC,{category:l,skdStream:M||void 0,availablePackages:pt,history:J,onSelectPackage:Yi,onGenerateNew:Lo,onDeletePackage:$a,onImportPackage:Go,onBack:()=>{le.play("back"),t("DASHBOARD")},showToast:be,confirmEnabled:h.confirmActions}),i==="SESSION"&&(l==="SKRIPSI"?c.jsx(lk,{result:we,feature:Ee,onBack:()=>{le.play("back"),t("DASHBOARD")}}):l==="INTERVIEW"?c.jsx(ak,{questions:L,onComplete:Q=>Ni(Q)}):l==="GENERAL"&&se==="SPACED_REPETITION"?c.jsx(sk,{flashcards:pe,onFinish:()=>{le.play("back"),t("DASHBOARD")}}):l==="GENERAL"&&se==="MIND_MAP"?c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col transition-colors duration-300",children:[" ",c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[" ",c.jsxs("button",{onClick:()=>{le.play("back"),t("DASHBOARD")},className:"flex items-center text-slate-500 dark:text-slate-400",children:[c.jsx(dn,{size:18})," Kembali"]})," ",c.jsx("h2",{className:"font-bold text-slate-800 dark:text-white",children:"Mind Mapping"})," "]})," ",c.jsx(HC,{data:ee})," "]}):l==="GENERAL"&&se==="FEYNMAN"?c.jsx(ok,{topic:(v==null?void 0:v.content)||"",onFinish:()=>{le.play("back"),t("DASHBOARD")}}):l==="GENERAL"&&se==="SQ3R"?c.jsx(rk,{topic:(v==null?void 0:v.content)||"",onFinish:()=>{le.play("back"),t("DASHBOARD")}}):c.jsx(YC,{mode:N,questions:L,drillContent:re,onComplete:(Q,de,Ce)=>Ni(Q,de,Ce),isSkdSimulation:N===Ne.SIMULATION&&l==="SKD",isUtbkSimulation:N===Ne.SIMULATION&&l==="UTBK",category:l,showToast:be})),i==="TES_KORAN"&&c.jsx(ZC,{onBack:()=>t("DASHBOARD"),onComplete:Q=>Ni([],Q)}),i==="TES_KECERMATAN"&&c.jsx(WC,{initialMode:Z,onBack:()=>t("DASHBOARD"),onComplete:Q=>Ni([],Q)}),i==="RESULTS"&&c.jsx(OC,{answers:ie,questions:L,onHome:()=>{le.play("back"),t("HOME")},onRetry:()=>{le.play("click"),Ka(N)},category:l,details:(Xa=J[0])==null?void 0:Xa.details}),i==="HISTORY"&&c.jsx(FC,{history:J,onBack:()=>{le.play("back"),t("HOME")},onReview:Q=>{le.play("click"),ue(Q),t("REVIEW")},username:I,onExport:Ja,onImport:Ya,isDarkMode:h.darkMode,onDelete:Fa}),i==="REVIEW"&&c.jsx(KC,{item:xe,onBack:()=>{le.play("back"),t("HISTORY")}}),i==="COLORBLIND"&&c.jsx(tk,{onBack:()=>{le.play("back"),t("HOME")},onComplete:Q=>Ni([],Q)})]})]})}const nx=document.getElementById("root");if(!nx)throw new Error("Could not find root element to mount to");const dk=_y.createRoot(nx);dk.render(c.jsx(xy.StrictMode,{children:c.jsx(ck,{})}));
