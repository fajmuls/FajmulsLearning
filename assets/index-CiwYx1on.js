(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}})();function Jp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yu={exports:{}},Ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function gy(){if(qm)return Ha;qm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(s,r,d){var h=null;if(d!==void 0&&(h=""+d),r.key!==void 0&&(h=""+r.key),"key"in r){d={};for(var x in r)x!=="key"&&(d[x]=r[x])}else d=r;return r=d.ref,{$$typeof:i,type:s,key:h,ref:r!==void 0?r:null,props:d}}return Ha.Fragment=t,Ha.jsx=l,Ha.jsxs=l,Ha}var Om;function xy(){return Om||(Om=1,Yu.exports=gy()),Yu.exports}var c=xy(),$u={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function vy(){if(Vm)return _e;Vm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=T&&_[T]||_["@@iterator"],typeof _=="function"?_:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function U(_,q,H){this.props=_,this.context=q,this.refs=M,this.updater=H||N}U.prototype.isReactComponent={},U.prototype.setState=function(_,q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,q,"setState")},U.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function X(){}X.prototype=U.prototype;function j(_,q,H){this.props=_,this.context=q,this.refs=M,this.updater=H||N}var K=j.prototype=new X;K.constructor=j,w(K,U.prototype),K.isPureReactComponent=!0;var ne=Array.isArray;function se(){}var $={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function te(_,q,H){var I=H.ref;return{$$typeof:i,type:_,key:q,ref:I!==void 0?I:null,props:H}}function ee(_,q){return te(_.type,q,_.props)}function me(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function Ee(_){var q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(H){return q[H]})}var ge=/\/+/g;function we(_,q){return typeof _=="object"&&_!==null&&_.key!=null?Ee(""+_.key):q.toString(36)}function ze(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(se,se):(_.status="pending",_.then(function(q){_.status==="pending"&&(_.status="fulfilled",_.value=q)},function(q){_.status==="pending"&&(_.status="rejected",_.reason=q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function G(_,q,H,I,B){var Y=typeof _;(Y==="undefined"||Y==="boolean")&&(_=null);var W=!1;if(_===null)W=!0;else switch(Y){case"bigint":case"string":case"number":W=!0;break;case"object":switch(_.$$typeof){case i:case t:W=!0;break;case y:return W=_._init,G(W(_._payload),q,H,I,B)}}if(W)return B=B(_),W=I===""?"."+we(_,0):I,ne(B)?(H="",W!=null&&(H=W.replace(ge,"$&/")+"/"),G(B,q,H,"",function(Je){return Je})):B!=null&&(me(B)&&(B=ee(B,H+(B.key==null||_&&_.key===B.key?"":(""+B.key).replace(ge,"$&/")+"/")+W)),q.push(B)),1;W=0;var xe=I===""?".":I+":";if(ne(_))for(var ue=0;ue<_.length;ue++)I=_[ue],Y=xe+we(I,ue),W+=G(I,q,H,Y,B);else if(ue=A(_),typeof ue=="function")for(_=ue.call(_),ue=0;!(I=_.next()).done;)I=I.value,Y=xe+we(I,ue++),W+=G(I,q,H,Y,B);else if(Y==="object"){if(typeof _.then=="function")return G(ze(_),q,H,I,B);throw q=String(_),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return W}function Q(_,q,H){if(_==null)return _;var I=[],B=0;return G(_,I,"","",function(Y){return q.call(H,Y,B++)}),I}function re(_){if(_._status===-1){var q=_._result;q=q(),q.then(function(H){(_._status===0||_._status===-1)&&(_._status=1,_._result=H)},function(H){(_._status===0||_._status===-1)&&(_._status=2,_._result=H)}),_._status===-1&&(_._status=0,_._result=q)}if(_._status===1)return _._result.default;throw _._result}var ye=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},ie={map:Q,forEach:function(_,q,H){Q(_,function(){q.apply(this,arguments)},H)},count:function(_){var q=0;return Q(_,function(){q++}),q},toArray:function(_){return Q(_,function(q){return q})||[]},only:function(_){if(!me(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return _e.Activity=S,_e.Children=ie,_e.Component=U,_e.Fragment=l,_e.Profiler=r,_e.PureComponent=j,_e.StrictMode=s,_e.Suspense=v,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,_e.__COMPILER_RUNTIME={__proto__:null,c:function(_){return $.H.useMemoCache(_)}},_e.cache=function(_){return function(){return _.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(_,q,H){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var I=w({},_.props),B=_.key;if(q!=null)for(Y in q.key!==void 0&&(B=""+q.key),q)!pe.call(q,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&q.ref===void 0||(I[Y]=q[Y]);var Y=arguments.length-2;if(Y===1)I.children=H;else if(1<Y){for(var W=Array(Y),xe=0;xe<Y;xe++)W[xe]=arguments[xe+2];I.children=W}return te(_.type,B,I)},_e.createContext=function(_){return _={$$typeof:h,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},_e.createElement=function(_,q,H){var I,B={},Y=null;if(q!=null)for(I in q.key!==void 0&&(Y=""+q.key),q)pe.call(q,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(B[I]=q[I]);var W=arguments.length-2;if(W===1)B.children=H;else if(1<W){for(var xe=Array(W),ue=0;ue<W;ue++)xe[ue]=arguments[ue+2];B.children=xe}if(_&&_.defaultProps)for(I in W=_.defaultProps,W)B[I]===void 0&&(B[I]=W[I]);return te(_,Y,B)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(_){return{$$typeof:x,render:_}},_e.isValidElement=me,_e.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:re}},_e.memo=function(_,q){return{$$typeof:g,type:_,compare:q===void 0?null:q}},_e.startTransition=function(_){var q=$.T,H={};$.T=H;try{var I=_(),B=$.S;B!==null&&B(H,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(se,ye)}catch(Y){ye(Y)}finally{q!==null&&H.types!==null&&(q.types=H.types),$.T=q}},_e.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},_e.use=function(_){return $.H.use(_)},_e.useActionState=function(_,q,H){return $.H.useActionState(_,q,H)},_e.useCallback=function(_,q){return $.H.useCallback(_,q)},_e.useContext=function(_){return $.H.useContext(_)},_e.useDebugValue=function(){},_e.useDeferredValue=function(_,q){return $.H.useDeferredValue(_,q)},_e.useEffect=function(_,q){return $.H.useEffect(_,q)},_e.useEffectEvent=function(_){return $.H.useEffectEvent(_)},_e.useId=function(){return $.H.useId()},_e.useImperativeHandle=function(_,q,H){return $.H.useImperativeHandle(_,q,H)},_e.useInsertionEffect=function(_,q){return $.H.useInsertionEffect(_,q)},_e.useLayoutEffect=function(_,q){return $.H.useLayoutEffect(_,q)},_e.useMemo=function(_,q){return $.H.useMemo(_,q)},_e.useOptimistic=function(_,q){return $.H.useOptimistic(_,q)},_e.useReducer=function(_,q,H){return $.H.useReducer(_,q,H)},_e.useRef=function(_){return $.H.useRef(_)},_e.useState=function(_){return $.H.useState(_)},_e.useSyncExternalStore=function(_,q,H){return $.H.useSyncExternalStore(_,q,H)},_e.useTransition=function(){return $.H.useTransition()},_e.version="19.2.3",_e}var Fm;function Uc(){return Fm||(Fm=1,$u.exports=vy()),$u.exports}var V=Uc();const yy=Jp(V);var Xu={exports:{}},za={},Qu={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function by(){return Km||(Km=1,(function(i){function t(G,Q){var re=G.length;G.push(Q);e:for(;0<re;){var ye=re-1>>>1,ie=G[ye];if(0<r(ie,Q))G[ye]=Q,G[re]=ie,re=ye;else break e}}function l(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var Q=G[0],re=G.pop();if(re!==Q){G[0]=re;e:for(var ye=0,ie=G.length,_=ie>>>1;ye<_;){var q=2*(ye+1)-1,H=G[q],I=q+1,B=G[I];if(0>r(H,re))I<ie&&0>r(B,H)?(G[ye]=B,G[I]=re,ye=I):(G[ye]=H,G[q]=re,ye=q);else if(I<ie&&0>r(B,re))G[ye]=B,G[I]=re,ye=I;else break e}}return Q}function r(G,Q){var re=G.sortIndex-Q.sortIndex;return re!==0?re:G.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var h=Date,x=h.now();i.unstable_now=function(){return h.now()-x}}var v=[],g=[],y=1,S=null,T=3,A=!1,N=!1,w=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function K(G){for(var Q=l(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=G)s(g),Q.sortIndex=Q.expirationTime,t(v,Q);else break;Q=l(g)}}function ne(G){if(w=!1,K(G),!N)if(l(v)!==null)N=!0,se||(se=!0,Ee());else{var Q=l(g);Q!==null&&ze(ne,Q.startTime-G)}}var se=!1,$=-1,pe=5,te=-1;function ee(){return M?!0:!(i.unstable_now()-te<pe)}function me(){if(M=!1,se){var G=i.unstable_now();te=G;var Q=!0;try{e:{N=!1,w&&(w=!1,X($),$=-1),A=!0;var re=T;try{t:{for(K(G),S=l(v);S!==null&&!(S.expirationTime>G&&ee());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,T=S.priorityLevel;var ie=ye(S.expirationTime<=G);if(G=i.unstable_now(),typeof ie=="function"){S.callback=ie,K(G),Q=!0;break t}S===l(v)&&s(v),K(G)}else s(v);S=l(v)}if(S!==null)Q=!0;else{var _=l(g);_!==null&&ze(ne,_.startTime-G),Q=!1}}break e}finally{S=null,T=re,A=!1}Q=void 0}}finally{Q?Ee():se=!1}}}var Ee;if(typeof j=="function")Ee=function(){j(me)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,we=ge.port2;ge.port1.onmessage=me,Ee=function(){we.postMessage(null)}}else Ee=function(){U(me,0)};function ze(G,Q){$=U(function(){G(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(G){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var re=T;T=Q;try{return G()}finally{T=re}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=T;T=G;try{return Q()}finally{T=re}},i.unstable_scheduleCallback=function(G,Q,re){var ye=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,G){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=re+ie,G={id:y++,callback:Q,priorityLevel:G,startTime:re,expirationTime:ie,sortIndex:-1},re>ye?(G.sortIndex=re,t(g,G),l(v)===null&&G===l(g)&&(w?(X($),$=-1):w=!0,ze(ne,re-ye))):(G.sortIndex=ie,t(v,G),N||A||(N=!0,se||(se=!0,Ee()))),G},i.unstable_shouldYield=ee,i.unstable_wrapCallback=function(G){var Q=T;return function(){var re=T;T=Q;try{return G.apply(this,arguments)}finally{T=re}}}})(Zu)),Zu}var Jm;function Sy(){return Jm||(Jm=1,Qu.exports=by()),Qu.exports}var Wu={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function Ty(){if(Ym)return Nt;Ym=1;var i=Uc();function t(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(v,g,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:v,containerInfo:g,implementation:y}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nt.createPortal=function(v,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return d(v,g,null,y)},Nt.flushSync=function(v){var g=h.T,y=s.p;try{if(h.T=null,s.p=2,v)return v()}finally{h.T=g,s.p=y,s.d.f()}},Nt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},Nt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Nt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var y=g.as,S=x(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:A}):y==="script"&&s.d.X(v,{crossOrigin:S,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Nt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=x(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},Nt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,S=x(y,g.crossOrigin);s.d.L(v,y,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Nt.preloadModule=function(v,g){if(typeof v=="string")if(g){var y=x(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},Nt.requestFormReset=function(v){s.d.r(v)},Nt.unstable_batchedUpdates=function(v,g){return v(g)},Nt.useFormState=function(v,g,y){return h.H.useFormState(v,g,y)},Nt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nt.version="19.2.3",Nt}var $m;function Ey(){if($m)return Wu.exports;$m=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Wu.exports=Ty(),Wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Ny(){if(Xm)return za;Xm=1;var i=Sy(),t=Uc(),l=Ey();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var m=a.return;if(m===null)break;var p=m.alternate;if(p===null){if(o=m.return,o!==null){a=o;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===a)return v(m),e;if(p===o)return v(m),n;p=p.sibling}throw Error(s(188))}if(a.return!==o.return)a=m,o=p;else{for(var b=!1,E=m.child;E;){if(E===a){b=!0,a=m,o=p;break}if(E===o){b=!0,o=m,a=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===a){b=!0,a=p,o=m;break}if(E===o){b=!0,o=p,a=m;break}E=E.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),j=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case U:return"Profiler";case M:return"StrictMode";case ne:return"Suspense";case se:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case j:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}var ze=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ye=[],ie=-1;function _(e){return{current:e}}function q(e){0>ie||(e.current=ye[ie],ye[ie]=null,ie--)}function H(e,n){ie++,ye[ie]=e.current,e.current=n}var I=_(null),B=_(null),Y=_(null),W=_(null);function xe(e,n){switch(H(Y,n),H(B,e),H(I,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?dm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=dm(n),e=fm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(I),H(I,e)}function ue(){q(I),q(B),q(Y)}function Je(e){e.memoizedState!==null&&H(W,e);var n=I.current,a=fm(n,e.type);n!==a&&(H(B,e),H(I,a))}function Ze(e){B.current===e&&(q(I),q(B)),W.current===e&&(q(W),Ua._currentValue=re)}var be,pt;function mt(e){if(be===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",pt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+pt}var Qt=!1;function _t(e,n){if(!e||Qt)return"";Qt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(z){var P=z}Reflect.construct(e,[],J)}else{try{J.call()}catch(z){P=z}e.call(J.prototype)}}else{try{throw Error()}catch(z){P=z}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(z){if(z&&P&&typeof z.stack=="string")return[z.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var C=b.split(`
`),L=E.split(`
`);for(m=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(o===C.length||m===L.length)for(o=C.length-1,m=L.length-1;1<=o&&0<=m&&C[o]!==L[m];)m--;for(;1<=o&&0<=m;o--,m--)if(C[o]!==L[m]){if(o!==1||m!==1)do if(o--,m--,0>m||C[o]!==L[m]){var O=`
`+C[o].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=o&&0<=m);break}}}finally{Qt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mt(a):""}function Ut(e,n){switch(e.tag){case 26:case 27:case 5:return mt(e.type);case 16:return mt("Lazy");case 13:return e.child!==n&&n!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return _t(e.type,!1);case 11:return _t(e.type.render,!1);case 1:return _t(e.type,!0);case 31:return mt("Activity");default:return""}}function Ka(e){try{var n="",a=null;do n+=Ut(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Fl=Object.prototype.hasOwnProperty,Kl=i.unstable_scheduleCallback,Jl=i.unstable_cancelCallback,Ja=i.unstable_shouldYield,Ai=i.unstable_requestPaint,Ct=i.unstable_now,Go=i.unstable_getCurrentPriorityLevel,Ya=i.unstable_ImmediatePriority,$a=i.unstable_UserBlockingPriority,Yi=i.unstable_NormalPriority,Po=i.unstable_LowPriority,Xa=i.unstable_IdlePriority,Ho=i.log,Qa=i.unstable_setDisableYieldValue,Z=null,de=null;function Ce(e){if(typeof Ho=="function"&&Qa(e),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(Z,e)}catch{}}var Te=Math.clz32?Math.clz32:Me,Ie=Math.log,rt=Math.LN2;function Me(e){return e>>>=0,e===0?32:31-(Ie(e)/rt|0)|0}var He=256,Ve=262144,Ye=4194304;function it(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function kt(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var m=0,p=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~p,o!==0?m=it(o):(b&=E,b!==0?m=it(b):a||(a=E&~e,a!==0&&(m=it(a))))):(E=o&~p,E!==0?m=it(E):b!==0?m=it(b):a||(a=o&~e,a!==0&&(m=it(a)))),m===0?0:n!==0&&n!==m&&(n&p)===0&&(p=m&-m,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:m}function wt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function hn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var e=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),e}function Zt(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Lt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $n(e,n,a,o,m,p){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(a=b&~a;0<a;){var O=31-Te(a),J=1<<O;E[O]=0,C[O]=-1;var P=L[O];if(P!==null)for(L[O]=null,O=0;O<P.length;O++){var z=P[O];z!==null&&(z.lane&=-536870913)}a&=~J}o!==0&&Cn(e,o,0),p!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~n))}function Cn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Te(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Xn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Te(a),m=1<<o;m&n|e[o]&n&&(e[o]|=n),a&=~m}}function Qn(e,n){var a=n&-n;return a=(a&42)!==0?1:$i(a),(a&(e.suspendedLanes|n))!==0?0:a}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $c(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Lm(e.type))}function Xc(e,n){var a=Q.p;try{return Q.p=e,n()}finally{Q.p=a}}var Zn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Zn,Gt="__reactProps$"+Zn,Xi="__reactContainer$"+Zn,zo="__reactEvents$"+Zn,ax="__reactListeners$"+Zn,sx="__reactHandles$"+Zn,Qc="__reactResources$"+Zn,$l="__reactMarker$"+Zn;function Bo(e){delete e[yt],delete e[Gt],delete e[zo],delete e[ax],delete e[sx]}function Qi(e){var n=e[yt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Xi]||a[yt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=ym(e);e!==null;){if(a=e[yt])return a;e=ym(e)}return n}e=a,a=e.parentNode}return null}function Zi(e){if(e=e[yt]||e[Xi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Xl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Wi(e){var n=e[Qc];return n||(n=e[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function gt(e){e[$l]=!0}var Zc=new Set,Wc={};function _i(e,n){el(e,n),el(e+"Capture",n)}function el(e,n){for(Wc[e]=n,e=0;e<n.length;e++)Zc.add(n[e])}var ox=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ed={},td={};function rx(e){return Fl.call(td,e)?!0:Fl.call(ed,e)?!1:ox.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Za(e,n,a){if(rx(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Wa(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function kn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ux(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,p=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){a=""+b,p.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function jo(e){if(!e._valueTracker){var n=nd(e)?"checked":"value";e._valueTracker=ux(e,n,""+e[n])}}function id(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=nd(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cx=/[\n"\\]/g;function en(e){return e.replace(cx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qo(e,n,a,o,m,p,b,E){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Wt(n)):e.value!==""+Wt(n)&&(e.value=""+Wt(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,b,Wt(n)):a!=null?Oo(e,b,Wt(a)):o!=null&&e.removeAttribute("value"),m==null&&p!=null&&(e.defaultChecked=!!p),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Wt(E):e.removeAttribute("name")}function ld(e,n,a,o,m,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){jo(e);return}a=a!=null?""+Wt(a):"",n=n!=null?""+Wt(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??m,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),jo(e)}function Oo(e,n,a){n==="number"&&es(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function tl(e,n,a,o){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Wt(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,o&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function ad(e,n,a){if(n!=null&&(n=""+Wt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Wt(a):""}function sd(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ze(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Wt(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),jo(e)}function nl(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var dx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||dx.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function rd(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var m in n)o=n[m],n.hasOwnProperty(m)&&a[m]!==o&&od(e,m,o)}else for(var p in n)n.hasOwnProperty(p)&&od(e,p,n[p])}function Vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ts(e){return mx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Fo=null;function Ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var il=null,ll=null;function ud(e){var n=Zi(e);if(n&&(e=n.stateNode)){var a=e[Gt]||null;e:switch(e=n.stateNode,n.type){case"input":if(qo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var m=o[Gt]||null;if(!m)throw Error(s(90));qo(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&id(o)}break e;case"textarea":ad(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&tl(e,!!a.multiple,n,!1)}}}var Jo=!1;function cd(e,n,a){if(Jo)return e(n,a);Jo=!0;try{var o=e(n);return o}finally{if(Jo=!1,(il!==null||ll!==null)&&(qs(),il&&(n=il,e=ll,ll=il=null,ud(n),e)))for(n=0;n<e.length;n++)ud(e[n])}}function Ql(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Gt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yo=!1;if(Mn)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{Yo=!1}var Wn=null,$o=null,ns=null;function dd(){if(ns)return ns;var e,n=$o,a=n.length,o,m="value"in Wn?Wn.value:Wn.textContent,p=m.length;for(e=0;e<a&&n[e]===m[e];e++);var b=a-e;for(o=1;o<=b&&n[a-o]===m[p-o];o++);return ns=m.slice(e,1<o?1-o:void 0)}function is(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function fd(){return!1}function Pt(e){function n(a,o,m,p,b){this._reactName=a,this._targetInst=m,this.type=o,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:fd,this.isPropagationStopped=fd,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Pt(Ci),Wl=S({},Ci,{view:0,detail:0}),hx=Pt(Wl),Xo,Qo,ea,ss=S({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ea&&(ea&&e.type==="mousemove"?(Xo=e.screenX-ea.screenX,Qo=e.screenY-ea.screenY):Qo=Xo=0,ea=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),md=Pt(ss),px=S({},ss,{dataTransfer:0}),gx=Pt(px),xx=S({},Wl,{relatedTarget:0}),Zo=Pt(xx),vx=S({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),yx=Pt(vx),bx=S({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sx=Pt(bx),Tx=S({},Ci,{data:0}),hd=Pt(Tx),Ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ax={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _x(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ax[e])?!!n[e]:!1}function Wo(){return _x}var Cx=S({},Wl,{key:function(e){if(e.key){var n=Ex[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kx=Pt(Cx),wx=S({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=Pt(wx),Mx=S({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),Rx=Pt(Mx),Ix=S({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=Pt(Ix),Ux=S({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=Pt(Ux),Gx=S({},Ci,{newState:0,oldState:0}),Px=Pt(Gx),Hx=[9,13,27,32],er=Mn&&"CompositionEvent"in window,ta=null;Mn&&"documentMode"in document&&(ta=document.documentMode);var zx=Mn&&"TextEvent"in window&&!ta,gd=Mn&&(!er||ta&&8<ta&&11>=ta),xd=" ",vd=!1;function yd(e,n){switch(e){case"keyup":return Hx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var al=!1;function Bx(e,n){switch(e){case"compositionend":return bd(n);case"keypress":return n.which!==32?null:(vd=!0,xd);case"textInput":return e=n.data,e===xd&&vd?null:e;default:return null}}function jx(e,n){if(al)return e==="compositionend"||!er&&yd(e,n)?(e=dd(),ns=$o=Wn=null,al=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gd&&n.locale!=="ko"?null:n.data;default:return null}}var qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qx[e.type]:n==="textarea"}function Td(e,n,a,o){il?ll?ll.push(o):ll=[o]:il=o,n=$s(n,"onChange"),0<n.length&&(a=new as("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var na=null,ia=null;function Ox(e){am(e,0)}function os(e){var n=Xl(e);if(id(n))return e}function Ed(e,n){if(e==="change")return n}var Nd=!1;if(Mn){var tr;if(Mn){var nr="oninput"in document;if(!nr){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),nr=typeof Ad.oninput=="function"}tr=nr}else tr=!1;Nd=tr&&(!document.documentMode||9<document.documentMode)}function _d(){na&&(na.detachEvent("onpropertychange",Cd),ia=na=null)}function Cd(e){if(e.propertyName==="value"&&os(ia)){var n=[];Td(n,ia,e,Ko(e)),cd(Ox,n)}}function Vx(e,n,a){e==="focusin"?(_d(),na=n,ia=a,na.attachEvent("onpropertychange",Cd)):e==="focusout"&&_d()}function Fx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return os(ia)}function Kx(e,n){if(e==="click")return os(n)}function Jx(e,n){if(e==="input"||e==="change")return os(n)}function Yx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Vt=typeof Object.is=="function"?Object.is:Yx;function la(e,n){if(Vt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var m=a[o];if(!Fl.call(n,m)||!Vt(e[m],n[m]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wd(e,n){var a=kd(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kd(a)}}function Md(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Md(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=es(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=es(e.document)}return n}function ir(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $x=Mn&&"documentMode"in document&&11>=document.documentMode,sl=null,lr=null,aa=null,ar=!1;function Id(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ar||sl==null||sl!==es(o)||(o=sl,"selectionStart"in o&&ir(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),aa&&la(aa,o)||(aa=o,o=$s(lr,"onSelect"),0<o.length&&(n=new as("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=sl)))}function ki(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ol={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},sr={},Dd={};Mn&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function wi(e){if(sr[e])return sr[e];if(!ol[e])return e;var n=ol[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dd)return sr[e]=n[a];return e}var Ud=wi("animationend"),Ld=wi("animationiteration"),Gd=wi("animationstart"),Xx=wi("transitionrun"),Qx=wi("transitionstart"),Zx=wi("transitioncancel"),Pd=wi("transitionend"),Hd=new Map,or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");or.push("scrollEnd");function gn(e,n){Hd.set(e,n),_i(n,[e])}var rs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],rl=0,rr=0;function us(){for(var e=rl,n=rr=rl=0;n<e;){var a=tn[n];tn[n++]=null;var o=tn[n];tn[n++]=null;var m=tn[n];tn[n++]=null;var p=tn[n];if(tn[n++]=null,o!==null&&m!==null){var b=o.pending;b===null?m.next=m:(m.next=b.next,b.next=m),o.pending=m}p!==0&&zd(a,m,p)}}function cs(e,n,a,o){tn[rl++]=e,tn[rl++]=n,tn[rl++]=a,tn[rl++]=o,rr|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ur(e,n,a,o){return cs(e,n,a,o),ds(e)}function Mi(e,n){return cs(e,null,null,n),ds(e)}function zd(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var m=!1,p=e.return;p!==null;)p.childLanes|=a,o=p.alternate,o!==null&&(o.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(m=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,m&&n!==null&&(m=31-Te(a),e=p.hiddenUpdates,o=e[m],o===null?e[m]=[n]:o.push(n),n.lane=a|536870912),p):null}function ds(e){if(50<Ca)throw Ca=0,vu=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ul={};function Wx(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,a,o){return new Wx(e,n,a,o)}function cr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,n){var a=e.alternate;return a===null?(a=Ft(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bd(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function fs(e,n,a,o,m,p){var b=0;if(o=e,typeof e=="function")cr(e)&&(b=1);else if(typeof e=="string")b=ly(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Ft(31,a,n,m),e.elementType=te,e.lanes=p,e;case w:return Ri(a.children,m,p,n);case M:b=8,m|=24;break;case U:return e=Ft(12,a,n,m|2),e.elementType=U,e.lanes=p,e;case ne:return e=Ft(13,a,n,m),e.elementType=ne,e.lanes=p,e;case se:return e=Ft(19,a,n,m),e.elementType=se,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:b=10;break e;case X:b=9;break e;case K:b=11;break e;case $:b=14;break e;case pe:b=16,o=null;break e}b=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Ft(b,a,n,m),n.elementType=e,n.type=o,n.lanes=p,n}function Ri(e,n,a,o){return e=Ft(7,e,o,n),e.lanes=a,e}function dr(e,n,a){return e=Ft(6,e,null,n),e.lanes=a,e}function jd(e){var n=Ft(18,null,null,0);return n.stateNode=e,n}function fr(e,n,a){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var qd=new WeakMap;function nn(e,n){if(typeof e=="object"&&e!==null){var a=qd.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ka(n)},qd.set(e,n),n)}return{value:e,source:n,stack:Ka(n)}}var cl=[],dl=0,ms=null,sa=0,ln=[],an=0,ei=null,Tn=1,En="";function In(e,n){cl[dl++]=sa,cl[dl++]=ms,ms=e,sa=n}function Od(e,n,a){ln[an++]=Tn,ln[an++]=En,ln[an++]=ei,ei=e;var o=Tn;e=En;var m=32-Te(o)-1;o&=~(1<<m),a+=1;var p=32-Te(n)+m;if(30<p){var b=m-m%5;p=(o&(1<<b)-1).toString(32),o>>=b,m-=b,Tn=1<<32-Te(n)+m|a<<m|o,En=p+e}else Tn=1<<p|a<<m|o,En=e}function mr(e){e.return!==null&&(In(e,1),Od(e,1,0))}function hr(e){for(;e===ms;)ms=cl[--dl],cl[dl]=null,sa=cl[--dl],cl[dl]=null;for(;e===ei;)ei=ln[--an],ln[an]=null,En=ln[--an],ln[an]=null,Tn=ln[--an],ln[an]=null}function Vd(e,n){ln[an++]=Tn,ln[an++]=En,ln[an++]=ei,Tn=n.id,En=n.overflow,ei=e}var bt=null,et=null,Pe=!1,ti=null,sn=!1,pr=Error(s(519));function ni(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oa(nn(n,e)),pr}function Fd(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[yt]=e,n[Gt]=o,a){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<wa.length;a++)Ue(wa[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),ld(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),sd(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||um(n.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=wn),n=!0):n=!1,n||ni(e,!0)}function Kd(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:bt=bt.return}}function fl(e){if(e!==bt)return!1;if(!Pe)return Kd(e),Pe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Du(e.type,e.memoizedProps)),a=!a),a&&et&&ni(e),Kd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));et=vm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));et=vm(e)}else n===27?(n=et,gi(e.type)?(e=Hu,Hu=null,et=e):et=n):et=bt?rn(e.stateNode.nextSibling):null;return!0}function Ii(){et=bt=null,Pe=!1}function gr(){var e=ti;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),ti=null),e}function oa(e){ti===null?ti=[e]:ti.push(e)}var xr=_(null),Di=null,Dn=null;function ii(e,n,a){H(xr,n._currentValue),n._currentValue=a}function Un(e){e._currentValue=xr.current,q(xr)}function vr(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function yr(e,n,a,o){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=m;for(var C=0;C<n.length;C++)if(E.context===n[C]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),vr(p.return,a,e),o||(b=null);break e}p=E.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),vr(b,a,e),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===e){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function ml(e,n,a,o){e=null;for(var m=n,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var E=m.type;Vt(m.pendingProps.value,b.value)||(e!==null?e.push(E):e=[E])}}else if(m===W.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Ua):e=[Ua])}m=m.return}e!==null&&yr(n,e,a,o),n.flags|=262144}function hs(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){Di=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return Jd(Di,e)}function ps(e,n){return Di===null&&Ui(e),Jd(e,n)}function Jd(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Dn===null){if(e===null)throw Error(s(308));Dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Dn=Dn.next=n;return a}var ev=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},tv=i.unstable_scheduleCallback,nv=i.unstable_NormalPriority,ut={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function br(){return{controller:new ev,data:new Map,refCount:0}}function ra(e){e.refCount--,e.refCount===0&&tv(nv,function(){e.controller.abort()})}var ua=null,Sr=0,hl=0,pl=null;function iv(e,n){if(ua===null){var a=ua=[];Sr=0,hl=Nu(),pl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Sr++,n.then(Yd,Yd),n}function Yd(){if(--Sr===0&&ua!==null){pl!==null&&(pl.status="fulfilled");var e=ua;ua=null,hl=0,pl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function lv(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(o.status="rejected",o.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),o}var $d=G.S;G.S=function(e,n){D0=Ct(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&iv(e,n),$d!==null&&$d(e,n)};var Li=_(null);function Tr(){var e=Li.current;return e!==null?e:We.pooledCache}function gs(e,n){n===null?H(Li,Li.current):H(Li,n.pool)}function Xd(){var e=Tr();return e===null?null:{parent:ut._currentValue,pool:e}}var gl=Error(s(460)),Er=Error(s(474)),xs=Error(s(542)),vs={then:function(){}};function Qd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zd(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(wn,wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ef(e),e;default:if(typeof n.status=="string")n.then(wn,wn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=o}},function(o){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ef(e),e}throw Pi=n,gl}}function Gi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pi=a,gl):a}}var Pi=null;function Wd(){if(Pi===null)throw Error(s(459));var e=Pi;return Pi=null,e}function ef(e){if(e===gl||e===xs)throw Error(s(483))}var xl=null,ca=0;function ys(e){var n=ca;return ca+=1,xl===null&&(xl=[]),Zd(xl,e,n)}function da(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bs(e,n){throw n.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tf(e){function n(R,k){if(e){var D=R.deletions;D===null?(R.deletions=[k],R.flags|=16):D.push(k)}}function a(R,k){if(!e)return null;for(;k!==null;)n(R,k),k=k.sibling;return null}function o(R){for(var k=new Map;R!==null;)R.key!==null?k.set(R.key,R):k.set(R.index,R),R=R.sibling;return k}function m(R,k){return R=Rn(R,k),R.index=0,R.sibling=null,R}function p(R,k,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<k?(R.flags|=67108866,k):D):(R.flags|=67108866,k)):(R.flags|=1048576,k)}function b(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function E(R,k,D,F){return k===null||k.tag!==6?(k=dr(D,R.mode,F),k.return=R,k):(k=m(k,D),k.return=R,k)}function C(R,k,D,F){var ve=D.type;return ve===w?O(R,k,D.props.children,F,D.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&Gi(ve)===k.type)?(k=m(k,D.props),da(k,D),k.return=R,k):(k=fs(D.type,D.key,D.props,null,R.mode,F),da(k,D),k.return=R,k)}function L(R,k,D,F){return k===null||k.tag!==4||k.stateNode.containerInfo!==D.containerInfo||k.stateNode.implementation!==D.implementation?(k=fr(D,R.mode,F),k.return=R,k):(k=m(k,D.children||[]),k.return=R,k)}function O(R,k,D,F,ve){return k===null||k.tag!==7?(k=Ri(D,R.mode,F,ve),k.return=R,k):(k=m(k,D),k.return=R,k)}function J(R,k,D){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=dr(""+k,R.mode,D),k.return=R,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return D=fs(k.type,k.key,k.props,null,R.mode,D),da(D,k),D.return=R,D;case N:return k=fr(k,R.mode,D),k.return=R,k;case pe:return k=Gi(k),J(R,k,D)}if(ze(k)||Ee(k))return k=Ri(k,R.mode,D,null),k.return=R,k;if(typeof k.then=="function")return J(R,ys(k),D);if(k.$$typeof===j)return J(R,ps(R,k),D);bs(R,k)}return null}function P(R,k,D,F){var ve=k!==null?k.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ve!==null?null:E(R,k,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return D.key===ve?C(R,k,D,F):null;case N:return D.key===ve?L(R,k,D,F):null;case pe:return D=Gi(D),P(R,k,D,F)}if(ze(D)||Ee(D))return ve!==null?null:O(R,k,D,F,null);if(typeof D.then=="function")return P(R,k,ys(D),F);if(D.$$typeof===j)return P(R,k,ps(R,D),F);bs(R,D)}return null}function z(R,k,D,F,ve){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return R=R.get(D)||null,E(k,R,""+F,ve);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return R=R.get(F.key===null?D:F.key)||null,C(k,R,F,ve);case N:return R=R.get(F.key===null?D:F.key)||null,L(k,R,F,ve);case pe:return F=Gi(F),z(R,k,D,F,ve)}if(ze(F)||Ee(F))return R=R.get(D)||null,O(k,R,F,ve,null);if(typeof F.then=="function")return z(R,k,D,ys(F),ve);if(F.$$typeof===j)return z(R,k,D,ps(k,F),ve);bs(k,F)}return null}function ce(R,k,D,F){for(var ve=null,Be=null,fe=k,Re=k=0,Ge=null;fe!==null&&Re<D.length;Re++){fe.index>Re?(Ge=fe,fe=null):Ge=fe.sibling;var je=P(R,fe,D[Re],F);if(je===null){fe===null&&(fe=Ge);break}e&&fe&&je.alternate===null&&n(R,fe),k=p(je,k,Re),Be===null?ve=je:Be.sibling=je,Be=je,fe=Ge}if(Re===D.length)return a(R,fe),Pe&&In(R,Re),ve;if(fe===null){for(;Re<D.length;Re++)fe=J(R,D[Re],F),fe!==null&&(k=p(fe,k,Re),Be===null?ve=fe:Be.sibling=fe,Be=fe);return Pe&&In(R,Re),ve}for(fe=o(fe);Re<D.length;Re++)Ge=z(fe,R,Re,D[Re],F),Ge!==null&&(e&&Ge.alternate!==null&&fe.delete(Ge.key===null?Re:Ge.key),k=p(Ge,k,Re),Be===null?ve=Ge:Be.sibling=Ge,Be=Ge);return e&&fe.forEach(function(Si){return n(R,Si)}),Pe&&In(R,Re),ve}function Se(R,k,D,F){if(D==null)throw Error(s(151));for(var ve=null,Be=null,fe=k,Re=k=0,Ge=null,je=D.next();fe!==null&&!je.done;Re++,je=D.next()){fe.index>Re?(Ge=fe,fe=null):Ge=fe.sibling;var Si=P(R,fe,je.value,F);if(Si===null){fe===null&&(fe=Ge);break}e&&fe&&Si.alternate===null&&n(R,fe),k=p(Si,k,Re),Be===null?ve=Si:Be.sibling=Si,Be=Si,fe=Ge}if(je.done)return a(R,fe),Pe&&In(R,Re),ve;if(fe===null){for(;!je.done;Re++,je=D.next())je=J(R,je.value,F),je!==null&&(k=p(je,k,Re),Be===null?ve=je:Be.sibling=je,Be=je);return Pe&&In(R,Re),ve}for(fe=o(fe);!je.done;Re++,je=D.next())je=z(fe,R,Re,je.value,F),je!==null&&(e&&je.alternate!==null&&fe.delete(je.key===null?Re:je.key),k=p(je,k,Re),Be===null?ve=je:Be.sibling=je,Be=je);return e&&fe.forEach(function(py){return n(R,py)}),Pe&&In(R,Re),ve}function Qe(R,k,D,F){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case A:e:{for(var ve=D.key;k!==null;){if(k.key===ve){if(ve=D.type,ve===w){if(k.tag===7){a(R,k.sibling),F=m(k,D.props.children),F.return=R,R=F;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&Gi(ve)===k.type){a(R,k.sibling),F=m(k,D.props),da(F,D),F.return=R,R=F;break e}a(R,k);break}else n(R,k);k=k.sibling}D.type===w?(F=Ri(D.props.children,R.mode,F,D.key),F.return=R,R=F):(F=fs(D.type,D.key,D.props,null,R.mode,F),da(F,D),F.return=R,R=F)}return b(R);case N:e:{for(ve=D.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===D.containerInfo&&k.stateNode.implementation===D.implementation){a(R,k.sibling),F=m(k,D.children||[]),F.return=R,R=F;break e}else{a(R,k);break}else n(R,k);k=k.sibling}F=fr(D,R.mode,F),F.return=R,R=F}return b(R);case pe:return D=Gi(D),Qe(R,k,D,F)}if(ze(D))return ce(R,k,D,F);if(Ee(D)){if(ve=Ee(D),typeof ve!="function")throw Error(s(150));return D=ve.call(D),Se(R,k,D,F)}if(typeof D.then=="function")return Qe(R,k,ys(D),F);if(D.$$typeof===j)return Qe(R,k,ps(R,D),F);bs(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,k!==null&&k.tag===6?(a(R,k.sibling),F=m(k,D),F.return=R,R=F):(a(R,k),F=dr(D,R.mode,F),F.return=R,R=F),b(R)):a(R,k)}return function(R,k,D,F){try{ca=0;var ve=Qe(R,k,D,F);return xl=null,ve}catch(fe){if(fe===gl||fe===xs)throw fe;var Be=Ft(29,fe,null,R.mode);return Be.lanes=F,Be.return=R,Be}finally{}}}var Hi=tf(!0),nf=tf(!1),li=!1;function Nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ar(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Oe&2)!==0){var m=o.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),o.pending=n,n=ds(e),zd(e,null,a),n}return cs(e,o,n,a),ds(e)}function fa(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Xn(e,a)}}function _r(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var m=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?m=p=n:p=p.next=n}else m=p=n;a={baseState:o.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Cr=!1;function ma(){if(Cr){var e=pl;if(e!==null)throw e}}function ha(e,n,a,o){Cr=!1;var m=e.updateQueue;li=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var C=E,L=C.next;C.next=null,b===null?p=L:b.next=L,b=C;var O=e.alternate;O!==null&&(O=O.updateQueue,E=O.lastBaseUpdate,E!==b&&(E===null?O.firstBaseUpdate=L:E.next=L,O.lastBaseUpdate=C))}if(p!==null){var J=m.baseState;b=0,O=L=C=null,E=p;do{var P=E.lane&-536870913,z=P!==E.lane;if(z?(Le&P)===P:(o&P)===P){P!==0&&P===hl&&(Cr=!0),O!==null&&(O=O.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=e,Se=E;P=n;var Qe=a;switch(Se.tag){case 1:if(ce=Se.payload,typeof ce=="function"){J=ce.call(Qe,J,P);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Se.payload,P=typeof ce=="function"?ce.call(Qe,J,P):ce,P==null)break e;J=S({},J,P);break e;case 2:li=!0}}P=E.callback,P!==null&&(e.flags|=64,z&&(e.flags|=8192),z=m.callbacks,z===null?m.callbacks=[P]:z.push(P))}else z={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},O===null?(L=O=z,C=J):O=O.next=z,b|=P;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;z=E,E=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(!0);O===null&&(C=J),m.baseState=C,m.firstBaseUpdate=L,m.lastBaseUpdate=O,p===null&&(m.shared.lanes=0),di|=b,e.lanes=b,e.memoizedState=J}}function lf(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function af(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lf(a[e],n)}var vl=_(null),Ss=_(0);function sf(e,n){e=On,H(Ss,e),H(vl,n),On=e|n.baseLanes}function kr(){H(Ss,On),H(vl,vl.current)}function wr(){On=Ss.current,q(vl),q(Ss)}var Kt=_(null),on=null;function oi(e){var n=e.alternate;H(st,st.current&1),H(Kt,e),on===null&&(n===null||vl.current!==null||n.memoizedState!==null)&&(on=e)}function Mr(e){H(st,st.current),H(Kt,e),on===null&&(on=e)}function of(e){e.tag===22?(H(st,st.current),H(Kt,e),on===null&&(on=e)):ri()}function ri(){H(st,st.current),H(Kt,Kt.current)}function Jt(e){q(Kt),on===e&&(on=null),q(st)}var st=_(0);function Ts(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gu(a)||Pu(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ln=0,ke=null,$e=null,ct=null,Es=!1,yl=!1,zi=!1,Ns=0,pa=0,bl=null,av=0;function lt(){throw Error(s(321))}function Rr(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Vt(e[a],n[a]))return!1;return!0}function Ir(e,n,a,o,m,p){return Ln=p,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Vf:Jr,zi=!1,p=a(o,m),zi=!1,yl&&(p=uf(n,a,o,m)),rf(e),p}function rf(e){G.H=va;var n=$e!==null&&$e.next!==null;if(Ln=0,ct=$e=ke=null,Es=!1,pa=0,bl=null,n)throw Error(s(300));e===null||dt||(e=e.dependencies,e!==null&&hs(e)&&(dt=!0))}function uf(e,n,a,o){ke=e;var m=0;do{if(yl&&(bl=null),pa=0,yl=!1,25<=m)throw Error(s(301));if(m+=1,ct=$e=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=Ff,p=n(a,o)}while(yl);return p}function sv(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?ga(n):n,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(ke.flags|=1024),n}function Dr(){var e=Ns!==0;return Ns=0,e}function Ur(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Lr(e){if(Es){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Es=!1}Ln=0,ct=$e=ke=null,yl=!1,pa=Ns=0,bl=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?ke.memoizedState=ct=e:ct=ct.next=e,ct}function ot(){if($e===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var n=ct===null?ke.memoizedState:ct.next;if(n!==null)ct=n,$e=e;else{if(e===null)throw ke.alternate===null?Error(s(467)):Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ct===null?ke.memoizedState=ct=e:ct=ct.next=e}return ct}function As(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ga(e){var n=pa;return pa+=1,bl===null&&(bl=[]),e=Zd(bl,e,n),n=ke,(ct===null?n.memoizedState:ct.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Vf:Jr),e}function _s(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ga(e);if(e.$$typeof===j)return St(e)}throw Error(s(438,String(e)))}function Gr(e){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=As(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=ee;return n.index++,a}function Gn(e,n){return typeof n=="function"?n(e):n}function Cs(e){var n=ot();return Pr(n,$e,e)}function Pr(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var m=e.baseQueue,p=o.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}n.baseQueue=m=p,o.pending=null}if(p=e.baseState,m===null)e.memoizedState=p;else{n=m.next;var E=b=null,C=null,L=n,O=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Le&J)===J:(Ln&J)===J){var P=L.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===hl&&(O=!0);else if((Ln&P)===P){L=L.next,P===hl&&(O=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=J,b=p):C=C.next=J,ke.lanes|=P,di|=P;J=L.action,zi&&a(p,J),p=L.hasEagerState?L.eagerState:a(p,J)}else P={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=P,b=p):C=C.next=P,ke.lanes|=J,di|=J;L=L.next}while(L!==null&&L!==n);if(C===null?b=p:C.next=E,!Vt(p,e.memoizedState)&&(dt=!0,O&&(a=pl,a!==null)))throw a;e.memoizedState=p,e.baseState=b,e.baseQueue=C,o.lastRenderedState=p}return m===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Hr(e){var n=ot(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,m=a.pending,p=n.memoizedState;if(m!==null){a.pending=null;var b=m=m.next;do p=e(p,b.action),b=b.next;while(b!==m);Vt(p,n.memoizedState)||(dt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,o]}function cf(e,n,a){var o=ke,m=ot(),p=Pe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=n();var b=!Vt(($e||m).memoizedState,a);if(b&&(m.memoizedState=a,dt=!0),m=m.queue,jr(mf.bind(null,o,m,e),[e]),m.getSnapshot!==n||b||ct!==null&&ct.memoizedState.tag&1){if(o.flags|=2048,Sl(9,{destroy:void 0},ff.bind(null,o,m,a,n),null),We===null)throw Error(s(349));p||(Ln&127)!==0||df(o,n,a)}return a}function df(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=As(),ke.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ff(e,n,a,o){n.value=a,n.getSnapshot=o,hf(n)&&pf(e)}function mf(e,n,a){return a(function(){hf(n)&&pf(e)})}function hf(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Vt(e,a)}catch{return!0}}function pf(e){var n=Mi(e,2);n!==null&&qt(n,e,2)}function zr(e){var n=Mt();if(typeof e=="function"){var a=e;if(e=a(),zi){Ce(!0);try{a()}finally{Ce(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},n}function gf(e,n,a,o){return e.baseState=a,Pr(e,$e,typeof o=="function"?o:Gn)}function ov(e,n,a,o,m){if(Ms(e))throw Error(s(485));if(e=n.action,e!==null){var p={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};G.T!==null?a(!0):p.isTransition=!1,o(p),a=n.pending,a===null?(p.next=n.pending=p,xf(n,p)):(p.next=a.next,n.pending=a.next=p)}}function xf(e,n){var a=n.action,o=n.payload,m=e.state;if(n.isTransition){var p=G.T,b={};G.T=b;try{var E=a(m,o),C=G.S;C!==null&&C(b,E),vf(e,n,E)}catch(L){Br(e,n,L)}finally{p!==null&&b.types!==null&&(p.types=b.types),G.T=p}}else try{p=a(m,o),vf(e,n,p)}catch(L){Br(e,n,L)}}function vf(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){yf(e,n,o)},function(o){return Br(e,n,o)}):yf(e,n,a)}function yf(e,n,a){n.status="fulfilled",n.value=a,bf(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,xf(e,a)))}function Br(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,bf(n),n=n.next;while(n!==o)}e.action=null}function bf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sf(e,n){return n}function Tf(e,n){if(Pe){var a=We.formState;if(a!==null){e:{var o=ke;if(Pe){if(et){t:{for(var m=et,p=sn;m.nodeType!==8;){if(!p){m=null;break t}if(m=rn(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){et=rn(m.nextSibling),o=m.data==="F!";break e}}ni(o)}o=!1}o&&(n=a[0])}}return a=Mt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:n},a.queue=o,a=jf.bind(null,ke,o),o.dispatch=a,o=zr(!1),p=Kr.bind(null,ke,!1,o.queue),o=Mt(),m={state:n,dispatch:null,action:e,pending:null},o.queue=m,a=ov.bind(null,ke,m,p,a),m.dispatch=a,o.memoizedState=e,[n,a,!1]}function Ef(e){var n=ot();return Nf(n,$e,e)}function Nf(e,n,a){if(n=Pr(e,n,Sf)[0],e=Cs(Gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ga(n)}catch(b){throw b===gl?xs:b}else o=n;n=ot();var m=n.queue,p=m.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,Sl(9,{destroy:void 0},rv.bind(null,m,a),null)),[o,p,e]}function rv(e,n){e.action=n}function Af(e){var n=ot(),a=$e;if(a!==null)return Nf(n,a,e);ot(),n=n.memoizedState,a=ot();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Sl(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=ke.updateQueue,n===null&&(n=As(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function _f(){return ot().memoizedState}function ks(e,n,a,o){var m=Mt();ke.flags|=e,m.memoizedState=Sl(1|n,{destroy:void 0},a,o===void 0?null:o)}function ws(e,n,a,o){var m=ot();o=o===void 0?null:o;var p=m.memoizedState.inst;$e!==null&&o!==null&&Rr(o,$e.memoizedState.deps)?m.memoizedState=Sl(n,p,a,o):(ke.flags|=e,m.memoizedState=Sl(1|n,p,a,o))}function Cf(e,n){ks(8390656,8,e,n)}function jr(e,n){ws(2048,8,e,n)}function uv(e){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=As(),ke.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function kf(e){var n=ot().memoizedState;return uv({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function wf(e,n){return ws(4,2,e,n)}function Mf(e,n){return ws(4,4,e,n)}function Rf(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function If(e,n,a){a=a!=null?a.concat([e]):null,ws(4,4,Rf.bind(null,n,e),a)}function qr(){}function Df(e,n){var a=ot();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Rr(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Uf(e,n){var a=ot();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Rr(n,o[1]))return o[0];if(o=e(),zi){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[o,n],o}function Or(e,n,a){return a===void 0||(Ln&1073741824)!==0&&(Le&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=L0(),ke.lanes|=e,di|=e,a)}function Lf(e,n,a,o){return Vt(a,n)?a:vl.current!==null?(e=Or(e,a,o),Vt(e,n)||(dt=!0),e):(Ln&42)===0||(Ln&1073741824)!==0&&(Le&261930)===0?(dt=!0,e.memoizedState=a):(e=L0(),ke.lanes|=e,di|=e,n)}function Gf(e,n,a,o,m){var p=Q.p;Q.p=p!==0&&8>p?p:8;var b=G.T,E={};G.T=E,Kr(e,!1,n,a);try{var C=m(),L=G.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var O=lv(C,o);xa(e,n,O,Xt(e))}else xa(e,n,o,Xt(e))}catch(J){xa(e,n,{then:function(){},status:"rejected",reason:J},Xt())}finally{Q.p=p,b!==null&&E.types!==null&&(b.types=E.types),G.T=b}}function cv(){}function Vr(e,n,a,o){if(e.tag!==5)throw Error(s(476));var m=Pf(e).queue;Gf(e,m,n,re,a===null?cv:function(){return Hf(e),a(o)})}function Pf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:re},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hf(e){var n=Pf(e);n.next===null&&(n=e.alternate.memoizedState),xa(e,n.next.queue,{},Xt())}function Fr(){return St(Ua)}function zf(){return ot().memoizedState}function Bf(){return ot().memoizedState}function dv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Xt();e=ai(a);var o=si(n,e,a);o!==null&&(qt(o,n,a),fa(o,n,a)),n={cache:br()},e.payload=n;return}n=n.return}}function fv(e,n,a){var o=Xt();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ms(e)?qf(n,a):(a=ur(e,n,a,o),a!==null&&(qt(a,e,o),Of(a,n,o)))}function jf(e,n,a){var o=Xt();xa(e,n,a,o)}function xa(e,n,a,o){var m={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ms(e))qf(n,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,E=p(b,a);if(m.hasEagerState=!0,m.eagerState=E,Vt(E,b))return cs(e,n,m,0),We===null&&us(),!1}catch{}finally{}if(a=ur(e,n,m,o),a!==null)return qt(a,e,o),Of(a,n,o),!0}return!1}function Kr(e,n,a,o){if(o={lane:2,revertLane:Nu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ms(e)){if(n)throw Error(s(479))}else n=ur(e,a,o,2),n!==null&&qt(n,e,2)}function Ms(e){var n=e.alternate;return e===ke||n!==null&&n===ke}function qf(e,n){yl=Es=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Of(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Xn(e,a)}}var va={readContext:St,use:_s,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};va.useEffectEvent=lt;var Vf={readContext:St,use:_s,useCallback:function(e,n){return Mt().memoizedState=[e,n===void 0?null:n],e},useContext:St,useEffect:Cf,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ks(4194308,4,Rf.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ks(4194308,4,e,n)},useInsertionEffect:function(e,n){ks(4,2,e,n)},useMemo:function(e,n){var a=Mt();n=n===void 0?null:n;var o=e();if(zi){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Mt();if(a!==void 0){var m=a(n);if(zi){Ce(!0);try{a(n)}finally{Ce(!1)}}}else m=n;return o.memoizedState=o.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},o.queue=e,e=e.dispatch=fv.bind(null,ke,e),[o.memoizedState,e]},useRef:function(e){var n=Mt();return e={current:e},n.memoizedState=e},useState:function(e){e=zr(e);var n=e.queue,a=jf.bind(null,ke,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:qr,useDeferredValue:function(e,n){var a=Mt();return Or(a,e,n)},useTransition:function(){var e=zr(!1);return e=Gf.bind(null,ke,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=ke,m=Mt();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),We===null)throw Error(s(349));(Le&127)!==0||df(o,n,a)}m.memoizedState=a;var p={value:a,getSnapshot:n};return m.queue=p,Cf(mf.bind(null,o,p,e),[e]),o.flags|=2048,Sl(9,{destroy:void 0},ff.bind(null,o,p,a,n),null),a},useId:function(){var e=Mt(),n=We.identifierPrefix;if(Pe){var a=En,o=Tn;a=(o&~(1<<32-Te(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ns++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=av++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Fr,useFormState:Tf,useActionState:Tf,useOptimistic:function(e){var n=Mt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Kr.bind(null,ke,!0,a),a.dispatch=n,[e,n]},useMemoCache:Gr,useCacheRefresh:function(){return Mt().memoizedState=dv.bind(null,ke)},useEffectEvent:function(e){var n=Mt(),a={impl:e};return n.memoizedState=a,function(){if((Oe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jr={readContext:St,use:_s,useCallback:Df,useContext:St,useEffect:jr,useImperativeHandle:If,useInsertionEffect:wf,useLayoutEffect:Mf,useMemo:Uf,useReducer:Cs,useRef:_f,useState:function(){return Cs(Gn)},useDebugValue:qr,useDeferredValue:function(e,n){var a=ot();return Lf(a,$e.memoizedState,e,n)},useTransition:function(){var e=Cs(Gn)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:ga(e),n]},useSyncExternalStore:cf,useId:zf,useHostTransitionStatus:Fr,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,n){var a=ot();return gf(a,$e,e,n)},useMemoCache:Gr,useCacheRefresh:Bf};Jr.useEffectEvent=kf;var Ff={readContext:St,use:_s,useCallback:Df,useContext:St,useEffect:jr,useImperativeHandle:If,useInsertionEffect:wf,useLayoutEffect:Mf,useMemo:Uf,useReducer:Hr,useRef:_f,useState:function(){return Hr(Gn)},useDebugValue:qr,useDeferredValue:function(e,n){var a=ot();return $e===null?Or(a,e,n):Lf(a,$e.memoizedState,e,n)},useTransition:function(){var e=Hr(Gn)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:ga(e),n]},useSyncExternalStore:cf,useId:zf,useHostTransitionStatus:Fr,useFormState:Af,useActionState:Af,useOptimistic:function(e,n){var a=ot();return $e!==null?gf(a,$e,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gr,useCacheRefresh:Bf};Ff.useEffectEvent=kf;function Yr(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $r={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Xt(),m=ai(o);m.payload=n,a!=null&&(m.callback=a),n=si(e,m,o),n!==null&&(qt(n,e,o),fa(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Xt(),m=ai(o);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=si(e,m,o),n!==null&&(qt(n,e,o),fa(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Xt(),o=ai(a);o.tag=2,n!=null&&(o.callback=n),n=si(e,o,a),n!==null&&(qt(n,e,a),fa(n,e,a))}};function Kf(e,n,a,o,m,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,b):n.prototype&&n.prototype.isPureReactComponent?!la(a,o)||!la(m,p):!0}function Jf(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&$r.enqueueReplaceState(n,n.state,null)}function Bi(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}function Yf(e){rs(e)}function $f(e){console.error(e)}function Xf(e){rs(e)}function Rs(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qf(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Xr(e,n,a){return a=ai(a),a.tag=3,a.payload={element:null},a.callback=function(){Rs(e,n)},a}function Zf(e){return e=ai(e),e.tag=3,e}function Wf(e,n,a,o){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var p=o.value;e.payload=function(){return m(p)},e.callback=function(){Qf(n,a,o)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Qf(n,a,o),typeof m!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function mv(e,n,a,o,m){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ml(n,a,m,!0),a=Kt.current,a!==null){switch(a.tag){case 31:case 13:return on===null?Os():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=m,o===vs?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Su(e,o,m)),!1;case 22:return a.flags|=65536,o===vs?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Su(e,o,m)),!1}throw Error(s(435,a.tag))}return Su(e,o,m),Os(),!1}if(Pe)return n=Kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,o!==pr&&(e=Error(s(422),{cause:o}),oa(nn(e,a)))):(o!==pr&&(n=Error(s(423),{cause:o}),oa(nn(n,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,o=nn(o,a),m=Xr(e.stateNode,o,m),_r(e,m),at!==4&&(at=2)),!1;var p=Error(s(520),{cause:o});if(p=nn(p,a),_a===null?_a=[p]:_a.push(p),at!==4&&(at=2),n===null)return!0;o=nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=Xr(a.stateNode,o,e),_r(a,e),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fi===null||!fi.has(p))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Zf(m),Wf(m,e,a,o),_r(a,m),!1}a=a.return}while(a!==null);return!1}var Qr=Error(s(461)),dt=!1;function Tt(e,n,a,o){n.child=e===null?nf(n,null,a,o):Hi(n,e.child,a,o)}function e0(e,n,a,o,m){a=a.render;var p=n.ref;if("ref"in o){var b={};for(var E in o)E!=="ref"&&(b[E]=o[E])}else b=o;return Ui(n),o=Ir(e,n,a,b,p,m),E=Dr(),e!==null&&!dt?(Ur(e,n,m),Pn(e,n,m)):(Pe&&E&&mr(n),n.flags|=1,Tt(e,n,o,m),n.child)}function t0(e,n,a,o,m){if(e===null){var p=a.type;return typeof p=="function"&&!cr(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,n0(e,n,p,o,m)):(e=fs(a.type,null,o,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!au(e,m)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:la,a(b,o)&&e.ref===n.ref)return Pn(e,n,m)}return n.flags|=1,e=Rn(p,o),e.ref=n.ref,e.return=n,n.child=e}function n0(e,n,a,o,m){if(e!==null){var p=e.memoizedProps;if(la(p,o)&&e.ref===n.ref)if(dt=!1,n.pendingProps=o=p,au(e,m))(e.flags&131072)!==0&&(dt=!0);else return n.lanes=e.lanes,Pn(e,n,m)}return Zr(e,n,a,o,m)}function i0(e,n,a,o){var m=o.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(o=n.child=e.child,m=0;o!==null;)m=m|o.lanes|o.childLanes,o=o.sibling;o=m&~p}else o=0,n.child=null;return l0(e,n,p,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gs(n,p!==null?p.cachePool:null),p!==null?sf(n,p):kr(),of(n);else return o=n.lanes=536870912,l0(e,n,p!==null?p.baseLanes|a:a,a,o)}else p!==null?(gs(n,p.cachePool),sf(n,p),ri(),n.memoizedState=null):(e!==null&&gs(n,null),kr(),ri());return Tt(e,n,m,a),n.child}function ya(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function l0(e,n,a,o,m){var p=Tr();return p=p===null?null:{parent:ut._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&gs(n,null),kr(),of(n),e!==null&&ml(e,n,o,!0),n.childLanes=m,null}function Is(e,n){return n=Us({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function a0(e,n,a){return Hi(n,e.child,null,a),e=Is(n,n.pendingProps),e.flags|=2,Jt(n),n.memoizedState=null,e}function hv(e,n,a){var o=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pe){if(o.mode==="hidden")return e=Is(n,o),n.lanes=536870912,ya(null,e);if(Mr(n),(e=et)?(e=xm(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ei!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=jd(e),a.return=n,n.child=a,bt=n,et=null)):e=null,e===null)throw ni(n);return n.lanes=536870912,null}return Is(n,o)}var p=e.memoizedState;if(p!==null){var b=p.dehydrated;if(Mr(n),m)if(n.flags&256)n.flags&=-257,n=a0(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(dt||ml(e,n,a,!1),m=(a&e.childLanes)!==0,dt||m){if(o=We,o!==null&&(b=Qn(o,a),b!==0&&b!==p.retryLane))throw p.retryLane=b,Mi(e,b),qt(o,e,b),Qr;Os(),n=a0(e,n,a)}else e=p.treeContext,et=rn(b.nextSibling),bt=n,Pe=!0,ti=null,sn=!1,e!==null&&Vd(n,e),n=Is(n,o),n.flags|=4096;return n}return e=Rn(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ds(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Zr(e,n,a,o,m){return Ui(n),a=Ir(e,n,a,o,void 0,m),o=Dr(),e!==null&&!dt?(Ur(e,n,m),Pn(e,n,m)):(Pe&&o&&mr(n),n.flags|=1,Tt(e,n,a,m),n.child)}function s0(e,n,a,o,m,p){return Ui(n),n.updateQueue=null,a=uf(n,o,a,m),rf(e),o=Dr(),e!==null&&!dt?(Ur(e,n,p),Pn(e,n,p)):(Pe&&o&&mr(n),n.flags|=1,Tt(e,n,a,p),n.child)}function o0(e,n,a,o,m){if(Ui(n),n.stateNode===null){var p=ul,b=a.contextType;typeof b=="object"&&b!==null&&(p=St(b)),p=new a(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=$r,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},Nr(n),b=a.contextType,p.context=typeof b=="object"&&b!==null?St(b):ul,p.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Yr(n,a,b,o),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&$r.enqueueReplaceState(p,p.state,null),ha(n,o,p,m),ma(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){p=n.stateNode;var E=n.memoizedProps,C=Bi(a,E);p.props=C;var L=p.context,O=a.contextType;b=ul,typeof O=="object"&&O!==null&&(b=St(O));var J=a.getDerivedStateFromProps;O=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||L!==b)&&Jf(n,p,o,b),li=!1;var P=n.memoizedState;p.state=P,ha(n,o,p,m),ma(),L=n.memoizedState,E||P!==L||li?(typeof J=="function"&&(Yr(n,a,J,o),L=n.memoizedState),(C=li||Kf(n,a,C,o,P,L,b))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),p.props=o,p.state=L,p.context=b,o=C):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,Ar(e,n),b=n.memoizedProps,O=Bi(a,b),p.props=O,J=n.pendingProps,P=p.context,L=a.contextType,C=ul,typeof L=="object"&&L!==null&&(C=St(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==J||P!==C)&&Jf(n,p,o,C),li=!1,P=n.memoizedState,p.state=P,ha(n,o,p,m),ma();var z=n.memoizedState;b!==J||P!==z||li||e!==null&&e.dependencies!==null&&hs(e.dependencies)?(typeof E=="function"&&(Yr(n,a,E,o),z=n.memoizedState),(O=li||Kf(n,a,O,o,P,z,C)||e!==null&&e.dependencies!==null&&hs(e.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,z,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,z,C)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=z),p.props=o,p.state=z,p.context=C,o=O):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),o=!1)}return p=o,Ds(e,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&o?(n.child=Hi(n,e.child,null,m),n.child=Hi(n,null,a,m)):Tt(e,n,a,m),n.memoizedState=p.state,e=n.child):e=Pn(e,n,m),e}function r0(e,n,a,o){return Ii(),n.flags|=256,Tt(e,n,a,o),n.child}var Wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eu(e){return{baseLanes:e,cachePool:Xd()}}function tu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=$t),e}function u0(e,n,a){var o=n.pendingProps,m=!1,p=(n.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),b&&(m=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pe){if(m?oi(n):ri(),(e=et)?(e=xm(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ei!==null?{id:Tn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=jd(e),a.return=n,n.child=a,bt=n,et=null)):e=null,e===null)throw ni(n);return Pu(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,m?(ri(),m=n.mode,E=Us({mode:"hidden",children:E},m),o=Ri(o,m,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=eu(a),o.childLanes=tu(e,b,a),n.memoizedState=Wr,ya(null,o)):(oi(n),nu(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(p)n.flags&256?(oi(n),n.flags&=-257,n=iu(e,n,a)):n.memoizedState!==null?(ri(),n.child=e.child,n.flags|=128,n=null):(ri(),E=o.fallback,m=n.mode,o=Us({mode:"visible",children:o.children},m),E=Ri(E,m,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Hi(n,e.child,null,a),o=n.child,o.memoizedState=eu(a),o.childLanes=tu(e,b,a),n.memoizedState=Wr,n=ya(null,o));else if(oi(n),Pu(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var L=b.dgst;b=L,o=Error(s(419)),o.stack="",o.digest=b,oa({value:o,source:null,stack:null}),n=iu(e,n,a)}else if(dt||ml(e,n,a,!1),b=(a&e.childLanes)!==0,dt||b){if(b=We,b!==null&&(o=Qn(b,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Mi(e,o),qt(b,e,o),Qr;Gu(E)||Os(),n=iu(e,n,a)}else Gu(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,et=rn(E.nextSibling),bt=n,Pe=!0,ti=null,sn=!1,e!==null&&Vd(n,e),n=nu(n,o.children),n.flags|=4096);return n}return m?(ri(),E=o.fallback,m=n.mode,C=e.child,L=C.sibling,o=Rn(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Rn(L,E):(E=Ri(E,m,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ya(null,o),o=n.child,E=e.child.memoizedState,E===null?E=eu(a):(m=E.cachePool,m!==null?(C=ut._currentValue,m=m.parent!==C?{parent:C,pool:C}:m):m=Xd(),E={baseLanes:E.baseLanes|a,cachePool:m}),o.memoizedState=E,o.childLanes=tu(e,b,a),n.memoizedState=Wr,ya(e.child,o)):(oi(n),a=e.child,e=a.sibling,a=Rn(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function nu(e,n){return n=Us({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Us(e,n){return e=Ft(22,e,null,n),e.lanes=0,e}function iu(e,n,a){return Hi(n,e.child,null,a),e=nu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function c0(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),vr(e.return,n,a)}function lu(e,n,a,o,m,p){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:m,treeForkCount:p}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=a,b.tailMode=m,b.treeForkCount=p)}function d0(e,n,a){var o=n.pendingProps,m=o.revealOrder,p=o.tail;o=o.children;var b=st.current,E=(b&2)!==0;if(E?(b=b&1|2,n.flags|=128):b&=1,H(st,b),Tt(e,n,o,a),o=Pe?sa:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c0(e,a,n);else if(e.tag===19)c0(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&Ts(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),lu(n,!1,m,a,p,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Ts(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}lu(n,!0,a,null,p,o);break;case"together":lu(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),di|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ml(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Rn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Rn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function au(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&hs(e)))}function pv(e,n,a){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),ii(n,ut,e.memoizedState.cache),Ii();break;case 27:case 5:Je(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:ii(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Mr(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(oi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?u0(e,n,a):(oi(n),e=Pn(e,n,a),e!==null?e.sibling:null);oi(n);break;case 19:var m=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ml(e,n,a,!1),o=(a&n.childLanes)!==0),m){if(o)return d0(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),H(st,st.current),o)break;return null;case 22:return n.lanes=0,i0(e,n,a,n.pendingProps);case 24:ii(n,ut,e.memoizedState.cache)}return Pn(e,n,a)}function f0(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)dt=!0;else{if(!au(e,a)&&(n.flags&128)===0)return dt=!1,pv(e,n,a);dt=(e.flags&131072)!==0}else dt=!1,Pe&&(n.flags&1048576)!==0&&Od(n,sa,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Gi(n.elementType),n.type=e,typeof e=="function")cr(e)?(o=Bi(e,o),n.tag=1,n=o0(null,n,e,o,a)):(n.tag=0,n=Zr(null,n,e,o,a));else{if(e!=null){var m=e.$$typeof;if(m===K){n.tag=11,n=e0(null,n,e,o,a);break e}else if(m===$){n.tag=14,n=t0(null,n,e,o,a);break e}}throw n=we(e)||e,Error(s(306,n,""))}}return n;case 0:return Zr(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,m=Bi(o,n.pendingProps),o0(e,n,o,m,a);case 3:e:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var p=n.memoizedState;m=p.element,Ar(e,n),ha(n,o,null,a);var b=n.memoizedState;if(o=b.cache,ii(n,ut,o),o!==p.cache&&yr(n,[ut],a,!0),ma(),o=b.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=r0(e,n,o,a);break e}else if(o!==m){m=nn(Error(s(424)),n),oa(m),n=r0(e,n,o,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=rn(e.firstChild),bt=n,Pe=!0,ti=null,sn=!0,a=nf(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ii(),o===m){n=Pn(e,n,a);break e}Tt(e,n,o,a)}n=n.child}return n;case 26:return Ds(e,n),e===null?(a=Em(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,e=n.pendingProps,o=Xs(Y.current).createElement(a),o[yt]=n,o[Gt]=e,Et(o,a,e),gt(o),n.stateNode=o):n.memoizedState=Em(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Je(n),e===null&&Pe&&(o=n.stateNode=bm(n.type,n.pendingProps,Y.current),bt=n,sn=!0,m=et,gi(n.type)?(Hu=m,et=rn(o.firstChild)):et=m),Tt(e,n,n.pendingProps.children,a),Ds(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pe&&((m=o=et)&&(o=Fv(o,n.type,n.pendingProps,sn),o!==null?(n.stateNode=o,bt=n,et=rn(o.firstChild),sn=!1,m=!0):m=!1),m||ni(n)),Je(n),m=n.type,p=n.pendingProps,b=e!==null?e.memoizedProps:null,o=p.children,Du(m,p)?o=null:b!==null&&Du(m,b)&&(n.flags|=32),n.memoizedState!==null&&(m=Ir(e,n,sv,null,null,a),Ua._currentValue=m),Ds(e,n),Tt(e,n,o,a),n.child;case 6:return e===null&&Pe&&((e=a=et)&&(a=Kv(a,n.pendingProps,sn),a!==null?(n.stateNode=a,bt=n,et=null,e=!0):e=!1),e||ni(n)),null;case 13:return u0(e,n,a);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Hi(n,null,o,a):Tt(e,n,o,a),n.child;case 11:return e0(e,n,n.type,n.pendingProps,a);case 7:return Tt(e,n,n.pendingProps,a),n.child;case 8:return Tt(e,n,n.pendingProps.children,a),n.child;case 12:return Tt(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ii(n,n.type,o.value),Tt(e,n,o.children,a),n.child;case 9:return m=n.type._context,o=n.pendingProps.children,Ui(n),m=St(m),o=o(m),n.flags|=1,Tt(e,n,o,a),n.child;case 14:return t0(e,n,n.type,n.pendingProps,a);case 15:return n0(e,n,n.type,n.pendingProps,a);case 19:return d0(e,n,a);case 31:return hv(e,n,a);case 22:return i0(e,n,a,n.pendingProps);case 24:return Ui(n),o=St(ut),e===null?(m=Tr(),m===null&&(m=We,p=br(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=a),m=p),n.memoizedState={parent:o,cache:m},Nr(n),ii(n,ut,m)):((e.lanes&a)!==0&&(Ar(e,n),ha(n,null,null,a),ma()),m=e.memoizedState,p=n.memoizedState,m.parent!==o?(m={parent:o,cache:o},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),ii(n,ut,o)):(o=p.cache,ii(n,ut,o),o!==m.cache&&yr(n,[ut],a,!0))),Tt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hn(e){e.flags|=4}function su(e,n,a,o,m){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(z0())e.flags|=8192;else throw Pi=vs,Er}else e.flags&=-16777217}function m0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!km(n))if(z0())e.flags|=8192;else throw Pi=vs,Er}function Ls(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pn():536870912,e.lanes|=n,Al|=n)}function ba(e,n){if(!Pe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,o|=m.subtreeFlags&65011712,o|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,o|=m.subtreeFlags,o|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function gv(e,n,a){var o=n.pendingProps;switch(hr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Un(ut),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fl(n)?Hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gr())),tt(n),null;case 26:var m=n.type,p=n.memoizedState;return e===null?(Hn(n),p!==null?(tt(n),m0(n,p)):(tt(n),su(n,m,null,o,a))):p?p!==e.memoizedState?(Hn(n),tt(n),m0(n,p)):(tt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hn(n),tt(n),su(n,m,e,o,a)),null;case 27:if(Ze(n),a=Y.current,m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return tt(n),null}e=I.current,fl(n)?Fd(n):(e=bm(m,o,a),n.stateNode=e,Hn(n))}return tt(n),null;case 5:if(Ze(n),m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return tt(n),null}if(p=I.current,fl(n))Fd(n);else{var b=Xs(Y.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?p.multiple=!0:o.size&&(p.size=o.size);break;default:p=typeof o.is=="string"?b.createElement(m,{is:o.is}):b.createElement(m)}}p[yt]=n,p[Gt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=p;e:switch(Et(p,m,o),m){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hn(n)}}return tt(n),su(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Y.current,fl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,m=bt,m!==null)switch(m.tag){case 27:case 5:o=m.memoizedProps}e[yt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||um(e.nodeValue,a)),e||ni(n,!0)}else e=Xs(e).createTextNode(o),e[yt]=n,n.stateNode=e}return tt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=fl(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[yt]=n}else Ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),e=!1}else a=gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Jt(n),n):(Jt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return tt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=fl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[yt]=n}else Ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),m=!1}else m=gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(Jt(n),n):(Jt(n),null)}return Jt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,m=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(m=o.alternate.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==m&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Ls(n,n.updateQueue),tt(n),null);case 4:return ue(),e===null&&ku(n.stateNode.containerInfo),tt(n),null;case 10:return Un(n.type),tt(n),null;case 19:if(q(st),o=n.memoizedState,o===null)return tt(n),null;if(m=(n.flags&128)!==0,p=o.rendering,p===null)if(m)ba(o,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Ts(e),p!==null){for(n.flags|=128,ba(o,!1),e=p.updateQueue,n.updateQueue=e,Ls(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Bd(a,e),a=a.sibling;return H(st,st.current&1|2),Pe&&In(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ct()>Bs&&(n.flags|=128,m=!0,ba(o,!1),n.lanes=4194304)}else{if(!m)if(e=Ts(p),e!==null){if(n.flags|=128,m=!0,e=e.updateQueue,n.updateQueue=e,Ls(n,e),ba(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!Pe)return tt(n),null}else 2*Ct()-o.renderingStartTime>Bs&&a!==536870912&&(n.flags|=128,m=!0,ba(o,!1),n.lanes=4194304);o.isBackwards?(p.sibling=n.child,n.child=p):(e=o.last,e!==null?e.sibling=p:n.child=p,o.last=p)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,a=st.current,H(st,m?a&1|2:a&1),Pe&&In(n,o.treeForkCount),e):(tt(n),null);case 22:case 23:return Jt(n),wr(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),a=n.updateQueue,a!==null&&Ls(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&q(Li),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Un(ut),tt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function xv(e,n){switch(hr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Un(ut),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ze(n),null;case 31:if(n.memoizedState!==null){if(Jt(n),n.alternate===null)throw Error(s(340));Ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Jt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(st),null;case 4:return ue(),null;case 10:return Un(n.type),null;case 22:case 23:return Jt(n),wr(),e!==null&&q(Li),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Un(ut),null;case 25:return null;default:return null}}function h0(e,n){switch(hr(n),n.tag){case 3:Un(ut),ue();break;case 26:case 27:case 5:Ze(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Jt(n);break;case 13:Jt(n);break;case 19:q(st);break;case 10:Un(n.type);break;case 22:case 23:Jt(n),wr(),e!==null&&q(Li);break;case 24:Un(ut)}}function Sa(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var m=o.next;a=m;do{if((a.tag&e)===e){o=void 0;var p=a.create,b=a.inst;o=p(),b.destroy=o}a=a.next}while(a!==m)}}catch(E){Ke(n,n.return,E)}}function ui(e,n,a){try{var o=n.updateQueue,m=o!==null?o.lastEffect:null;if(m!==null){var p=m.next;o=p;do{if((o.tag&e)===e){var b=o.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,m=n;var C=a,L=E;try{L()}catch(O){Ke(m,C,O)}}}o=o.next}while(o!==p)}}catch(O){Ke(n,n.return,O)}}function p0(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{af(n,a)}catch(o){Ke(e,e.return,o)}}}function g0(e,n,a){a.props=Bi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(e,n,o)}}function Ta(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(m){Ke(e,n,m)}}function Nn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(m){Ke(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Ke(e,n,m)}else a.current=null}function x0(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(m){Ke(e,e.return,m)}}function ou(e,n,a){try{var o=e.stateNode;zv(o,e.type,a,n),o[Gt]=n}catch(m){Ke(e,e.return,m)}}function v0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=wn));else if(o!==4&&(o===27&&gi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(uu(e,n,a),e=e.sibling;e!==null;)uu(e,n,a),e=e.sibling}function Gs(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&gi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gs(e,n,a),e=e.sibling;e!==null;)Gs(e,n,a),e=e.sibling}function y0(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);Et(n,o,a),n[yt]=e,n[Gt]=a}catch(p){Ke(e,e.return,p)}}var zn=!1,ft=!1,cu=!1,b0=typeof WeakSet=="function"?WeakSet:Set,xt=null;function vv(e,n){if(e=e.containerInfo,Ru=io,e=Rd(e),ir(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var m=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,E=-1,C=-1,L=0,O=0,J=e,P=null;t:for(;;){for(var z;J!==a||m!==0&&J.nodeType!==3||(E=b+m),J!==p||o!==0&&J.nodeType!==3||(C=b+o),J.nodeType===3&&(b+=J.nodeValue.length),(z=J.firstChild)!==null;)P=J,J=z;for(;;){if(J===e)break t;if(P===a&&++L===m&&(E=b),P===p&&++O===o&&(C=b),(z=J.nextSibling)!==null)break;J=P,P=J.parentNode}J=z}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Iu={focusedElem:e,selectionRange:a},io=!1,xt=n;xt!==null;)if(n=xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xt=e;else for(;xt!==null;){switch(n=xt,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)m=e[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=n,m=p.memoizedProps,p=p.memoizedState,o=a.stateNode;try{var ce=Bi(a.type,m);e=o.getSnapshotBeforeUpdate(ce,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Ke(a,a.return,Se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Lu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xt=e;break}xt=n.return}}function S0(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:jn(e,a),o&4&&Sa(5,a);break;case 1:if(jn(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){Ke(a,a.return,b)}else{var m=Bi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ke(a,a.return,b)}}o&64&&p0(a),o&512&&Ta(a,a.return);break;case 3:if(jn(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{af(e,n)}catch(b){Ke(a,a.return,b)}}break;case 27:n===null&&o&4&&y0(a);case 26:case 5:jn(e,a),n===null&&o&4&&x0(a),o&512&&Ta(a,a.return);break;case 12:jn(e,a);break;case 31:jn(e,a),o&4&&N0(e,a);break;case 13:jn(e,a),o&4&&A0(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Cv.bind(null,a),Jv(e,a))));break;case 22:if(o=a.memoizedState!==null||zn,!o){n=n!==null&&n.memoizedState!==null||ft,m=zn;var p=ft;zn=o,(ft=n)&&!p?qn(e,a,(a.subtreeFlags&8772)!==0):jn(e,a),zn=m,ft=p}break;case 30:break;default:jn(e,a)}}function T0(e){var n=e.alternate;n!==null&&(e.alternate=null,T0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Bo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Ht=!1;function Bn(e,n,a){for(a=a.child;a!==null;)E0(e,n,a),a=a.sibling}function E0(e,n,a){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(Z,a)}catch{}switch(a.tag){case 26:ft||Nn(a,n),Bn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Nn(a,n);var o=nt,m=Ht;gi(a.type)&&(nt=a.stateNode,Ht=!1),Bn(e,n,a),Ra(a.stateNode),nt=o,Ht=m;break;case 5:ft||Nn(a,n);case 6:if(o=nt,m=Ht,nt=null,Bn(e,n,a),nt=o,Ht=m,nt!==null)if(Ht)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(p){Ke(a,n,p)}else try{nt.removeChild(a.stateNode)}catch(p){Ke(a,n,p)}break;case 18:nt!==null&&(Ht?(e=nt,pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dl(e)):pm(nt,a.stateNode));break;case 4:o=nt,m=Ht,nt=a.stateNode.containerInfo,Ht=!0,Bn(e,n,a),nt=o,Ht=m;break;case 0:case 11:case 14:case 15:ui(2,a,n),ft||ui(4,a,n),Bn(e,n,a);break;case 1:ft||(Nn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&g0(a,n,o)),Bn(e,n,a);break;case 21:Bn(e,n,a);break;case 22:ft=(o=ft)||a.memoizedState!==null,Bn(e,n,a),ft=o;break;default:Bn(e,n,a)}}function N0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dl(e)}catch(a){Ke(n,n.return,a)}}}function A0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dl(e)}catch(a){Ke(n,n.return,a)}}function yv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new b0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new b0),n;default:throw Error(s(435,e.tag))}}function Ps(e,n){var a=yv(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var m=kv.bind(null,e,o);o.then(m,m)}})}function zt(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var m=a[o],p=e,b=n,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(gi(E.type)){nt=E.stateNode,Ht=!1;break e}break;case 5:nt=E.stateNode,Ht=!1;break e;case 3:case 4:nt=E.stateNode.containerInfo,Ht=!0;break e}E=E.return}if(nt===null)throw Error(s(160));E0(p,b,m),nt=null,Ht=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_0(n,e),n=n.sibling}var xn=null;function _0(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(n,e),Bt(e),o&4&&(ui(3,e,e.return),Sa(3,e),ui(5,e,e.return));break;case 1:zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),o&64&&zn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var m=xn;if(zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),o&4){var p=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,m=m.ownerDocument||m;t:switch(o){case"title":p=m.getElementsByTagName("title")[0],(!p||p[$l]||p[yt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(o),m.head.insertBefore(p,m.querySelector("head > title"))),Et(p,o,a),p[yt]=e,gt(p),o=p;break e;case"link":var b=_m("link","href",m).get(o+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}p=m.createElement(o),Et(p,o,a),m.head.appendChild(p);break;case"meta":if(b=_m("meta","content",m).get(o+(a.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}p=m.createElement(o),Et(p,o,a),m.head.appendChild(p);break;default:throw Error(s(468,o))}p[yt]=e,gt(p),o=p}e.stateNode=o}else Cm(m,e.type,e.stateNode);else e.stateNode=Am(m,o,e.memoizedProps);else p!==o?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,o===null?Cm(m,e.type,e.stateNode):Am(m,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ou(e,e.memoizedProps,a.memoizedProps)}break;case 27:zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),a!==null&&o&4&&ou(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zt(n,e),Bt(e),o&512&&(ft||a===null||Nn(a,a.return)),e.flags&32){m=e.stateNode;try{nl(m,"")}catch(ce){Ke(e,e.return,ce)}}o&4&&e.stateNode!=null&&(m=e.memoizedProps,ou(e,m,a!==null?a.memoizedProps:m)),o&1024&&(cu=!0);break;case 6:if(zt(n,e),Bt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ce){Ke(e,e.return,ce)}}break;case 3:if(Ws=null,m=xn,xn=Qs(n.containerInfo),zt(n,e),xn=m,Bt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(n.containerInfo)}catch(ce){Ke(e,e.return,ce)}cu&&(cu=!1,C0(e));break;case 4:o=xn,xn=Qs(e.stateNode.containerInfo),zt(n,e),Bt(e),xn=o;break;case 12:zt(n,e),Bt(e);break;case 31:zt(n,e),Bt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ps(e,o)));break;case 13:zt(n,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zs=Ct()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ps(e,o)));break;case 22:m=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,L=zn,O=ft;if(zn=L||m,ft=O||C,zt(n,e),ft=O,zn=L,Bt(e),o&8192)e:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||C||zn||ft||ji(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(p=C.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,P=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ce){Ke(C,C.return,ce)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(ce){Ke(C,C.return,ce)}}}else if(n.tag===18){if(a===null){C=n;try{var z=C.stateNode;m?gm(z,!0):gm(C.stateNode,!1)}catch(ce){Ke(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ps(e,a))));break;case 19:zt(n,e),Bt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ps(e,o)));break;case 30:break;case 21:break;default:zt(n,e),Bt(e)}}function Bt(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(v0(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,p=ru(e);Gs(e,p,m);break;case 5:var b=a.stateNode;a.flags&32&&(nl(b,""),a.flags&=-33);var E=ru(e);Gs(e,E,b);break;case 3:case 4:var C=a.stateNode.containerInfo,L=ru(e);uu(e,L,C);break;default:throw Error(s(161))}}catch(O){Ke(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function C0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;C0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function jn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)S0(e,n.alternate,n),n=n.sibling}function ji(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ui(4,n,n.return),ji(n);break;case 1:Nn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&g0(n,n.return,a),ji(n);break;case 27:Ra(n.stateNode);case 26:case 5:Nn(n,n.return),ji(n);break;case 22:n.memoizedState===null&&ji(n);break;case 30:ji(n);break;default:ji(n)}e=e.sibling}}function qn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,m=e,p=n,b=p.flags;switch(p.tag){case 0:case 11:case 15:qn(m,p,a),Sa(4,p);break;case 1:if(qn(m,p,a),o=p,m=o.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Ke(o,o.return,L)}if(o=p,m=o.updateQueue,m!==null){var E=o.stateNode;try{var C=m.shared.hiddenCallbacks;if(C!==null)for(m.shared.hiddenCallbacks=null,m=0;m<C.length;m++)lf(C[m],E)}catch(L){Ke(o,o.return,L)}}a&&b&64&&p0(p),Ta(p,p.return);break;case 27:y0(p);case 26:case 5:qn(m,p,a),a&&o===null&&b&4&&x0(p),Ta(p,p.return);break;case 12:qn(m,p,a);break;case 31:qn(m,p,a),a&&b&4&&N0(m,p);break;case 13:qn(m,p,a),a&&b&4&&A0(m,p);break;case 22:p.memoizedState===null&&qn(m,p,a),Ta(p,p.return);break;case 30:break;default:qn(m,p,a)}n=n.sibling}}function du(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ra(a))}function fu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ra(e))}function vn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)k0(e,n,a,o),n=n.sibling}function k0(e,n,a,o){var m=n.flags;switch(n.tag){case 0:case 11:case 15:vn(e,n,a,o),m&2048&&Sa(9,n);break;case 1:vn(e,n,a,o);break;case 3:vn(e,n,a,o),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ra(e)));break;case 12:if(m&2048){vn(e,n,a,o),e=n.stateNode;try{var p=n.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ke(n,n.return,C)}}else vn(e,n,a,o);break;case 31:vn(e,n,a,o);break;case 13:vn(e,n,a,o);break;case 23:break;case 22:p=n.stateNode,b=n.alternate,n.memoizedState!==null?p._visibility&2?vn(e,n,a,o):Ea(e,n):p._visibility&2?vn(e,n,a,o):(p._visibility|=2,Tl(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),m&2048&&du(b,n);break;case 24:vn(e,n,a,o),m&2048&&fu(n.alternate,n);break;default:vn(e,n,a,o)}}function Tl(e,n,a,o,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,b=n,E=a,C=o,L=b.flags;switch(b.tag){case 0:case 11:case 15:Tl(p,b,E,C,m),Sa(8,b);break;case 23:break;case 22:var O=b.stateNode;b.memoizedState!==null?O._visibility&2?Tl(p,b,E,C,m):Ea(p,b):(O._visibility|=2,Tl(p,b,E,C,m)),m&&L&2048&&du(b.alternate,b);break;case 24:Tl(p,b,E,C,m),m&&L&2048&&fu(b.alternate,b);break;default:Tl(p,b,E,C,m)}n=n.sibling}}function Ea(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,m=o.flags;switch(o.tag){case 22:Ea(a,o),m&2048&&du(o.alternate,o);break;case 24:Ea(a,o),m&2048&&fu(o.alternate,o);break;default:Ea(a,o)}n=n.sibling}}var Na=8192;function El(e,n,a){if(e.subtreeFlags&Na)for(e=e.child;e!==null;)w0(e,n,a),e=e.sibling}function w0(e,n,a){switch(e.tag){case 26:El(e,n,a),e.flags&Na&&e.memoizedState!==null&&ay(a,xn,e.memoizedState,e.memoizedProps);break;case 5:El(e,n,a);break;case 3:case 4:var o=xn;xn=Qs(e.stateNode.containerInfo),El(e,n,a),xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Na,Na=16777216,El(e,n,a),Na=o):El(e,n,a));break;default:El(e,n,a)}}function M0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Aa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xt=o,I0(o,e)}M0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)R0(e),e=e.sibling}function R0(e){switch(e.tag){case 0:case 11:case 15:Aa(e),e.flags&2048&&ui(9,e,e.return);break;case 3:Aa(e);break;case 12:Aa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Hs(e)):Aa(e);break;default:Aa(e)}}function Hs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];xt=o,I0(o,e)}M0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ui(8,n,n.return),Hs(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hs(n));break;default:Hs(n)}e=e.sibling}}function I0(e,n){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:ui(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ra(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,xt=o;else e:for(a=e;xt!==null;){o=xt;var m=o.sibling,p=o.return;if(T0(o),o===a){xt=null;break e}if(m!==null){m.return=p,xt=m;break e}xt=p}}}var bv={getCacheForType:function(e){var n=St(ut),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return St(ut).controller.signal}},Sv=typeof WeakMap=="function"?WeakMap:Map,Oe=0,We=null,De=null,Le=0,Fe=0,Yt=null,ci=!1,Nl=!1,mu=!1,On=0,at=0,di=0,qi=0,hu=0,$t=0,Al=0,_a=null,jt=null,pu=!1,zs=0,D0=0,Bs=1/0,js=null,fi=null,ht=0,mi=null,_l=null,Vn=0,gu=0,xu=null,U0=null,Ca=0,vu=null;function Xt(){return(Oe&2)!==0&&Le!==0?Le&-Le:G.T!==null?Nu():$c()}function L0(){if($t===0)if((Le&536870912)===0||Pe){var e=Ve;Ve<<=1,(Ve&3932160)===0&&(Ve=262144),$t=e}else $t=536870912;return e=Kt.current,e!==null&&(e.flags|=32),$t}function qt(e,n,a){(e===We&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Cl(e,0),hi(e,Le,$t,!1)),Lt(e,a),((Oe&2)===0||e!==We)&&(e===We&&((Oe&2)===0&&(qi|=a),at===4&&hi(e,Le,$t,!1)),An(e))}function G0(e,n,a){if((Oe&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||wt(e,n),m=o?Nv(e,n):bu(e,n,!0),p=o;do{if(m===0){Nl&&!o&&hi(e,n,0,!1);break}else{if(a=e.current.alternate,p&&!Tv(a)){m=bu(e,n,!1),p=!1;continue}if(m===2){if(p=n,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var E=e;m=_a;var C=E.current.memoizedState.isDehydrated;if(C&&(Cl(E,b).flags|=256),b=bu(E,b,!1),b!==2){if(mu&&!C){E.errorRecoveryDisabledLanes|=p,qi|=p,m=4;break e}p=jt,jt=m,p!==null&&(jt===null?jt=p:jt.push.apply(jt,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){Cl(e,0),hi(e,n,0,!0);break}e:{switch(o=e,p=m,p){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:hi(o,n,$t,!ci);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=zs+300-Ct(),10<m)){if(hi(o,n,$t,!ci),kt(o,0,!0)!==0)break e;Vn=n,o.timeoutHandle=mm(P0.bind(null,o,a,jt,js,pu,n,$t,qi,Al,ci,p,"Throttled",-0,0),m);break e}P0(o,a,jt,js,pu,n,$t,qi,Al,ci,p,null,-0,0)}}break}while(!0);An(e)}function P0(e,n,a,o,m,p,b,E,C,L,O,J,P,z){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},w0(n,p,J);var ce=(p&62914560)===p?zs-Ct():(p&4194048)===p?D0-Ct():0;if(ce=sy(J,ce),ce!==null){Vn=p,e.cancelPendingCommit=ce(F0.bind(null,e,n,p,a,o,m,b,E,C,O,J,null,P,z)),hi(e,p,b,!L);return}}F0(e,n,p,a,o,m,b,E,C)}function Tv(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var m=a[o],p=m.getSnapshot;m=m.value;try{if(!Vt(p(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hi(e,n,a,o){n&=~hu,n&=~qi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var m=n;0<m;){var p=31-Te(m),b=1<<p;o[p]=-1,m&=~b}a!==0&&Cn(e,a,n)}function qs(){return(Oe&6)===0?(ka(0),!1):!0}function yu(){if(De!==null){if(Fe===0)var e=De.return;else e=De,Dn=Di=null,Lr(e),xl=null,ca=0,e=De;for(;e!==null;)h0(e.alternate,e),e=e.return;De=null}}function Cl(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,qv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vn=0,yu(),We=e,De=a=Rn(e.current,null),Le=n,Fe=0,Yt=null,ci=!1,Nl=wt(e,n),mu=!1,Al=$t=hu=qi=di=at=0,jt=_a=null,pu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var m=31-Te(o),p=1<<m;n|=e[m],o&=~p}return On=n,us(),a}function H0(e,n){ke=null,G.H=va,n===gl||n===xs?(n=Wd(),Fe=3):n===Er?(n=Wd(),Fe=4):Fe=n===Qr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Yt=n,De===null&&(at=1,Rs(e,nn(n,e.current)))}function z0(){var e=Kt.current;return e===null?!0:(Le&4194048)===Le?on===null:(Le&62914560)===Le||(Le&536870912)!==0?e===on:!1}function B0(){var e=G.H;return G.H=va,e===null?va:e}function j0(){var e=G.A;return G.A=bv,e}function Os(){at=4,ci||(Le&4194048)!==Le&&Kt.current!==null||(Nl=!0),(di&134217727)===0&&(qi&134217727)===0||We===null||hi(We,Le,$t,!1)}function bu(e,n,a){var o=Oe;Oe|=2;var m=B0(),p=j0();(We!==e||Le!==n)&&(js=null,Cl(e,n)),n=!1;var b=at;e:do try{if(Fe!==0&&De!==null){var E=De,C=Yt;switch(Fe){case 8:yu(),b=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(n=!0);var L=Fe;if(Fe=0,Yt=null,kl(e,E,C,L),a&&Nl){b=0;break e}break;default:L=Fe,Fe=0,Yt=null,kl(e,E,C,L)}}Ev(),b=at;break}catch(O){H0(e,O)}while(!0);return n&&e.shellSuspendCounter++,Dn=Di=null,Oe=o,G.H=m,G.A=p,De===null&&(We=null,Le=0,us()),b}function Ev(){for(;De!==null;)q0(De)}function Nv(e,n){var a=Oe;Oe|=2;var o=B0(),m=j0();We!==e||Le!==n?(js=null,Bs=Ct()+500,Cl(e,n)):Nl=wt(e,n);e:do try{if(Fe!==0&&De!==null){n=De;var p=Yt;t:switch(Fe){case 1:Fe=0,Yt=null,kl(e,n,p,1);break;case 2:case 9:if(Qd(p)){Fe=0,Yt=null,O0(n);break}n=function(){Fe!==2&&Fe!==9||We!==e||(Fe=7),An(e)},p.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Qd(p)?(Fe=0,Yt=null,O0(n)):(Fe=0,Yt=null,kl(e,n,p,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var E=De;if(b?km(b):E.stateNode.complete){Fe=0,Yt=null;var C=E.sibling;if(C!==null)De=C;else{var L=E.return;L!==null?(De=L,Vs(L)):De=null}break t}}Fe=0,Yt=null,kl(e,n,p,5);break;case 6:Fe=0,Yt=null,kl(e,n,p,6);break;case 8:yu(),at=6;break e;default:throw Error(s(462))}}Av();break}catch(O){H0(e,O)}while(!0);return Dn=Di=null,G.H=o,G.A=m,Oe=a,De!==null?0:(We=null,Le=0,us(),at)}function Av(){for(;De!==null&&!Ja();)q0(De)}function q0(e){var n=f0(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?Vs(e):De=n}function O0(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=s0(a,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=s0(a,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Lr(n);default:h0(a,n),n=De=Bd(n,On),n=f0(a,n,On)}e.memoizedProps=e.pendingProps,n===null?Vs(e):De=n}function kl(e,n,a,o){Dn=Di=null,Lr(n),xl=null,ca=0;var m=n.return;try{if(mv(e,m,n,a,Le)){at=1,Rs(e,nn(a,e.current)),De=null;return}}catch(p){if(m!==null)throw De=m,p;at=1,Rs(e,nn(a,e.current)),De=null;return}n.flags&32768?(Pe||o===1?e=!0:Nl||(Le&536870912)!==0?e=!1:(ci=e=!0,(o===2||o===9||o===3||o===6)&&(o=Kt.current,o!==null&&o.tag===13&&(o.flags|=16384))),V0(n,e)):Vs(n)}function Vs(e){var n=e;do{if((n.flags&32768)!==0){V0(n,ci);return}e=n.return;var a=gv(n.alternate,n,On);if(a!==null){De=a;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);at===0&&(at=5)}function V0(e,n){do{var a=xv(e.alternate,e);if(a!==null){a.flags&=32767,De=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){De=e;return}De=e=a}while(e!==null);at=6,De=null}function F0(e,n,a,o,m,p,b,E,C){e.cancelPendingCommit=null;do Fs();while(ht!==0);if((Oe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(p=n.lanes|n.childLanes,p|=rr,$n(e,a,p,b,E,C),e===We&&(De=We=null,Le=0),_l=n,mi=e,Vn=a,gu=p,xu=m,U0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wv(Yi,function(){return X0(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,m=Q.p,Q.p=2,b=Oe,Oe|=4;try{vv(e,n,a)}finally{Oe=b,Q.p=m,G.T=o}}ht=1,K0(),J0(),Y0()}}function K0(){if(ht===1){ht=0;var e=mi,n=_l,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=Q.p;Q.p=2;var m=Oe;Oe|=4;try{_0(n,e);var p=Iu,b=Rd(e.containerInfo),E=p.focusedElem,C=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&Md(E.ownerDocument.documentElement,E)){if(C!==null&&ir(E)){var L=C.start,O=C.end;if(O===void 0&&(O=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(O,E.value.length);else{var J=E.ownerDocument||document,P=J&&J.defaultView||window;if(P.getSelection){var z=P.getSelection(),ce=E.textContent.length,Se=Math.min(C.start,ce),Qe=C.end===void 0?Se:Math.min(C.end,ce);!z.extend&&Se>Qe&&(b=Qe,Qe=Se,Se=b);var R=wd(E,Se),k=wd(E,Qe);if(R&&k&&(z.rangeCount!==1||z.anchorNode!==R.node||z.anchorOffset!==R.offset||z.focusNode!==k.node||z.focusOffset!==k.offset)){var D=J.createRange();D.setStart(R.node,R.offset),z.removeAllRanges(),Se>Qe?(z.addRange(D),z.extend(k.node,k.offset)):(D.setEnd(k.node,k.offset),z.addRange(D))}}}}for(J=[],z=E;z=z.parentNode;)z.nodeType===1&&J.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var F=J[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}io=!!Ru,Iu=Ru=null}finally{Oe=m,Q.p=o,G.T=a}}e.current=n,ht=2}}function J0(){if(ht===2){ht=0;var e=mi,n=_l,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=Q.p;Q.p=2;var m=Oe;Oe|=4;try{S0(e,n.alternate,n)}finally{Oe=m,Q.p=o,G.T=a}}ht=3}}function Y0(){if(ht===4||ht===3){ht=0,Ai();var e=mi,n=_l,a=Vn,o=U0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ht=5:(ht=0,_l=mi=null,$0(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(fi=null),Yl(a),n=n.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(Z,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,m=Q.p,Q.p=2,G.T=null;try{for(var p=e.onRecoverableError,b=0;b<o.length;b++){var E=o[b];p(E.value,{componentStack:E.stack})}}finally{G.T=n,Q.p=m}}(Vn&3)!==0&&Fs(),An(e),m=e.pendingLanes,(a&261930)!==0&&(m&42)!==0?e===vu?Ca++:(Ca=0,vu=e):Ca=0,ka(0)}}function $0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ra(n)))}function Fs(){return K0(),J0(),Y0(),X0()}function X0(){if(ht!==5)return!1;var e=mi,n=gu;gu=0;var a=Yl(Vn),o=G.T,m=Q.p;try{Q.p=32>a?32:a,G.T=null,a=xu,xu=null;var p=mi,b=Vn;if(ht=0,_l=mi=null,Vn=0,(Oe&6)!==0)throw Error(s(331));var E=Oe;if(Oe|=4,R0(p.current),k0(p,p.current,b,a),Oe=E,ka(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(Z,p)}catch{}return!0}finally{Q.p=m,G.T=o,$0(e,n)}}function Q0(e,n,a){n=nn(a,n),n=Xr(e.stateNode,n,2),e=si(e,n,2),e!==null&&(Lt(e,2),An(e))}function Ke(e,n,a){if(e.tag===3)Q0(e,e,a);else for(;n!==null;){if(n.tag===3){Q0(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fi===null||!fi.has(o))){e=nn(a,e),a=Zf(2),o=si(n,a,2),o!==null&&(Wf(a,o,n,e),Lt(o,2),An(o));break}}n=n.return}}function Su(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Sv;var m=new Set;o.set(n,m)}else m=o.get(n),m===void 0&&(m=new Set,o.set(n,m));m.has(a)||(mu=!0,m.add(a),e=_v.bind(null,e,n,a),n.then(e,e))}function _v(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,We===e&&(Le&a)===a&&(at===4||at===3&&(Le&62914560)===Le&&300>Ct()-zs?(Oe&2)===0&&Cl(e,0):hu|=a,Al===Le&&(Al=0)),An(e)}function Z0(e,n){n===0&&(n=pn()),e=Mi(e,n),e!==null&&(Lt(e,n),An(e))}function Cv(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Z0(e,a)}function kv(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Z0(e,a)}function wv(e,n){return Kl(e,n)}var Ks=null,wl=null,Tu=!1,Js=!1,Eu=!1,pi=0;function An(e){e!==wl&&e.next===null&&(wl===null?Ks=wl=e:wl=wl.next=e),Js=!0,Tu||(Tu=!0,Rv())}function ka(e,n){if(!Eu&&Js){Eu=!0;do for(var a=!1,o=Ks;o!==null;){if(e!==0){var m=o.pendingLanes;if(m===0)var p=0;else{var b=o.suspendedLanes,E=o.pingedLanes;p=(1<<31-Te(42|e)+1)-1,p&=m&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,nm(o,p))}else p=Le,p=kt(o,o===We?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||wt(o,p)||(a=!0,nm(o,p));o=o.next}while(a);Eu=!1}}function Mv(){W0()}function W0(){Js=Tu=!1;var e=0;pi!==0&&jv()&&(e=pi);for(var n=Ct(),a=null,o=Ks;o!==null;){var m=o.next,p=em(o,n);p===0?(o.next=null,a===null?Ks=m:a.next=m,m===null&&(wl=a)):(a=o,(e!==0||(p&3)!==0)&&(Js=!0)),o=m}ht!==0&&ht!==5||ka(e),pi!==0&&(pi=0)}function em(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-Te(p),E=1<<b,C=m[b];C===-1?((E&a)===0||(E&o)!==0)&&(m[b]=hn(E,n)):C<=n&&(e.expiredLanes|=E),p&=~E}if(n=We,a=Le,a=kt(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Jl(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wt(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Jl(o),Yl(a)){case 2:case 8:a=$a;break;case 32:a=Yi;break;case 268435456:a=Xa;break;default:a=Yi}return o=tm.bind(null,e),a=Kl(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Jl(o),e.callbackPriority=2,e.callbackNode=null,2}function tm(e,n){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fs()&&e.callbackNode!==a)return null;var o=Le;return o=kt(e,e===We?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(G0(e,o,n),em(e,Ct()),e.callbackNode!=null&&e.callbackNode===a?tm.bind(null,e):null)}function nm(e,n){if(Fs())return null;G0(e,n,!0)}function Rv(){Ov(function(){(Oe&6)!==0?Kl(Ya,Mv):W0()})}function Nu(){if(pi===0){var e=hl;e===0&&(e=He,He<<=1,(He&261888)===0&&(He=256)),pi=e}return pi}function im(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ts(""+e)}function lm(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Iv(e,n,a,o,m){if(n==="submit"&&a&&a.stateNode===m){var p=im((m[Gt]||null).action),b=o.submitter;b&&(n=(n=b[Gt]||null)?im(n.formAction):b.getAttribute("formAction"),n!==null&&(p=n,b=null));var E=new as("action","action",null,o,m);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(pi!==0){var C=b?lm(m,b):new FormData(m);Vr(a,{pending:!0,data:C,method:m.method,action:p},null,C)}}else typeof p=="function"&&(E.preventDefault(),C=b?lm(m,b):new FormData(m),Vr(a,{pending:!0,data:C,method:m.method,action:p},p,C))},currentTarget:m}]})}}for(var Au=0;Au<or.length;Au++){var _u=or[Au],Dv=_u.toLowerCase(),Uv=_u[0].toUpperCase()+_u.slice(1);gn(Dv,"on"+Uv)}gn(Ud,"onAnimationEnd"),gn(Ld,"onAnimationIteration"),gn(Gd,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Xx,"onTransitionRun"),gn(Qx,"onTransitionStart"),gn(Zx,"onTransitionCancel"),gn(Pd,"onTransitionEnd"),el("onMouseEnter",["mouseout","mouseover"]),el("onMouseLeave",["mouseout","mouseover"]),el("onPointerEnter",["pointerout","pointerover"]),el("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wa));function am(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],m=o.event;o=o.listeners;e:{var p=void 0;if(n)for(var b=o.length-1;0<=b;b--){var E=o[b],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=L;try{p(m)}catch(O){rs(O)}m.currentTarget=null,p=C}else for(b=0;b<o.length;b++){if(E=o[b],C=E.instance,L=E.currentTarget,E=E.listener,C!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=L;try{p(m)}catch(O){rs(O)}m.currentTarget=null,p=C}}}}function Ue(e,n){var a=n[zo];a===void 0&&(a=n[zo]=new Set);var o=e+"__bubble";a.has(o)||(sm(n,e,2,!1),a.add(o))}function Cu(e,n,a){var o=0;n&&(o|=4),sm(a,e,o,n)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[Ys]){e[Ys]=!0,Zc.forEach(function(a){a!=="selectionchange"&&(Lv.has(a)||Cu(a,!1,e),Cu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ys]||(n[Ys]=!0,Cu("selectionchange",!1,n))}}function sm(e,n,a,o){switch(Lm(n)){case 2:var m=uy;break;case 8:m=cy;break;default:m=Ou}a=m.bind(null,n,a,e),m=void 0,!Yo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),o?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function wu(e,n,a,o,m){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var E=o.stateNode.containerInfo;if(E===m)break;if(b===4)for(b=o.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;E!==null;){if(b=Qi(E),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){o=p=b;continue e}E=E.parentNode}}o=o.return}cd(function(){var L=p,O=Ko(a),J=[];e:{var P=Hd.get(e);if(P!==void 0){var z=as,ce=e;switch(e){case"keypress":if(is(a)===0)break e;case"keydown":case"keyup":z=kx;break;case"focusin":ce="focus",z=Zo;break;case"focusout":ce="blur",z=Zo;break;case"beforeblur":case"afterblur":z=Zo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Rx;break;case Ud:case Ld:case Gd:z=yx;break;case Pd:z=Dx;break;case"scroll":case"scrollend":z=hx;break;case"wheel":z=Lx;break;case"copy":case"cut":case"paste":z=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=pd;break;case"toggle":case"beforetoggle":z=Px}var Se=(n&4)!==0,Qe=!Se&&(e==="scroll"||e==="scrollend"),R=Se?P!==null?P+"Capture":null:P;Se=[];for(var k=L,D;k!==null;){var F=k;if(D=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||D===null||R===null||(F=Ql(k,R),F!=null&&Se.push(Ma(k,F,D))),Qe)break;k=k.return}0<Se.length&&(P=new z(P,ce,null,a,O),J.push({event:P,listeners:Se}))}}if((n&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",P&&a!==Fo&&(ce=a.relatedTarget||a.fromElement)&&(Qi(ce)||ce[Xi]))break e;if((z||P)&&(P=O.window===O?O:(P=O.ownerDocument)?P.defaultView||P.parentWindow:window,z?(ce=a.relatedTarget||a.toElement,z=L,ce=ce?Qi(ce):null,ce!==null&&(Qe=d(ce),Se=ce.tag,ce!==Qe||Se!==5&&Se!==27&&Se!==6)&&(ce=null)):(z=null,ce=L),z!==ce)){if(Se=md,F="onMouseLeave",R="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Se=pd,F="onPointerLeave",R="onPointerEnter",k="pointer"),Qe=z==null?P:Xl(z),D=ce==null?P:Xl(ce),P=new Se(F,k+"leave",z,a,O),P.target=Qe,P.relatedTarget=D,F=null,Qi(O)===L&&(Se=new Se(R,k+"enter",ce,a,O),Se.target=D,Se.relatedTarget=Qe,F=Se),Qe=F,z&&ce)t:{for(Se=Gv,R=z,k=ce,D=0,F=R;F;F=Se(F))D++;F=0;for(var ve=k;ve;ve=Se(ve))F++;for(;0<D-F;)R=Se(R),D--;for(;0<F-D;)k=Se(k),F--;for(;D--;){if(R===k||k!==null&&R===k.alternate){Se=R;break t}R=Se(R),k=Se(k)}Se=null}else Se=null;z!==null&&om(J,P,z,Se,!1),ce!==null&&Qe!==null&&om(J,Qe,ce,Se,!0)}}e:{if(P=L?Xl(L):window,z=P.nodeName&&P.nodeName.toLowerCase(),z==="select"||z==="input"&&P.type==="file")var Be=Ed;else if(Sd(P))if(Nd)Be=Jx;else{Be=Fx;var fe=Vx}else z=P.nodeName,!z||z.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&Vo(L.elementType)&&(Be=Ed):Be=Kx;if(Be&&(Be=Be(e,L))){Td(J,Be,a,O);break e}fe&&fe(e,P,L),e==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&Oo(P,"number",P.value)}switch(fe=L?Xl(L):window,e){case"focusin":(Sd(fe)||fe.contentEditable==="true")&&(sl=fe,lr=L,aa=null);break;case"focusout":aa=lr=sl=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,Id(J,a,O);break;case"selectionchange":if($x)break;case"keydown":case"keyup":Id(J,a,O)}var Re;if(er)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else al?yd(e,a)&&(Ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(gd&&a.locale!=="ko"&&(al||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&al&&(Re=dd()):(Wn=O,$o="value"in Wn?Wn.value:Wn.textContent,al=!0)),fe=$s(L,Ge),0<fe.length&&(Ge=new hd(Ge,e,null,a,O),J.push({event:Ge,listeners:fe}),Re?Ge.data=Re:(Re=bd(a),Re!==null&&(Ge.data=Re)))),(Re=zx?Bx(e,a):jx(e,a))&&(Ge=$s(L,"onBeforeInput"),0<Ge.length&&(fe=new hd("onBeforeInput","beforeinput",null,a,O),J.push({event:fe,listeners:Ge}),fe.data=Re)),Iv(J,e,L,a,O)}am(J,n)})}function Ma(e,n,a){return{instance:e,listener:n,currentTarget:a}}function $s(e,n){for(var a=n+"Capture",o=[];e!==null;){var m=e,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Ql(e,a),m!=null&&o.unshift(Ma(e,m,p)),m=Ql(e,n),m!=null&&o.push(Ma(e,m,p))),e.tag===3)return o;e=e.return}return[]}function Gv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function om(e,n,a,o,m){for(var p=n._reactName,b=[];a!==null&&a!==o;){var E=a,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||L===null||(C=L,m?(L=Ql(a,p),L!=null&&b.unshift(Ma(a,L,C))):m||(L=Ql(a,p),L!=null&&b.push(Ma(a,L,C)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var Pv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function rm(e){return(typeof e=="string"?e:""+e).replace(Pv,`
`).replace(Hv,"")}function um(e,n){return n=rm(n),rm(e)===n}function Xe(e,n,a,o,m,p){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nl(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nl(e,""+o);break;case"className":Wa(e,"class",o);break;case"tabIndex":Wa(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Wa(e,a,o);break;case"style":rd(e,o,p);break;case"data":if(n!=="object"){Wa(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ts(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Xe(e,n,"name",m.name,m,null),Xe(e,n,"formEncType",m.formEncType,m,null),Xe(e,n,"formMethod",m.formMethod,m,null),Xe(e,n,"formTarget",m.formTarget,m,null)):(Xe(e,n,"encType",m.encType,m,null),Xe(e,n,"method",m.method,m,null),Xe(e,n,"target",m.target,m,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ts(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=wn);break;case"onScroll":o!=null&&Ue("scroll",e);break;case"onScrollEnd":o!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ts(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),Za(e,"popover",o);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Za(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fx.get(a)||a,Za(e,a,o))}}function Mu(e,n,a,o,m,p){switch(a){case"style":rd(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?nl(e,o):(typeof o=="number"||typeof o=="bigint")&&nl(e,""+o);break;case"onScroll":o!=null&&Ue("scroll",e);break;case"onScrollEnd":o!=null&&Ue("scrollend",e);break;case"onClick":o!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),p=e[Gt]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(n,p,m),typeof o=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,m);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Za(e,a,o)}}}function Et(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var o=!1,m=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":o=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xe(e,n,p,b,a,null)}}m&&Xe(e,n,"srcSet",a.srcSet,a,null),o&&Xe(e,n,"src",a.src,a,null);return;case"input":Ue("invalid",e);var E=p=b=m=null,C=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var O=a[o];if(O!=null)switch(o){case"name":m=O;break;case"type":b=O;break;case"checked":C=O;break;case"defaultChecked":L=O;break;case"value":p=O;break;case"defaultValue":E=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,n));break;default:Xe(e,n,o,O,a,null)}}ld(e,p,E,C,L,b,m,!1);return;case"select":Ue("invalid",e),o=b=p=null;for(m in a)if(a.hasOwnProperty(m)&&(E=a[m],E!=null))switch(m){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":o=E;default:Xe(e,n,m,E,a,null)}n=p,a=b,e.multiple=!!o,n!=null?tl(e,!!o,n,!1):a!=null&&tl(e,!!o,a,!0);return;case"textarea":Ue("invalid",e),p=m=o=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":o=E;break;case"defaultValue":m=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xe(e,n,b,E,a,null)}sd(e,o,m,p);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xe(e,n,C,o,a,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(o=0;o<wa.length;o++)Ue(wa[o],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xe(e,n,L,o,a,null)}return;default:if(Vo(n)){for(O in a)a.hasOwnProperty(O)&&(o=a[O],o!==void 0&&Mu(e,n,O,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xe(e,n,E,o,a,null))}function zv(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,E=null,C=null,L=null,O=null;for(z in a){var J=a[z];if(a.hasOwnProperty(z)&&J!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":C=J;default:o.hasOwnProperty(z)||Xe(e,n,z,null,o,J)}}for(var P in o){var z=o[P];if(J=a[P],o.hasOwnProperty(P)&&(z!=null||J!=null))switch(P){case"type":p=z;break;case"name":m=z;break;case"checked":L=z;break;case"defaultChecked":O=z;break;case"value":b=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:z!==J&&Xe(e,n,P,z,o,J)}}qo(e,b,E,C,L,O,p,m);return;case"select":z=b=E=P=null;for(p in a)if(C=a[p],a.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":z=C;default:o.hasOwnProperty(p)||Xe(e,n,p,null,o,C)}for(m in o)if(p=o[m],C=a[m],o.hasOwnProperty(m)&&(p!=null||C!=null))switch(m){case"value":P=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==C&&Xe(e,n,m,p,o,C)}n=E,a=b,o=z,P!=null?tl(e,!!a,P,!1):!!o!=!!a&&(n!=null?tl(e,!!a,n,!0):tl(e,!!a,a?[]:"",!1));return;case"textarea":z=P=null;for(E in a)if(m=a[E],a.hasOwnProperty(E)&&m!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(e,n,E,null,o,m)}for(b in o)if(m=o[b],p=a[b],o.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":P=m;break;case"defaultValue":z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==p&&Xe(e,n,b,m,o,p)}ad(e,P,z);return;case"option":for(var ce in a)if(P=a[ce],a.hasOwnProperty(ce)&&P!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Xe(e,n,ce,null,o,P)}for(C in o)if(P=o[C],z=a[C],o.hasOwnProperty(C)&&P!==z&&(P!=null||z!=null))switch(C){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Xe(e,n,C,P,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)P=a[Se],a.hasOwnProperty(Se)&&P!=null&&!o.hasOwnProperty(Se)&&Xe(e,n,Se,null,o,P);for(L in o)if(P=o[L],z=a[L],o.hasOwnProperty(L)&&P!==z&&(P!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Xe(e,n,L,P,o,z)}return;default:if(Vo(n)){for(var Qe in a)P=a[Qe],a.hasOwnProperty(Qe)&&P!==void 0&&!o.hasOwnProperty(Qe)&&Mu(e,n,Qe,void 0,o,P);for(O in o)P=o[O],z=a[O],!o.hasOwnProperty(O)||P===z||P===void 0&&z===void 0||Mu(e,n,O,P,o,z);return}}for(var R in a)P=a[R],a.hasOwnProperty(R)&&P!=null&&!o.hasOwnProperty(R)&&Xe(e,n,R,null,o,P);for(J in o)P=o[J],z=a[J],!o.hasOwnProperty(J)||P===z||P==null&&z==null||Xe(e,n,J,P,o,z)}function cm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var m=a[o],p=m.transferSize,b=m.initiatorType,E=m.duration;if(p&&E&&cm(b)){for(b=0,E=m.responseEnd,o+=1;o<a.length;o++){var C=a[o],L=C.startTime;if(L>E)break;var O=C.transferSize,J=C.initiatorType;O&&cm(J)&&(C=C.responseEnd,b+=O*(C<E?1:(E-L)/(C-L)))}if(--o,n+=8*(p+b)/(m.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ru=null,Iu=null;function Xs(e){return e.nodeType===9?e:e.ownerDocument}function dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Du(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uu=null;function jv(){var e=window.event;return e&&e.type==="popstate"?e===Uu?!1:(Uu=e,!0):(Uu=null,!1)}var mm=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(e){return hm.resolve(null).then(e).catch(Vv)}:mm;function Vv(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function pm(e,n){var a=n,o=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(m),Dl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ra(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ra(a);for(var p=a.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[$l]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}else a==="body"&&Ra(e.ownerDocument.body);a=m}while(a);Dl(n)}function gm(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Lu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lu(a),Bo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fv(e,n,a,o){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$l])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function Kv(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=rn(e.nextSibling),e===null))return null;return e}function xm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rn(e.nextSibling),e===null))return null;return e}function Gu(e){return e.data==="$?"||e.data==="$~"}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jv(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function rn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Hu=null;function vm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return rn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function ym(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function bm(e,n,a){switch(n=Xs(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ra(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Bo(e)}var un=new Map,Sm=new Set;function Qs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=Q.d;Q.d={f:Yv,r:$v,D:Xv,C:Qv,L:Zv,m:Wv,X:ty,S:ey,M:ny};function Yv(){var e=Fn.f(),n=qs();return e||n}function $v(e){var n=Zi(e);n!==null&&n.tag===5&&n.type==="form"?Hf(n):Fn.r(e)}var Ml=typeof document>"u"?null:document;function Tm(e,n,a){var o=Ml;if(o&&typeof n=="string"&&n){var m=en(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),Sm.has(m)||(Sm.add(m),e={rel:e,crossOrigin:a,href:n},o.querySelector(m)===null&&(n=o.createElement("link"),Et(n,"link",e),gt(n),o.head.appendChild(n)))}}function Xv(e){Fn.D(e),Tm("dns-prefetch",e,null)}function Qv(e,n){Fn.C(e,n),Tm("preconnect",e,n)}function Zv(e,n,a){Fn.L(e,n,a);var o=Ml;if(o&&e&&n){var m='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+en(a.imageSizes)+'"]')):m+='[href="'+en(e)+'"]';var p=m;switch(n){case"style":p=Rl(e);break;case"script":p=Il(e)}un.has(p)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),un.set(p,e),o.querySelector(m)!==null||n==="style"&&o.querySelector(Ia(p))||n==="script"&&o.querySelector(Da(p))||(n=o.createElement("link"),Et(n,"link",e),gt(n),o.head.appendChild(n)))}}function Wv(e,n){Fn.m(e,n);var a=Ml;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',p=m;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Il(e)}if(!un.has(p)&&(e=S({rel:"modulepreload",href:e},n),un.set(p,e),a.querySelector(m)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Da(p)))return}o=a.createElement("link"),Et(o,"link",e),gt(o),a.head.appendChild(o)}}}function ey(e,n,a){Fn.S(e,n,a);var o=Ml;if(o&&e){var m=Wi(o).hoistableStyles,p=Rl(e);n=n||"default";var b=m.get(p);if(!b){var E={loading:0,preload:null};if(b=o.querySelector(Ia(p)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=un.get(p))&&zu(e,a);var C=b=o.createElement("link");gt(C),Et(C,"link",e),C._p=new Promise(function(L,O){C.onload=L,C.onerror=O}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Zs(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:E},m.set(p,b)}}}function ty(e,n){Fn.X(e,n);var a=Ml;if(a&&e){var o=Wi(a).hoistableScripts,m=Il(e),p=o.get(m);p||(p=a.querySelector(Da(m)),p||(e=S({src:e,async:!0},n),(n=un.get(m))&&Bu(e,n),p=a.createElement("script"),gt(p),Et(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(m,p))}}function ny(e,n){Fn.M(e,n);var a=Ml;if(a&&e){var o=Wi(a).hoistableScripts,m=Il(e),p=o.get(m);p||(p=a.querySelector(Da(m)),p||(e=S({src:e,async:!0,type:"module"},n),(n=un.get(m))&&Bu(e,n),p=a.createElement("script"),gt(p),Et(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(m,p))}}function Em(e,n,a,o){var m=(m=Y.current)?Qs(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rl(a.href),a=Wi(m).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rl(a.href);var p=Wi(m).hoistableStyles,b=p.get(e);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=m.querySelector(Ia(e)))&&!p._p&&(b.instance=p,b.state.loading=5),un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},un.set(e,a),p||iy(m,e,a,b.state))),n&&o===null)throw Error(s(528,""));return b}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Il(a),a=Wi(m).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rl(e){return'href="'+en(e)+'"'}function Ia(e){return'link[rel="stylesheet"]['+e+"]"}function Nm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function iy(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Et(n,"link",a),gt(n),e.head.appendChild(n))}function Il(e){return'[src="'+en(e)+'"]'}function Da(e){return"script[async]"+e}function Am(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(a.href)+'"]');if(o)return n.instance=o,gt(o),o;var m=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),gt(o),Et(o,"style",m),Zs(o,a.precedence,e),n.instance=o;case"stylesheet":m=Rl(a.href);var p=e.querySelector(Ia(m));if(p)return n.state.loading|=4,n.instance=p,gt(p),p;o=Nm(a),(m=un.get(m))&&zu(o,m),p=(e.ownerDocument||e).createElement("link"),gt(p);var b=p;return b._p=new Promise(function(E,C){b.onload=E,b.onerror=C}),Et(p,"link",o),n.state.loading|=4,Zs(p,a.precedence,e),n.instance=p;case"script":return p=Il(a.src),(m=e.querySelector(Da(p)))?(n.instance=m,gt(m),m):(o=a,(m=un.get(p))&&(o=S({},a),Bu(o,m)),e=e.ownerDocument||e,m=e.createElement("script"),gt(m),Et(m,"link",o),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Zs(o,a.precedence,e));return n.instance}function Zs(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=o.length?o[o.length-1]:null,p=m,b=0;b<o.length;b++){var E=o[b];if(E.dataset.precedence===n)p=E;else if(p!==m)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function zu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Bu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ws=null;function _m(e,n,a){if(Ws===null){var o=new Map,m=Ws=new Map;m.set(a,o)}else m=Ws,o=m.get(a),o||(o=new Map,m.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var p=a[m];if(!(p[$l]||p[yt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(n)||"";b=e+b;var E=o.get(b);E?E.push(p):o.set(b,[p])}}return o}function Cm(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function ly(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ay(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Rl(o.href),p=n.querySelector(Ia(m));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=eo.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=p,gt(p);return}p=n.ownerDocument||n,o=Nm(o),(m=un.get(m))&&zu(o,m),p=p.createElement("link"),gt(p);var b=p;b._p=new Promise(function(E,C){b.onload=E,b.onerror=C}),Et(p,"link",o),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=eo.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var ju=0;function sy(e,n){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&ju===0&&(ju=62500*Bv());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>ju?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(m)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,n.forEach(oy,e),to=null,eo.call(e))}function oy(e,n){if(!(n.state.loading&4)){var a=to.get(e);if(a)var o=a.get(null);else{a=new Map,to.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),o=b)}o&&a.set(null,o)}m=n.instance,b=m.getAttribute("data-precedence"),p=a.get(b)||o,p===o&&a.set(null,m),a.set(b,m),this.count++,o=eo.bind(this),m.addEventListener("load",o),m.addEventListener("error",o),p?p.parentNode.insertBefore(m,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Ua={$$typeof:j,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function ry(e,n,a,o,m,p,b,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.hiddenUpdates=Zt(null),this.identifierPrefix=o,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function wm(e,n,a,o,m,p,b,E,C,L,O,J){return e=new ry(e,n,a,b,C,L,O,J,E),n=1,p===!0&&(n|=24),p=Ft(3,null,null,n),e.current=p,p.stateNode=e,n=br(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:a,cache:n},Nr(p),e}function Mm(e){return e?(e=ul,e):ul}function Rm(e,n,a,o,m,p){m=Mm(m),o.context===null?o.context=m:o.pendingContext=m,o=ai(n),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=si(e,o,n),a!==null&&(qt(a,e,n),fa(a,e,n))}function Im(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function qu(e,n){Im(e,n),(e=e.alternate)&&Im(e,n)}function Dm(e){if(e.tag===13||e.tag===31){var n=Mi(e,67108864);n!==null&&qt(n,e,67108864),qu(e,67108864)}}function Um(e){if(e.tag===13||e.tag===31){var n=Xt();n=$i(n);var a=Mi(e,n);a!==null&&qt(a,e,n),qu(e,n)}}var io=!0;function uy(e,n,a,o){var m=G.T;G.T=null;var p=Q.p;try{Q.p=2,Ou(e,n,a,o)}finally{Q.p=p,G.T=m}}function cy(e,n,a,o){var m=G.T;G.T=null;var p=Q.p;try{Q.p=8,Ou(e,n,a,o)}finally{Q.p=p,G.T=m}}function Ou(e,n,a,o){if(io){var m=Vu(o);if(m===null)wu(e,n,o,lo,a),Gm(e,o);else if(fy(m,e,n,a,o))o.stopPropagation();else if(Gm(e,o),n&4&&-1<dy.indexOf(e)){for(;m!==null;){var p=Zi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=it(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var C=1<<31-Te(b);E.entanglements[1]|=C,b&=~C}An(p),(Oe&6)===0&&(Bs=Ct()+500,ka(0))}}break;case 31:case 13:E=Mi(p,2),E!==null&&qt(E,p,2),qs(),qu(p,2)}if(p=Vu(o),p===null&&wu(e,n,o,lo,a),p===m)break;m=p}m!==null&&o.stopPropagation()}else wu(e,n,o,null,a)}}function Vu(e){return e=Ko(e),Fu(e)}var lo=null;function Fu(e){if(lo=null,e=Qi(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=x(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lo=e,null}function Lm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Go()){case Ya:return 2;case $a:return 8;case Yi:case Po:return 32;case Xa:return 268435456;default:return 32}default:return 32}}var Ku=!1,xi=null,vi=null,yi=null,La=new Map,Ga=new Map,bi=[],dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gm(e,n){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":La.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(n.pointerId)}}function Pa(e,n,a,o,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:p,targetContainers:[m]},n!==null&&(n=Zi(n),n!==null&&Dm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function fy(e,n,a,o,m){switch(n){case"focusin":return xi=Pa(xi,e,n,a,o,m),!0;case"dragenter":return vi=Pa(vi,e,n,a,o,m),!0;case"mouseover":return yi=Pa(yi,e,n,a,o,m),!0;case"pointerover":var p=m.pointerId;return La.set(p,Pa(La.get(p)||null,e,n,a,o,m)),!0;case"gotpointercapture":return p=m.pointerId,Ga.set(p,Pa(Ga.get(p)||null,e,n,a,o,m)),!0}return!1}function Pm(e){var n=Qi(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Xc(e.priority,function(){Um(a)});return}}else if(n===31){if(n=x(a),n!==null){e.blockedOn=n,Xc(e.priority,function(){Um(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Vu(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Fo=o,a.target.dispatchEvent(o),Fo=null}else return n=Zi(a),n!==null&&Dm(n),e.blockedOn=a,!1;n.shift()}return!0}function Hm(e,n,a){ao(e)&&a.delete(n)}function my(){Ku=!1,xi!==null&&ao(xi)&&(xi=null),vi!==null&&ao(vi)&&(vi=null),yi!==null&&ao(yi)&&(yi=null),La.forEach(Hm),Ga.forEach(Hm)}function so(e,n){e.blockedOn===n&&(e.blockedOn=null,Ku||(Ku=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,my)))}var oo=null;function zm(e){oo!==e&&(oo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oo===e&&(oo=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],m=e[n+2];if(typeof o!="function"){if(Fu(o||a)===null)continue;break}var p=Zi(a);p!==null&&(e.splice(n,3),n-=3,Vr(p,{pending:!0,data:m,method:a.method,action:o},o,m))}}))}function Dl(e){function n(C){return so(C,e)}xi!==null&&so(xi,e),vi!==null&&so(vi,e),yi!==null&&so(yi,e),La.forEach(n),Ga.forEach(n);for(var a=0;a<bi.length;a++){var o=bi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<bi.length&&(a=bi[0],a.blockedOn===null);)Pm(a),a.blockedOn===null&&bi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var m=a[o],p=a[o+1],b=m[Gt]||null;if(typeof p=="function")b||zm(a);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[Gt]||null)E=b.formAction;else if(Fu(m)!==null)continue}else E=b.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),zm(a)}}}function Bm(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Ju(e){this._internalRoot=e}ro.prototype.render=Ju.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Xt();Rm(a,o,e,n,null,null)},ro.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Rm(e.current,2,null,e,null,null),qs(),n[Xi]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var n=$c();e={blockedOn:null,target:e,priority:n};for(var a=0;a<bi.length&&n!==0&&n<bi[a].priority;a++);bi.splice(a,0,e),a===0&&Pm(e)}};var jm=t.version;if(jm!=="19.2.3")throw Error(s(527,jm,"19.2.3"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var hy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Z=uo.inject(hy),de=uo}catch{}}return za.createRoot=function(e,n){if(!r(e))throw Error(s(299));var a=!1,o="",m=Yf,p=$f,b=Xf;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=wm(e,1,!1,null,null,a,o,null,m,p,b,Bm),e[Xi]=n.current,ku(e),new Ju(n)},za.hydrateRoot=function(e,n,a){if(!r(e))throw Error(s(299));var o=!1,m="",p=Yf,b=$f,E=Xf,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=wm(e,1,!0,n,a??null,o,m,C,p,b,E,Bm),n.context=Mm(null),a=n.current,o=Xt(),o=$i(o),m=ai(o),m.callback=null,si(a,m,o),a=o,n.current.lanes=a,Lt(n,a),An(n),e[Xi]=n.current,ku(e),new ro(n)},za.version="19.2.3",za}var Qm;function Ay(){if(Qm)return Xu.exports;Qm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Xu.exports=Ny(),Xu.exports}var _y=Ay();const Cy=Jp(_y);var Ne=(i=>(i.DRILL="Learn & Drill",i.ACTIVE_RECALL="Active Recall",i.SIMULATION="Test Simulation",i.WEAKNESS="Weakness Attack",i.EXAMPLE="Contoh Soal",i.PRACTICE="Latihan Kustom",i))(Ne||{});const yo="https://files.catbox.moe/02xqjo.png",Zm={click:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/pop.mp3",tap:"",back:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/arrow.mp3",success:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/gem-collect.mp3",error:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/loss.mp3",tick:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/pop.mp3",intro:"",finish:"https://codeskulptor-demos.commondatastorage.googleapis.com/pang/frozen_missile.mp3"},Yp=[{id:"SKRIPSI",name:"Skripsi Helper",desc:"Bantuan Judul, Outline, & Metodologi"},{id:"UTBK",name:"UTBK SNBT",desc:"Tes Potensi Skolastik & Literasi (2025)"},{id:"SKD",name:"SKD CPNS/Kedinasan",desc:"TWK, TIU, TKP"},{id:"TPA",name:"TPA & TBI",desc:"Tes Potensi Akademik & B.Inggris (Seleksi Lanjutan)"},{id:"PSIKOTEST",name:"Psikotes Lengkap",desc:"IQ, Koran/Pauli, Gambar, & Kepribadian"},{id:"KECERMATAN",name:"Tes Kecermatan",desc:"Angka/Huruf Hilang (Khas Polri/Kedinasan)"},{id:"INTERVIEW",name:"Wawancara Tulis",desc:"Simulasi Jawab Interview & Review AI"},{id:"BUTAWRNA",name:"Tes Buta Warna",desc:"Simulasi Ishihara & Warna"},{id:"GENERAL",name:"Materi Umum",desc:"Belajar Apapun: PDF, Topik, Hafalan"}],ky=[{id:"ACTIVE_RECALL",name:"Active Recall",desc:"Paksa otak mengingat tanpa melihat catatan.",icon:"Brain"},{id:"PRACTICE",name:"Latihan Soal",desc:"Drill soal pilihan ganda dari materi.",icon:"PenTool"},{id:"SPACED_REPETITION",name:"Spaced Repetition",desc:"Flashcards untuk hafalan jangka panjang.",icon:"Repeat"},{id:"FEYNMAN",name:"Feynman Technique",desc:"Jelaskan materi seolah ke anak kecil.",icon:"MessageCircle"},{id:"MIND_MAP",name:"Mind Mapping",desc:"Visualisasikan hubungan antar konsep.",icon:"Share2"},{id:"PBL",name:"Problem-Based",desc:"Belajar lewat studi kasus nyata.",icon:"Search"},{id:"TEACHING",name:"Teaching Method",desc:"Simulasi mengajar murid (AI).",icon:"GraduationCap"},{id:"SQ3R",name:"SQ3R Method",desc:"Survey, Question, Read, Recite, Review.",icon:"BookOpen"}],wy=["Penalaran Umum","Pengetahuan & Pemahaman Umum","Pemahaman Bacaan & Menulis","Pengetahuan Kuantitatif","Literasi Bahasa Indonesia","Literasi Bahasa Inggris","Penalaran Matematika"],My=["Tes Wawasan Kebangsaan (TWK)","Tes Intelegensia Umum (TIU)","Tes Karakteristik Pribadi (TKP)"],Ry=["Verbal (Analogi, Silogisme)","Numerik (Deret, Aritmatika)","Penalaran Logis & Analitis","Spasial (Gambar)","Tes Bahasa Inggris (TBI)"],Iy=["Kognitif & Logika (Verbal, Analitik)","Tes Koran/Pauli (Hitungan Cepat)","Tes Spasial (Analogi Gambar)","Tes Kepribadian (EPPS/DISC)"],Dy=["Pertanyaan Personal (Kelebihan/Kekurangan)","Motivasi & Komitmen","Studi Kasus & Problem Solving","Wawasan Kebangsaan & Integritas"],ec=[],tc=[],nc=[],ic=[],lc=[],ac=[],sc=[],oc=[],Ti=[{name:"Penalaran Umum",duration:30,count:30},{name:"Pengetahuan dan Pemahaman Umum",duration:15,count:20},{name:"Pemahaman Bacaan dan Menulis",duration:25,count:20},{name:"Pengetahuan Kuantitatif",duration:20,count:20},{name:"Literasi Bahasa Indonesia",duration:37.5,count:25},{name:"Literasi Bahasa Inggris",duration:37.5,count:25},{name:"Penalaran Matematika",duration:30,count:20}];var Uy={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ly,Gy;function Py(){return{geminiUrl:Ly,vertexUrl:Gy}}function Hy(i,t,l,s){var r,d;if(!(i!=null&&i.baseUrl)){const h=Py();return t?(r=h.vertexUrl)!==null&&r!==void 0?r:l:(d=h.geminiUrl)!==null&&d!==void 0?d:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn{}function oe(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let d=0;d<t.length-1;d++){const h=t[d];if(h.endsWith("[]")){const x=h.slice(0,-2);if(!(x in i))if(Array.isArray(l))i[x]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(i[x])){const v=i[x];if(Array.isArray(l))for(let g=0;g<v.length;g++){const y=v[g];f(y,t.slice(d+1),l[g])}else for(const g of v)f(g,t.slice(d+1),l)}return}else if(h.endsWith("[0]")){const x=h.slice(0,-3);x in i||(i[x]=[{}]);const v=i[x];f(v[0],t.slice(d+1),l);return}(!i[h]||typeof i[h]!="object")&&(i[h]={}),i=i[h]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[s]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return l;const r=t[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const h=i[d];return Array.isArray(h)?h.map(x=>u(x,t.slice(s+1),l)):l}else return l}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return l;throw s}}function zy(i,t){for(const[l,s]of Object.entries(t)){const r=l.split("."),d=s.split("."),h=new Set;let x=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){x=v;break}if(x!==-1&&d.length>x)for(let v=x;v<d.length;v++){const g=d[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&h.add(g)}mc(i,r,d,0,h)}}function mc(i,t,l,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const d=t[s];if(d.endsWith("[]")){const h=d.slice(0,-2),x=i;if(h in x&&Array.isArray(x[h]))for(const v of x[h])mc(v,t,l,s+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const h=i,x=Object.keys(h).filter(g=>!g.startsWith("_")&&!r.has(g)),v={};for(const g of x)v[g]=h[g];for(const[g,y]of Object.entries(v)){const S=[];for(const T of l.slice(s))T==="*"?S.push(g):S.push(T);f(h,S,y)}for(const g of x)delete h[g]}}else{const h=i;d in h&&mc(h[d],t,l,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function By(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const s=u(i,["resourceName"]);return s!=null&&f(t,["_url","resourceName"],s),t}function jy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],Oy(h)),t}function qy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],Vy(h)),t}function Oy(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Fy(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Vy(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Ky(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Fy(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],Zy(l)),t}function Ky(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],Wy(l)),t}function Jy(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Yy(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function $y(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],Xy(h)),t}function Xy(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function $p(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],Qy(h)),t}function Qy(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Zy(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const s=u(i,["encodedVideo"]);s!=null&&f(t,["videoBytes"],Lc(s));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Wy(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],Lc(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wm||(Wm={}));var eh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(eh||(eh={}));var th;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(th||(th={}));var ae;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ae||(ae={}));var nh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(nh||(nh={}));var ih;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(ih||(ih={}));var lh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(lh||(lh={}));var ah;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ah||(ah={}));var sh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(sh||(sh={}));var oh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(oh||(oh={}));var rh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(rh||(rh={}));var uh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(uh||(uh={}));var ch;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ch||(ch={}));var dh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(dh||(dh={}));var fh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(fh||(fh={}));var mh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(mh||(mh={}));var hh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(hh||(hh={}));var ph;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ph||(ph={}));var gh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(gh||(gh={}));var xh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(xh||(xh={}));var vh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(vh||(vh={}));var bo;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(bo||(bo={}));var yh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yh||(yh={}));var bh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bh||(bh={}));var Sh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sh||(Sh={}));var hc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hc||(hc={}));var Th;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Th||(Th={}));var Eh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Eh||(Eh={}));var Nh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Nh||(Nh={}));var Ah;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ah||(Ah={}));var _h;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(_h||(_h={}));var Ch;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Ch||(Ch={}));var kh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(kh||(kh={}));var wh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wh||(wh={}));var Mh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mh||(Mh={}));var Rh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Rh||(Rh={}));var Ih;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ih||(Ih={}));var Dh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Dh||(Dh={}));var Uh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Uh||(Uh={}));var Lh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Lh||(Lh={}));var Gh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Gh||(Gh={}));var Ph;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ph||(Ph={}));var Hh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Hh||(Hh={}));var zh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(zh||(zh={}));var Bh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Bh||(Bh={}));var jh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jh||(jh={}));var qh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(qh||(qh={}));var Oh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Oh||(Oh={}));var Vh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vh||(Vh={}));var Fh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fh||(Fh={}));var Kh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Kh||(Kh={}));var Jh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Jh||(Jh={}));var Yh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Yh||(Yh={}));var $h;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})($h||($h={}));var Ll;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Ll||(Ll={}));class pc{constructor(t){const l={};for(const s of t.headers.entries())l[s[0]]=s[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ba{get text(){var t,l,s,r,d,h,x,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",y=!1;const S=[];for(const T of(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)!==null&&v!==void 0?v:[]){for(const[A,N]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(N!==null||N!==void 0)&&S.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,g+=T.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?g:void 0}get data(){var t,l,s,r,d,h,x,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const y=[];for(const S of(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)!==null&&v!==void 0?v:[]){for(const[T,A]of Object.entries(S))T!=="inlineData"&&(A!==null||A!==void 0)&&y.push(T);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,l,s,r,d,h,x,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,l,s,r,d,h,x,v,g;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,l,s,r,d,h,x,v,g;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(x=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||v===void 0?void 0:v.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.output}}class Xh{}class Qh{}class eb{}class tb{}class nb{}class ib{}class Zh{}class Wh{}class ep{}class lb{}class So{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new So;let r;const d=t;return l?r=qy(d):r=jy(d),Object.assign(s,r),s}}class tp{}class np{}class ip{}class lp{}class ab{}class sb{}class ob{}class Gc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new Gc,d=$y(t);return Object.assign(s,d),s}}class rb{}class ub{}class cb{}class ap{}class db{get text(){var t,l,s;let r="",d=!1;const h=[];for(const x of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[v,g]of Object.entries(x))v!=="text"&&v!=="thought"&&g!==null&&h.push(v);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;d=!0,r+=x.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,l,s;let r="";const d=[];for(const h of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[x,v]of Object.entries(h))x!=="inlineData"&&v!==null&&d.push(x);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class fb{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Pc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new Pc,d=$p(t);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Xp(i,t){const l=qe(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Qp(i){return Array.isArray(i)?i.map(t=>To(t)):[To(i)]}function To(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Zp(i){const t=To(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Wp(i){const t=To(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sp(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function eg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>sp(t)):[sp(i)]}function gc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function op(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function rp(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function At(i){if(i==null)throw new Error("ContentUnion is required");return gc(i)?i:{role:"user",parts:eg(i)}}function Hc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const s=At(l);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const l=At(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>At(l)):[At(t)]}function cn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(op(i)||rp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[At(i)]}const t=[],l=[],s=gc(i[0]);for(const r of i){const d=gc(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(op(r)||rp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return s||t.push({role:"user",parts:eg(l)}),t}function mb(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(s=>s!=="null");if(l.length===1)t.type=Object.values(ae).includes(l[0].toUpperCase())?l[0].toUpperCase():ae.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of l)t.anyOf.push({type:Object.values(ae).includes(s.toUpperCase())?s.toUpperCase():ae.TYPE_UNSPECIFIED})}}function Pl(i){const t={},l=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&mb(i.type,t);for(const[h,x]of Object.entries(i))if(x!=null)if(h=="type"){if(x==="null")throw new Error("type: null can not be the only possible type for the field.");if(x instanceof Array)continue;t.type=Object.values(ae).includes(x.toUpperCase())?x.toUpperCase():ae.TYPE_UNSPECIFIED}else if(l.includes(h))t[h]=Pl(x);else if(s.includes(h)){const v=[];for(const g of x){if(g.type=="null"){t.nullable=!0;continue}v.push(Pl(g))}t[h]=v}else if(r.includes(h)){const v={};for(const[g,y]of Object.entries(x))v[g]=Pl(y);t[h]=v}else{if(h==="additionalProperties")continue;t[h]=x}return t}function zc(i){return Pl(i)}function Bc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function jc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function jl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Pl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Pl(t.response));return i}function ql(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function hb(i,t,l,s=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function Yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return hb(i,t,"cachedContents")}function tg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ni(i){return Lc(i)}function pb(i){return i!=null&&typeof i=="object"&&"name"in i}function gb(i){return i!=null&&typeof i=="object"&&"video"in i}function xb(i){return i!=null&&typeof i=="object"&&"uri"in i}function ng(i){var t;let l;if(pb(i)&&(l=i.name),!(xb(i)&&(l=i.uri,l===void 0))&&!(gb(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function ig(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function lg(i){for(const t of["models","tunedModels","publisherModels"])if(vb(i,t))return i[t];return[]}function vb(i,t){return i!==null&&typeof i=="object"&&t in i}function yb(i,t={}){const l=i,s={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(s.responseJsonSchema=l.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function bb(i,t={}){const l=[],s=new Set;for(const r of i){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const h=yb(r,t);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function ag(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const s=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function Sb(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function sg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const v=h.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Ol(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function og(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>nS(h))),f(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["inlinedEmbedContentResponses"],d)}return t}function Eb(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function Nb(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function xo(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata","displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],og(r));const d=u(i,["metadata","createTime"]);d!=null&&f(t,["createTime"],d);const h=u(i,["metadata","endTime"]);h!=null&&f(t,["endTime"],h);const x=u(i,["metadata","updateTime"]);x!=null&&f(t,["updateTime"],x);const v=u(i,["metadata","model"]);v!=null&&f(t,["model"],v);const g=u(i,["metadata","output"]);return g!=null&&f(t,["dest"],Tb(sg(g))),t}function xc(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["state"]);r!=null&&f(t,["state"],og(r));const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["createTime"]);h!=null&&f(t,["createTime"],h);const x=u(i,["startTime"]);x!=null&&f(t,["startTime"],x);const v=u(i,["endTime"]);v!=null&&f(t,["endTime"],v);const g=u(i,["updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["model"]);y!=null&&f(t,["model"],y);const S=u(i,["inputConfig"]);S!=null&&f(t,["src"],Ab(S));const T=u(i,["outputConfig"]);T!=null&&f(t,["dest"],Eb(sg(T)));const A=u(i,["completionStats"]);return A!=null&&f(t,["completionStats"],A),t}function Ab(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const s=u(i,["gcsSource","uris"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function _b(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&f(l,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>tS(i,h))),f(l,["requests","requests"],d)}return l}function Cb(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function kb(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function wb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Mb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Rb(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const s=u(i,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],Ib(s));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&f(t,["finishReason"],d);const h=u(i,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const x=u(i,["groundingMetadata"]);x!=null&&f(t,["groundingMetadata"],x);const v=u(i,["index"]);v!=null&&f(t,["index"],v);const g=u(i,["logprobsResult"]);g!=null&&f(t,["logprobsResult"],g);const y=u(i,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["safetyRatings"],T)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function Ib(i){const t={},l=u(i,["citationSources"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["citations"],s)}return t}function rg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>uS(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function Db(i,t){const l={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&f(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Ub(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],Nb(Sb(r))),l}function up(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],_b(i,ag(i,r)));const d=u(t,["config"]);return d!=null&&Db(d,l),l}function Lb(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],qe(i,s));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],Cb(ag(i,r)));const d=u(t,["config"]);return d!=null&&Ub(d,l),l}function Gb(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["batch","displayName"],s),l}function Pb(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],Vb(i,r));const d=u(t,["config"]);return d!=null&&Gb(d,l),l}function Hb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function zb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Bb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);return d!=null&&f(t,["error"],d),t}function jb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);return d!=null&&f(t,["error"],d),t}function qb(i,t){const l={},s=u(t,["contents"]);if(s!=null){let d=Hc(i,s);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],Ob(r,l)),zy(l,{"requests[].*":"requests[].request.*"})),l}function Ob(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Vb(i,t){const l={},s=u(t,["fileName"]);s!=null&&f(l,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],qb(i,r)),l}function Fb(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Kb(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Jb(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Yb(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],rg(At(r)));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const x=u(t,["topK"]);x!=null&&f(s,["topK"],x);const v=u(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const g=u(t,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const y=u(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const T=u(t,["logprobs"]);T!=null&&f(s,["logprobs"],T);const A=u(t,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const w=u(t,["seed"]);w!=null&&f(s,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&f(s,["responseMimeType"],M);const U=u(t,["responseSchema"]);U!=null&&f(s,["responseSchema"],zc(U));const X=u(t,["responseJsonSchema"]);if(X!=null&&f(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(l!==void 0&&j!=null){let ge=j;Array.isArray(ge)&&(ge=ge.map(we=>cS(we))),f(l,["safetySettings"],ge)}const K=u(t,["tools"]);if(l!==void 0&&K!=null){let ge=ql(K);Array.isArray(ge)&&(ge=ge.map(we=>fS(jl(we)))),f(l,["tools"],ge)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&f(l,["toolConfig"],dS(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=u(t,["cachedContent"]);l!==void 0&&se!=null&&f(l,["cachedContent"],Yn(i,se));const $=u(t,["responseModalities"]);$!=null&&f(s,["responseModalities"],$);const pe=u(t,["mediaResolution"]);pe!=null&&f(s,["mediaResolution"],pe);const te=u(t,["speechConfig"]);if(te!=null&&f(s,["speechConfig"],Bc(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(t,["thinkingConfig"]);ee!=null&&f(s,["thinkingConfig"],ee);const me=u(t,["imageConfig"]);me!=null&&f(s,["imageConfig"],eS(me));const Ee=u(t,["enableEnhancedCivicAnswers"]);return Ee!=null&&f(s,["enableEnhancedCivicAnswers"],Ee),s}function $b(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>Rb(g))),f(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&f(t,["responseId"],h);const x=u(i,["usageMetadata"]);return x!=null&&f(t,["usageMetadata"],x),t}function Xb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Qb(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Ol(i,s)),l}function Zb(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function Wb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function eS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const s=u(i,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function tS(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["request","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let x=cn(r);Array.isArray(x)&&(x=x.map(v=>rg(v))),f(l,["request","contents"],x)}const d=u(t,["metadata"]);d!=null&&f(l,["metadata"],d);const h=u(t,["config"]);return h!=null&&f(l,["request","generationConfig"],Yb(i,h,u(l,["request"],{}))),l}function nS(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],$b(l));const s=u(i,["error"]);return s!=null&&f(t,["error"],s),t}function iS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function lS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),l}function aS(i){const t={},l=u(i,["config"]);return l!=null&&iS(l,t),t}function sS(i){const t={},l=u(i,["config"]);return l!=null&&lS(l,t),t}function oS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>xo(h))),f(t,["batchJobs"],d)}return t}function rS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>xc(h))),f(t,["batchJobs"],d)}return t}function uS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],Fb(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],Kb(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],kb(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function cS(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function dS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],Jb(s)),t}function fS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],Zb(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],Wb(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Kn||(Kn={}));class Ji{constructor(t,l,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,s,r)}init(t,l,s){var r,d;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!s||Object.keys(s).length===0?h={config:{}}:typeof s=="object"?h=Object.assign({},s):h=s,h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(d=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mS extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=up(this.apiClient,t),s=l._url,r=oe("{model}:batchGenerateContent",s),x=l.batch.inputConfig.requests,v=x.requests,g=[];for(const y of v){const S=Object.assign({},y);if(S.systemInstruction){const T=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=T,S.request=A}g.push(S)}return x.requests=g,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const s=l?Object.assign({},l):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(t),h=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(h)s.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=Lb(this.apiClient,t);return x=oe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>xc(y))}else{const g=up(this.apiClient,t);return x=oe("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>xo(y))}}async createEmbeddingsInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=Pb(this.apiClient,t);return d=oe("{model}:asyncBatchEmbedContent",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>xo(v))}}async get(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=Qb(this.apiClient,t);return x=oe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>xc(y))}else{const g=Xb(this.apiClient,t);return x=oe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>xo(y))}}async cancel(t){var l,s,r,d;let h="",x={};if(this.apiClient.isVertexAI()){const v=Mb(this.apiClient,t);h=oe("batchPredictionJobs/{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=wb(this.apiClient,t);h=oe("batches/{name}:cancel",v._url),x=v._query,delete v._url,delete v._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=sS(t);return x=oe("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=rS(y),T=new ap;return Object.assign(T,S),T})}else{const g=aS(t);return x=oe("batches",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=oS(y),T=new ap;return Object.assign(T,S),T})}}async delete(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=zb(this.apiClient,t);return x=oe("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>jb(y))}else{const g=Hb(this.apiClient,t);return x=oe("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>Bb(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hS(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function cp(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>PS(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function pS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const h=u(i,["contents"]);if(t!==void 0&&h!=null){let y=cn(h);Array.isArray(y)&&(y=y.map(S=>cp(S))),f(t,["contents"],y)}const x=u(i,["systemInstruction"]);t!==void 0&&x!=null&&f(t,["systemInstruction"],cp(At(x)));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(S=>zS(S))),f(t,["tools"],y)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&f(t,["toolConfig"],HS(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function gS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const h=u(i,["contents"]);if(t!==void 0&&h!=null){let S=cn(h);Array.isArray(S)&&(S=S.map(T=>T)),f(t,["contents"],S)}const x=u(i,["systemInstruction"]);t!==void 0&&x!=null&&f(t,["systemInstruction"],At(x));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>BS(T))),f(t,["tools"],S)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&f(t,["toolConfig"],g);const y=u(i,["kmsKeyName"]);return t!==void 0&&y!=null&&f(t,["encryption_spec","kmsKeyName"],y),l}function xS(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],Xp(i,s));const r=u(t,["config"]);return r!=null&&pS(r,l),l}function vS(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],Xp(i,s));const r=u(t,["config"]);return r!=null&&gS(r,l),l}function yS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function bS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function SS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function TS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function ES(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function NS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _S(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&f(t,["response"],h);const x=u(i,["responseJsonSchema"]);if(x!=null&&f(t,["responseJsonSchema"],x),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function CS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function kS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Yn(i,s)),l}function wS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function MS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function RS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function IS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function DS(i){const t={},l=u(i,["config"]);return l!=null&&RS(l,t),t}function US(i){const t={},l=u(i,["config"]);return l!=null&&IS(l,t),t}function LS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["cachedContents"],d)}return t}function GS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["cachedContents"],d)}return t}function PS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],ES(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],NS(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],hS(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function HS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],AS(s)),t}function zS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],wS(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],MS(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function BS(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&f(t,["enterpriseWebSearch"],d);const h=u(i,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>_S(T))),f(t,["functionDeclarations"],S)}const x=u(i,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function jS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function qS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function OS(i,t){const l={},s=u(t,["name"]);s!=null&&f(l,["_url","name"],Yn(i,s));const r=u(t,["config"]);return r!=null&&jS(r,l),l}function VS(i,t){const l={},s=u(t,["name"]);s!=null&&f(l,["_url","name"],Yn(i,s));const r=u(t,["config"]);return r!=null&&qS(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(l),l)}async create(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=vS(this.apiClient,t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const g=xS(this.apiClient,t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async get(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=kS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const g=CS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async delete(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=bS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=TS(y),T=new ip;return Object.assign(T,S),T})}else{const g=yS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=SS(y),T=new ip;return Object.assign(T,S),T})}}async update(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=VS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const g=OS(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=US(t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=GS(y),T=new lp;return Object.assign(T,S),T})}else{const g=DS(t);return x=oe("cachedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=LS(y),T=new lp;return Object.assign(T,S),T})}}}function Eo(i,t){var l={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(l[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(l[s[r]]=i[s[r]]);return l}function dp(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],s=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(i){return this instanceof Ae?(this.v=i,this):new Ae(i)}function yn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),x("next"),x("throw"),x("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(A){return function(N){return Promise.resolve(N).then(A,S)}}function x(A,N){s[A]&&(r[A]=function(w){return new Promise(function(M,U){d.push([A,w,M,U])>1||v(A,w)})},N&&(r[A]=N(r[A])))}function v(A,N){try{g(s[A](N))}catch(w){T(d[0][3],w)}}function g(A){A.value instanceof Ae?Promise.resolve(A.value.v).then(y,S):T(d[0][2],A)}function y(A){v("next",A)}function S(A){v("throw",A)}function T(A,N){A(N),d.shift(),d.length&&v(d[0][0],d[0][1])}}function bn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof dp=="function"?dp(i):i[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(d){l[d]=i[d]&&function(h){return new Promise(function(x,v){h=i[d](h),r(x,v,h.done,h.value)})}}function r(d,h,x,v){Promise.resolve(v).then(function(g){d({value:g,done:x})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:ug(l)}function ug(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function JS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function fp(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let s=0;for(;s<l;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let d=!0;for(;s<l&&i[s].role==="model";)r.push(i[s]),d&&!ug(i[s])&&(d=!1),s++;d?t.push(...r):t.pop()}return t}class YS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new $S(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class $S{constructor(t,l,s,r={},d=[]){this.apiClient=t,this.modelsModule=l,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),JS(d)}async sendMessage(t){var l;await this.sendPromise;const s=At(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,h,x;const v=await r,g=(h=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content,y=v.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let T=[];y!=null&&(T=(x=y.slice(S))!==null&&x!==void 0?x:[]);const A=g?[g]:[];this.recordHistory(s,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const s=At(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(t=!1){const l=t?fp(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return yn(this,arguments,function*(){var r,d,h,x,v,g;const y=[];try{for(var S=!0,T=bn(t),A;A=yield Ae(T.next()),r=A.done,!r;S=!0){x=A.value,S=!1;const N=x;if(KS(N)){const w=(g=(v=N.candidates)===null||v===void 0?void 0:v[0])===null||g===void 0?void 0:g.content;w!==void 0&&y.push(w)}yield yield Ae(N)}}catch(N){d={error:N}}finally{try{!S&&!r&&(h=T.return)&&(yield Ae(h.call(T)))}finally{if(d)throw d.error}}this.recordHistory(l,y)})}recordHistory(t,l,s){let r=[];l.length>0&&l.every(d=>d.role!==void 0)?r=l:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...fp(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Co extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Co.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XS(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function QS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function ZS(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],ng(l)),t}function WS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function eT(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],ng(l)),t}function tT(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function nT(i){const t={},l=u(i,["config"]);return l!=null&&tT(l,t),t}function iT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lT extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=nT(t);return d=oe("files",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=iT(v),y=new rb;return Object.assign(y,g),y})}}async createInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=XS(t);return d=oe("upload/v1beta/files",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=QS(v),y=new ub;return Object.assign(y,g),y})}}async get(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=eT(t);return d=oe("files/{file}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=ZS(t);return d=oe("files/{file}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=WS(v),y=new cb;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vo(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function aT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>ST(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function sT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function oT(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function rT(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&f(t,["response"],h);const x=u(i,["responseJsonSchema"]);if(x!=null&&f(t,["responseJsonSchema"],x),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function uT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const s=u(i,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&f(t,["candidateCount"],d);const h=u(i,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const x=u(i,["frequencyPenalty"]);x!=null&&f(t,["frequencyPenalty"],x);const v=u(i,["logprobs"]);v!=null&&f(t,["logprobs"],v);const g=u(i,["maxOutputTokens"]);g!=null&&f(t,["maxOutputTokens"],g);const y=u(i,["mediaResolution"]);y!=null&&f(t,["mediaResolution"],y);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const T=u(i,["responseLogprobs"]);T!=null&&f(t,["responseLogprobs"],T);const A=u(i,["responseMimeType"]);A!=null&&f(t,["responseMimeType"],A);const N=u(i,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const w=u(i,["responseSchema"]);w!=null&&f(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const U=u(i,["seed"]);U!=null&&f(t,["seed"],U);const X=u(i,["speechConfig"]);X!=null&&f(t,["speechConfig"],X);const j=u(i,["stopSequences"]);j!=null&&f(t,["stopSequences"],j);const K=u(i,["temperature"]);K!=null&&f(t,["temperature"],K);const ne=u(i,["thinkingConfig"]);ne!=null&&f(t,["thinkingConfig"],ne);const se=u(i,["topK"]);se!=null&&f(t,["topK"],se);const $=u(i,["topP"]);if($!=null&&f(t,["topP"],$),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function cT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function dT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function fT(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const x=u(i,["topK"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","topK"],x);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],jc(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],aT(At(N)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let se=ql(w);Array.isArray(se)&&(se=se.map($=>ET(jl($)))),f(t,["setup","tools"],se)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],TT(M));const U=u(i,["inputAudioTranscription"]);t!==void 0&&U!=null&&f(t,["setup","inputAudioTranscription"],U);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&f(t,["setup","realtimeInputConfig"],j);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&f(t,["setup","contextWindowCompression"],K);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&f(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function mT(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],uT(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const x=u(i,["topK"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","topK"],x);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],jc(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],At(N));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let $=ql(w);Array.isArray($)&&($=$.map(pe=>NT(jl(pe)))),f(t,["setup","tools"],$)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],M);const U=u(i,["inputAudioTranscription"]);t!==void 0&&U!=null&&f(t,["setup","inputAudioTranscription"],U);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&f(t,["setup","realtimeInputConfig"],j);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&f(t,["setup","contextWindowCompression"],K);const ne=u(i,["proactivity"]);t!==void 0&&ne!=null&&f(t,["setup","proactivity"],ne);const se=u(i,["explicitVadSignal"]);return t!==void 0&&se!=null&&f(t,["setup","explicitVadSignal"],se),l}function hT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],qe(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],fT(r,l)),l}function pT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],qe(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],mT(r,l)),l}function gT(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function xT(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["weightedPrompts"],s)}return t}function vT(i){const t={},l=u(i,["media"]);if(l!=null){let g=Qp(l);Array.isArray(g)&&(g=g.map(y=>vo(y))),f(t,["mediaChunks"],g)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],vo(Wp(s)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&f(t,["video"],vo(Zp(d)));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["activityStart"]);x!=null&&f(t,["activityStart"],x);const v=u(i,["activityEnd"]);return v!=null&&f(t,["activityEnd"],v),t}function yT(i){const t={},l=u(i,["media"]);if(l!=null){let g=Qp(l);Array.isArray(g)&&(g=g.map(y=>y)),f(t,["mediaChunks"],g)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],Wp(s));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&f(t,["video"],Zp(d));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["activityStart"]);x!=null&&f(t,["activityStart"],x);const v=u(i,["activityEnd"]);return v!=null&&f(t,["activityEnd"],v),t}function bT(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const s=u(i,["serverContent"]);s!=null&&f(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&f(t,["toolCallCancellation"],d);const h=u(i,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],AT(h));const x=u(i,["goAway"]);x!=null&&f(t,["goAway"],x);const v=u(i,["sessionResumptionUpdate"]);v!=null&&f(t,["sessionResumptionUpdate"],v);const g=u(i,["voiceActivityDetectionSignal"]);return g!=null&&f(t,["voiceActivityDetectionSignal"],g),t}function ST(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],sT(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],oT(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],vo(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function TT(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ET(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],cT(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],dT(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function NT(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&f(t,["enterpriseWebSearch"],d);const h=u(i,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>rT(T))),f(t,["functionDeclarations"],S)}const x=u(i,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function AT(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const s=u(i,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&f(t,["toolUsePromptTokenCount"],d);const h=u(i,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const x=u(i,["totalTokenCount"]);x!=null&&f(t,["totalTokenCount"],x);const v=u(i,["promptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["promptTokensDetails"],A)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["cacheTokensDetails"],A)}const y=u(i,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["responseTokensDetails"],A)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["toolUsePromptTokensDetails"],A)}const T=u(i,["trafficType"]);return T!=null&&f(t,["trafficType"],T),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function CT(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const s=u(i,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],kT(s));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&f(t,["finishReason"],d);const h=u(i,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const x=u(i,["groundingMetadata"]);x!=null&&f(t,["groundingMetadata"],x);const v=u(i,["index"]);v!=null&&f(t,["index"],v);const g=u(i,["logprobsResult"]);g!=null&&f(t,["logprobsResult"],g);const y=u(i,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["safetyRatings"],T)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function kT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["citations"],s)}return t}function wT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let d=cn(r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["contents"],d)}return l}function MT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),f(t,["tokensInfo"],r)}return t}function RT(i){const t={},l=u(i,["values"]);l!=null&&f(t,["values"],l);const s=u(i,["statistics"]);return s!=null&&f(t,["statistics"],IT(s)),t}function IT(i){const t={},l=u(i,["truncated"]);l!=null&&f(t,["truncated"],l);const s=u(i,["token_count"]);return s!=null&&f(t,["tokenCount"],s),t}function ko(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>jE(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function DT(i){const t={},l=u(i,["controlType"]);l!=null&&f(t,["controlType"],l);const s=u(i,["enableControlImageComputation"]);return s!=null&&f(t,["computeControl"],s),t}function UT(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function LT(i,t){const l={},s=u(i,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],At(s));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(x=>mg(x))),f(t,["tools"],h)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&f(t,["generationConfig"],_E(d)),l}function GT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>ko(x))),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&UT(d),l}function PT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>x)),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&LT(d,l),l}function HT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["totalTokens"]);s!=null&&f(t,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function zT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["totalTokens"]);return s!=null&&f(t,["totalTokens"],s),t}function BT(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],qe(i,s)),l}function jT(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],qe(i,s)),l}function qT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function OT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function VT(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const x=u(i,["guidanceScale"]);t!==void 0&&x!=null&&f(t,["parameters","guidanceScale"],x);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["parameters","seed"],v);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&f(t,["parameters","includeRaiReason"],T);const A=u(i,["language"]);t!==void 0&&A!=null&&f(t,["parameters","language"],A);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const U=u(i,["labels"]);t!==void 0&&U!=null&&f(t,["labels"],U);const X=u(i,["editMode"]);t!==void 0&&X!=null&&f(t,["parameters","editMode"],X);const j=u(i,["baseSteps"]);return t!==void 0&&j!=null&&f(t,["parameters","editConfig","baseSteps"],j),l}function FT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(v=>JE(v))),f(l,["instances[0]","referenceImages"],x)}const h=u(t,["config"]);return h!=null&&VT(h,l),l}function KT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>wo(d))),f(t,["generatedImages"],r)}return t}function JT(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function YT(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["instances[]","task_type"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&f(t,["parameters","outputDimensionality"],d);const h=u(i,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const x=u(i,["autoTruncate"]);return t!==void 0&&x!=null&&f(t,["parameters","autoTruncate"],x),l}function $T(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let x=Hc(i,r);Array.isArray(x)&&(x=x.map(v=>v)),f(l,["requests[]","content"],x)}const d=u(t,["config"]);d!=null&&JT(d,l);const h=u(t,["model"]);return h!==void 0&&f(l,["requests[]","model"],qe(i,h)),l}function XT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let h=Hc(i,r);Array.isArray(h)&&(h=h.map(x=>x)),f(l,["instances[]","content"],h)}const d=u(t,["config"]);return d!=null&&YT(d,l),l}function QT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function ZT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>RT(h))),f(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function WT(i){const t={},l=u(i,["endpoint"]);l!=null&&f(t,["name"],l);const s=u(i,["deployedModelId"]);return s!=null&&f(t,["deployedModelId"],s),t}function eE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function tE(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nE(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function iE(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&f(t,["response"],h);const x=u(i,["responseJsonSchema"]);if(x!=null&&f(t,["responseJsonSchema"],x),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function lE(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],ko(At(r)));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const x=u(t,["topK"]);x!=null&&f(s,["topK"],x);const v=u(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const g=u(t,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const y=u(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const T=u(t,["logprobs"]);T!=null&&f(s,["logprobs"],T);const A=u(t,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const w=u(t,["seed"]);w!=null&&f(s,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&f(s,["responseMimeType"],M);const U=u(t,["responseSchema"]);U!=null&&f(s,["responseSchema"],zc(U));const X=u(t,["responseJsonSchema"]);if(X!=null&&f(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(l!==void 0&&j!=null){let ge=j;Array.isArray(ge)&&(ge=ge.map(we=>YE(we))),f(l,["safetySettings"],ge)}const K=u(t,["tools"]);if(l!==void 0&&K!=null){let ge=ql(K);Array.isArray(ge)&&(ge=ge.map(we=>tN(jl(we)))),f(l,["tools"],ge)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&f(l,["toolConfig"],eN(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=u(t,["cachedContent"]);l!==void 0&&se!=null&&f(l,["cachedContent"],Yn(i,se));const $=u(t,["responseModalities"]);$!=null&&f(s,["responseModalities"],$);const pe=u(t,["mediaResolution"]);pe!=null&&f(s,["mediaResolution"],pe);const te=u(t,["speechConfig"]);if(te!=null&&f(s,["speechConfig"],Bc(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(t,["thinkingConfig"]);ee!=null&&f(s,["thinkingConfig"],ee);const me=u(t,["imageConfig"]);me!=null&&f(s,["imageConfig"],RE(me));const Ee=u(t,["enableEnhancedCivicAnswers"]);return Ee!=null&&f(s,["enableEnhancedCivicAnswers"],Ee),s}function aE(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],At(r));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const x=u(t,["topK"]);x!=null&&f(s,["topK"],x);const v=u(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const g=u(t,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const y=u(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const T=u(t,["logprobs"]);T!=null&&f(s,["logprobs"],T);const A=u(t,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const w=u(t,["seed"]);w!=null&&f(s,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&f(s,["responseMimeType"],M);const U=u(t,["responseSchema"]);U!=null&&f(s,["responseSchema"],zc(U));const X=u(t,["responseJsonSchema"]);X!=null&&f(s,["responseJsonSchema"],X);const j=u(t,["routingConfig"]);j!=null&&f(s,["routingConfig"],j);const K=u(t,["modelSelectionConfig"]);K!=null&&f(s,["modelConfig"],K);const ne=u(t,["safetySettings"]);if(l!==void 0&&ne!=null){let G=ne;Array.isArray(G)&&(G=G.map(Q=>Q)),f(l,["safetySettings"],G)}const se=u(t,["tools"]);if(l!==void 0&&se!=null){let G=ql(se);Array.isArray(G)&&(G=G.map(Q=>mg(jl(Q)))),f(l,["tools"],G)}const $=u(t,["toolConfig"]);l!==void 0&&$!=null&&f(l,["toolConfig"],$);const pe=u(t,["labels"]);l!==void 0&&pe!=null&&f(l,["labels"],pe);const te=u(t,["cachedContent"]);l!==void 0&&te!=null&&f(l,["cachedContent"],Yn(i,te));const ee=u(t,["responseModalities"]);ee!=null&&f(s,["responseModalities"],ee);const me=u(t,["mediaResolution"]);me!=null&&f(s,["mediaResolution"],me);const Ee=u(t,["speechConfig"]);Ee!=null&&f(s,["speechConfig"],Bc(Ee));const ge=u(t,["audioTimestamp"]);ge!=null&&f(s,["audioTimestamp"],ge);const we=u(t,["thinkingConfig"]);we!=null&&f(s,["thinkingConfig"],we);const ze=u(t,["imageConfig"]);if(ze!=null&&f(s,["imageConfig"],IE(ze)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function mp(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>ko(x))),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&f(l,["generationConfig"],lE(i,d,l)),l}function hp(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["contents"]);if(r!=null){let h=cn(r);Array.isArray(h)&&(h=h.map(x=>x)),f(l,["contents"],h)}const d=u(t,["config"]);return d!=null&&f(l,["generationConfig"],aE(i,d,l)),l}function pp(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(g=>CT(g))),f(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&f(t,["responseId"],h);const x=u(i,["usageMetadata"]);return x!=null&&f(t,["usageMetadata"],x),t}function gp(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["candidates"],g)}const r=u(i,["createTime"]);r!=null&&f(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&f(t,["modelVersion"],d);const h=u(i,["promptFeedback"]);h!=null&&f(t,["promptFeedback"],h);const x=u(i,["responseId"]);x!=null&&f(t,["responseId"],x);const v=u(i,["usageMetadata"]);return v!=null&&f(t,["usageMetadata"],v),t}function sE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&f(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const v=u(i,["includeSafetyAttributes"]);t!==void 0&&v!=null&&f(t,["parameters","includeSafetyAttributes"],v);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const y=u(i,["language"]);t!==void 0&&y!=null&&f(t,["parameters","language"],y);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const T=u(i,["outputCompressionQuality"]);if(t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&f(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function oE(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const x=u(i,["guidanceScale"]);t!==void 0&&x!=null&&f(t,["parameters","guidanceScale"],x);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["parameters","seed"],v);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&f(t,["parameters","includeRaiReason"],T);const A=u(i,["language"]);t!==void 0&&A!=null&&f(t,["parameters","language"],A);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const U=u(i,["labels"]);t!==void 0&&U!=null&&f(t,["labels"],U);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&f(t,["parameters","sampleImageSize"],X);const j=u(i,["enhancePrompt"]);return t!==void 0&&j!=null&&f(t,["parameters","enhancePrompt"],j),l}function rE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&sE(d,l),l}function uE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&oE(d,l),l}function cE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>TE(h))),f(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],dg(r)),t}function dE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>wo(h))),f(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],fg(r)),t}function fE(i,t){const l={},s=u(i,["numberOfVideos"]);if(t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=u(i,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const x=u(i,["personGeneration"]);if(t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=u(i,["negativePrompt"]);t!==void 0&&v!=null&&f(t,["parameters","negativePrompt"],v);const g=u(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&f(t,["parameters","enhancePrompt"],g),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=u(i,["lastFrame"]);t!==void 0&&y!=null&&f(t,["instances[0]","lastFrame"],Mo(y));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let T=S;Array.isArray(T)&&(T=T.map(A=>hN(A))),f(t,["instances[0]","referenceImages"],T)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function mE(i,t){const l={},s=u(i,["numberOfVideos"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&f(t,["parameters","fps"],d);const h=u(i,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["parameters","seed"],x);const v=u(i,["aspectRatio"]);t!==void 0&&v!=null&&f(t,["parameters","aspectRatio"],v);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&f(t,["parameters","pubsubTopic"],S);const T=u(i,["negativePrompt"]);t!==void 0&&T!=null&&f(t,["parameters","negativePrompt"],T);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","enhancePrompt"],A);const N=u(i,["generateAudio"]);t!==void 0&&N!=null&&f(t,["parameters","generateAudio"],N);const w=u(i,["lastFrame"]);t!==void 0&&w!=null&&f(t,["instances[0]","lastFrame"],Sn(w));const M=u(i,["referenceImages"]);if(t!==void 0&&M!=null){let j=M;Array.isArray(j)&&(j=j.map(K=>pN(K))),f(t,["instances[0]","referenceImages"],j)}const U=u(i,["mask"]);t!==void 0&&U!=null&&f(t,["instances[0]","mask"],mN(U));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&f(t,["parameters","compressionQuality"],X),l}function hE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],vE(h)),t}function pE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],yE(h)),t}function gE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&f(l,["instances[0]","image"],Mo(d));const h=u(t,["video"]);h!=null&&f(l,["instances[0]","video"],hg(h));const x=u(t,["source"]);x!=null&&bE(x,l);const v=u(t,["config"]);return v!=null&&fE(v,l),l}function xE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&f(l,["instances[0]","image"],Sn(d));const h=u(t,["video"]);h!=null&&f(l,["instances[0]","video"],pg(h));const x=u(t,["source"]);x!=null&&SE(x,l);const v=u(t,["config"]);return v!=null&&mE(v,l),l}function vE(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>NE(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function yE(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>AE(h))),f(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function bE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Mo(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],hg(d)),l}function SE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Sn(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],pg(d)),l}function TE(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],DE(l));const s=u(i,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&f(t,["safetyAttributes"],dg(r)),t}function wo(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],cg(l));const s=u(i,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&f(t,["safetyAttributes"],fg(r));const d=u(i,["prompt"]);return d!=null&&f(t,["enhancedPrompt"],d),t}function EE(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["mask"],cg(l));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),f(t,["labels"],r)}return t}function NE(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],dN(l)),t}function AE(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],fN(l)),t}function _E(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const s=u(i,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&f(t,["candidateCount"],d);const h=u(i,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const x=u(i,["frequencyPenalty"]);x!=null&&f(t,["frequencyPenalty"],x);const v=u(i,["logprobs"]);v!=null&&f(t,["logprobs"],v);const g=u(i,["maxOutputTokens"]);g!=null&&f(t,["maxOutputTokens"],g);const y=u(i,["mediaResolution"]);y!=null&&f(t,["mediaResolution"],y);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const T=u(i,["responseLogprobs"]);T!=null&&f(t,["responseLogprobs"],T);const A=u(i,["responseMimeType"]);A!=null&&f(t,["responseMimeType"],A);const N=u(i,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const w=u(i,["responseSchema"]);w!=null&&f(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const U=u(i,["seed"]);U!=null&&f(t,["seed"],U);const X=u(i,["speechConfig"]);X!=null&&f(t,["speechConfig"],X);const j=u(i,["stopSequences"]);j!=null&&f(t,["stopSequences"],j);const K=u(i,["temperature"]);K!=null&&f(t,["temperature"],K);const ne=u(i,["thinkingConfig"]);ne!=null&&f(t,["thinkingConfig"],ne);const se=u(i,["topK"]);se!=null&&f(t,["topK"],se);const $=u(i,["topP"]);if($!=null&&f(t,["topP"],$),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function CE(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],qe(i,s)),l}function kE(i,t){const l={},s=u(t,["model"]);return s!=null&&f(l,["_url","name"],qe(i,s)),l}function wE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function ME(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function RE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const s=u(i,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function IE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const s=u(i,["imageSize"]);s!=null&&f(t,["imageSize"],s);const r=u(i,["personGeneration"]);r!=null&&f(t,["personGeneration"],r);const d=u(i,["outputMimeType"]);d!=null&&f(t,["imageOutputOptions","mimeType"],d);const h=u(i,["outputCompressionQuality"]);return h!=null&&f(t,["imageOutputOptions","compressionQuality"],h),t}function DE(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],Ni(l));const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function cg(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["imageBytes"],Ni(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Mo(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],Ni(l));const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Sn(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const s=u(i,["imageBytes"]);s!=null&&f(t,["bytesBase64Encoded"],Ni(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function UE(i,t,l){const s={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&f(l,["_query","pageToken"],d);const h=u(t,["filter"]);l!==void 0&&h!=null&&f(l,["_query","filter"],h);const x=u(t,["queryBase"]);return l!==void 0&&x!=null&&f(l,["_url","models_url"],ig(i,x)),s}function LE(i,t,l){const s={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&f(l,["_query","pageToken"],d);const h=u(t,["filter"]);l!==void 0&&h!=null&&f(l,["_query","filter"],h);const x=u(t,["queryBase"]);return l!==void 0&&x!=null&&f(l,["_url","models_url"],ig(i,x)),s}function GE(i,t){const l={},s=u(t,["config"]);return s!=null&&UE(i,s,l),l}function PE(i,t){const l={},s=u(t,["config"]);return s!=null&&LE(i,s,l),l}function HE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=lg(r);Array.isArray(d)&&(d=d.map(h=>vc(h))),f(t,["models"],d)}return t}function zE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=lg(r);Array.isArray(d)&&(d=d.map(h=>yc(h))),f(t,["models"],d)}return t}function BE(i){const t={},l=u(i,["maskMode"]);l!=null&&f(t,["maskMode"],l);const s=u(i,["segmentationClasses"]);s!=null&&f(t,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function vc(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const d=u(i,["version"]);d!=null&&f(t,["version"],d);const h=u(i,["_self"]);h!=null&&f(t,["tunedModelInfo"],nN(h));const x=u(i,["inputTokenLimit"]);x!=null&&f(t,["inputTokenLimit"],x);const v=u(i,["outputTokenLimit"]);v!=null&&f(t,["outputTokenLimit"],v);const g=u(i,["supportedGenerationMethods"]);g!=null&&f(t,["supportedActions"],g);const y=u(i,["temperature"]);y!=null&&f(t,["temperature"],y);const S=u(i,["maxTemperature"]);S!=null&&f(t,["maxTemperature"],S);const T=u(i,["topP"]);T!=null&&f(t,["topP"],T);const A=u(i,["topK"]);A!=null&&f(t,["topK"],A);const N=u(i,["thinking"]);return N!=null&&f(t,["thinking"],N),t}function yc(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const d=u(i,["versionId"]);d!=null&&f(t,["version"],d);const h=u(i,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>WT(T))),f(t,["endpoints"],S)}const x=u(i,["labels"]);x!=null&&f(t,["labels"],x);const v=u(i,["_self"]);v!=null&&f(t,["tunedModelInfo"],iN(v));const g=u(i,["defaultCheckpointId"]);g!=null&&f(t,["defaultCheckpointId"],g);const y=u(i,["checkpoints"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(T=>T)),f(t,["checkpoints"],S)}return t}function jE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],eE(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],tE(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],_T(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function qE(i){const t={},l=u(i,["productImage"]);return l!=null&&f(t,["image"],Sn(l)),t}function OE(i,t){const l={},s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&f(t,["parameters","storageUri"],d);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&f(t,["parameters","safetySetting"],x);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const g=u(i,["addWatermark"]);t!==void 0&&g!=null&&f(t,["parameters","addWatermark"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S);const T=u(i,["enhancePrompt"]);t!==void 0&&T!=null&&f(t,["parameters","enhancePrompt"],T);const A=u(i,["labels"]);return t!==void 0&&A!=null&&f(t,["labels"],A),l}function VE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["source"]);r!=null&&KE(r,l);const d=u(t,["config"]);return d!=null&&OE(d,l),l}function FE(i){const t={},l=u(i,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>wo(r))),f(t,["generatedImages"],s)}return t}function KE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],Sn(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>qE(x))),f(t,["instances[0]","productImages"],h)}return l}function JE(i){const t={},l=u(i,["referenceImage"]);l!=null&&f(t,["referenceImage"],Sn(l));const s=u(i,["referenceId"]);s!=null&&f(t,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&f(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&f(t,["maskImageConfig"],BE(d));const h=u(i,["controlImageConfig"]);h!=null&&f(t,["controlImageConfig"],DT(h));const x=u(i,["styleImageConfig"]);x!=null&&f(t,["styleImageConfig"],x);const v=u(i,["subjectImageConfig"]);return v!=null&&f(t,["subjectImageConfig"],v),t}function dg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const s=u(i,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function fg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const s=u(i,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function YE(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function $E(i){const t={},l=u(i,["image"]);return l!=null&&f(t,["image"],Sn(l)),t}function XE(i,t){const l={},s=u(i,["mode"]);t!==void 0&&s!=null&&f(t,["parameters","mode"],s);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&f(t,["parameters","confidenceThreshold"],d);const h=u(i,["maskDilation"]);t!==void 0&&h!=null&&f(t,["parameters","maskDilation"],h);const x=u(i,["binaryColorThreshold"]);t!==void 0&&x!=null&&f(t,["parameters","binaryColorThreshold"],x);const v=u(i,["labels"]);return t!==void 0&&v!=null&&f(t,["labels"],v),l}function QE(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["source"]);r!=null&&WE(r,l);const d=u(t,["config"]);return d!=null&&XE(d,l),l}function ZE(i){const t={},l=u(i,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>EE(r))),f(t,["generatedMasks"],s)}return t}function WE(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Sn(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&f(t,["instances[0]","scribble"],$E(d)),l}function eN(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],nE(s)),t}function tN(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],wE(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],ME(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function mg(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&f(t,["enterpriseWebSearch"],d);const h=u(i,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>iE(T))),f(t,["functionDeclarations"],S)}const x=u(i,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function nN(i){const t={},l=u(i,["baseModel"]);l!=null&&f(t,["baseModel"],l);const s=u(i,["createTime"]);s!=null&&f(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function iN(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const s=u(i,["createTime"]);s!=null&&f(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function lN(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),l}function aN(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),l}function sN(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","name"],qe(i,s));const r=u(t,["config"]);return r!=null&&lN(r,l),l}function oN(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["config"]);return r!=null&&aN(r,l),l}function rN(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","mimeType"],x);const v=u(i,["outputCompressionQuality"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","compressionQuality"],v);const g=u(i,["enhanceInputImage"]);t!==void 0&&g!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],g);const y=u(i,["imagePreservationFactor"]);t!==void 0&&y!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const S=u(i,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const T=u(i,["numberOfImages"]);t!==void 0&&T!=null&&f(t,["parameters","sampleCount"],T);const A=u(i,["mode"]);return t!==void 0&&A!=null&&f(t,["parameters","mode"],A),l}function uN(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],qe(i,s));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],Sn(r));const d=u(t,["upscaleFactor"]);d!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],d);const h=u(t,["config"]);return h!=null&&rN(h,l),l}function cN(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>wo(d))),f(t,["generatedImages"],r)}return t}function dN(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const s=u(i,["encodedVideo"]);s!=null&&f(t,["videoBytes"],Ni(s));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function fN(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],Ni(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function mN(i){const t={},l=u(i,["image"]);l!=null&&f(t,["_self"],Sn(l));const s=u(i,["maskMode"]);return s!=null&&f(t,["maskMode"],s),t}function hN(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Mo(l));const s=u(i,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function pN(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Sn(l));const s=u(i,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function hg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const s=u(i,["videoBytes"]);s!=null&&f(t,["encodedVideo"],Ni(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function pg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["gcsUri"],l);const s=u(i,["videoBytes"]);s!=null&&f(t,["bytesBase64Encoded"],Ni(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gN(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["displayName"],s),l}function xN(i){const t={},l=u(i,["config"]);return l!=null&&gN(l,t),t}function vN(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),l}function yN(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&vN(s,t),t}function bN(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function SN(i,t){const l={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function TN(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const d=u(i,["error"]);d!=null&&f(t,["error"],d);const h=u(i,["response"]);return h!=null&&f(t,["response"],NN(h)),t}function EN(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const s=u(i,["fileName"]);s!=null&&f(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&SN(r,t),t}function NN(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function AN(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function _N(i){const t={},l=u(i,["config"]);return l!=null&&AN(l,t),t}function CN(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["fileSearchStores"],d)}return t}function gg(i,t){const l={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&f(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let x=d;Array.isArray(x)&&(x=x.map(v=>v)),f(t,["customMetadata"],x)}const h=u(i,["chunkingConfig"]);return t!==void 0&&h!=null&&f(t,["chunkingConfig"],h),l}function kN(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const s=u(i,["config"]);return s!=null&&gg(s,t),t}function wN(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MN="Content-Type",RN="X-Server-Timeout",IN="User-Agent",bc="x-goog-api-client",DN="1.35.0",UN=`google-genai-sdk/${DN}`,LN="v1beta1",GN="v1beta";class PN{constructor(t){var l,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:LN,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:GN,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,s){const r=[this.getRequestUrlInternal(l)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,s);if(t.queryParams)for(const[h,x]of Object.entries(t.queryParams))r.searchParams.append(h,String(x));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,l){const s=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(l))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,s,r){if(l&&l.timeout||r){const d=new AbortController,h=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const x=setTimeout(()=>d.abort(),l.timeout);x&&typeof x.unref=="function"&&x.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=h}return l&&l.extraBody!==null&&HN(t,l.extraBody),t.headers=await this.getHeadersInternal(l,s),t}async unaryApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await xp(r),new pc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await xp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return yn(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";const x="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:y}=yield Ae(r.read());if(g){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=d.decode(y,{stream:!0});try{const N=JSON.parse(S);if("error"in N){const w=JSON.parse(JSON.stringify(N.error)),M=w.status,U=w.code,X=`got status: ${M}. ${JSON.stringify(N)}`;if(U>=400&&U<600)throw new Co({message:X,status:U})}}catch(N){if(N.name==="ApiError")throw N}h+=S;let T=-1,A=0;for(;;){T=-1,A=0;for(const M of v){const U=h.indexOf(M);U!==-1&&(T===-1||U<T)&&(T=U,A=M.length)}if(T===-1)break;const N=h.substring(0,T);h=h.substring(T+A);const w=N.trim();if(w.startsWith(x)){const M=w.substring(x.length).trim();try{const U=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ae(new pc(U))}catch(U){throw new Error(`exception parsing stream chunk ${M}. ${U}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},l=UN+" "+this.clientOptions.userAgentExtra;return t[IN]=l,t[bc]=l,t[MN]="application/json",t}async getHeadersInternal(t,l){const s=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))s.append(r,d);t.timeout&&t.timeout>0&&s.append(RN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,l),s}getFileName(t){var l;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(l=s.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),s}async uploadFile(t,l){var s;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,h=await d.stat(t);r.sizeBytes=String(h.size);const x=(s=l==null?void 0:l.mimeType)!==null&&s!==void 0?s:h.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=x;const v={file:r},g=this.getFileName(t),y=oe("upload/v1beta/files",v._url),S=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,g,v,l==null?void 0:l.httpOptions);return d.upload(t,S,this)}async uploadFileToFileSearchStore(t,l,s){var r;const d=this.clientOptions.uploader,h=await d.stat(l),x=String(h.size),v=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:h.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(l),S={};s!=null&&gg(s,S);const T=await this.fetchUploadUrl(g,x,v,y,S,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(l,T,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,s,r,d,h){var x;let v={};h?v=h:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(x=g==null?void 0:g.headers)===null||x===void 0?void 0:x["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function xp(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw l>=400&&l<600?new Co({message:r,status:l}):new Error(r)}}function HN(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,h){const x=Object.assign({},d);for(const v in h)if(Object.prototype.hasOwnProperty.call(h,v)){const g=h[v],y=x[v];g&&typeof g=="object"&&!Array.isArray(g)&&y&&typeof y=="object"&&!Array.isArray(y)?x[v]=s(y,g):(y&&g&&typeof y!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof g}. Overwriting.`),x[v]=g)}return x}const r=s(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zN="mcp_used/unknown";let BN=!1;function xg(i){for(const t of i)if(jN(t)||typeof t=="object"&&"inputSchema"in t)return!0;return BN}function vg(i){var t;const l=(t=i[bc])!==null&&t!==void 0?t:"";i[bc]=(l+` ${zN}`).trimStart()}function jN(i){return i!==null&&typeof i=="object"&&i instanceof qc}function qN(i){return yn(this,arguments,function*(l,s=100){let r,d=0;for(;d<s;){const h=yield Ae(l.listTools({cursor:r}));for(const x of h.tools)yield yield Ae(x),d++;if(!h.nextCursor)break;r=h.nextCursor}})}class qc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new qc(t,l)}async initialize(){var t,l,s,r;if(this.mcpTools.length>0)return;const d={},h=[];for(const y of this.mcpClients)try{for(var x=!0,v=(l=void 0,bn(qN(y))),g;g=await v.next(),t=g.done,!t;x=!0){r=g.value,x=!1;const S=r;h.push(S);const T=S.name;if(d[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);d[T]=y}}catch(S){l={error:S}}finally{try{!x&&!t&&(s=v.return)&&await s.call(v)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),bb(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const h=await r.callTool({name:s.name,arguments:s.args},void 0,d);l.push({functionResponse:{name:s.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ON(i,t,l){const s=new fb;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(s,r),t(s)}class VN{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s}async connect(t){var l,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),h=JN(this.apiClient.getDefaultHeaders()),x=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${x}`;let g=()=>{};const y=new Promise(j=>{g=j}),S=t.callbacks,T=function(){g({})},A=this.apiClient,N={onopen:T,onmessage:j=>{ON(A,S.onmessage,j)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(j){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(j){}},w=this.webSocketFactory.create(v,KN(h),N);w.connect(),await y;const X={setup:{model:qe(this.apiClient,t.model)}};return w.send(JSON.stringify(X)),new FN(w,this.apiClient)}}class FN{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=xT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=gT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Ll.PLAY)}pause(){this.sendPlaybackControl(Ll.PAUSE)}stop(){this.sendPlaybackControl(Ll.STOP)}resetContext(){this.sendPlaybackControl(Ll.RESET_CONTEXT)}close(){this.conn.close()}}function KN(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function JN(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $N(i,t,l){const s=new db;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const d=JSON.parse(r);if(i.isVertexAI()){const h=bT(d);Object.assign(s,h)}else Object.assign(s,d);t(s)}class XN{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s,this.music=new VN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,s,r,d,h,x;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let y;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&xg(t.config.tools)&&vg(S);const T=e1(S);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,y);else{const te=this.apiClient.getApiKey();let ee="BidiGenerateContent",me="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",me="access_token"),y=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ee}?${me}=${te}`}let A=()=>{};const N=new Promise(te=>{A=te}),w=t.callbacks,M=function(){var te;(te=w==null?void 0:w.onopen)===null||te===void 0||te.call(w),A({})},U=this.apiClient,X={onopen:M,onmessage:te=>{$N(U,w.onmessage,te)},onerror:(l=w==null?void 0:w.onerror)!==null&&l!==void 0?l:function(te){},onclose:(s=w==null?void 0:w.onclose)!==null&&s!==void 0?s:function(te){}},j=this.webSocketFactory.create(y,WN(T),X);j.connect(),await N;let K=qe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const te=this.apiClient.getProject(),ee=this.apiClient.getLocation();K=`projects/${te}/locations/${ee}/`+K}let ne={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bo.AUDIO]}:t.config.responseModalities=[bo.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(x=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&x!==void 0?x:[],$=[];for(const te of se)if(this.isCallableTool(te)){const ee=te;$.push(await ee.tool())}else $.push(te);$.length>0&&(t.config.tools=$);const pe={model:K,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ne=pT(this.apiClient,pe):ne=hT(this.apiClient,pe),delete ne.config,j.send(JSON.stringify(ne)),new ZN(j,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const QN={turnComplete:!0};class ZN{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let s=[];try{s=cn(l.turns),t.isVertexAI()||(s=s.map(r=>ko(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:s,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let s=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?s=l.functionResponses:s=[l.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(YN)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},QN),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:yT(t)}:l={realtimeInput:vT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function WN(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function e1(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vp=10;function yp(i){var t,l,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const h of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Hl(h)){r=!0;break}if(!r)return!0;const d=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Hl(i){return"callTool"in i&&typeof i.callTool=="function"}function t1(i){var t,l,s;return(s=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Hl(r)))!==null&&s!==void 0?s:!1}function bp(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(Hl(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(r)}),l}function Sp(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n1 extends Jn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var s,r,d,h,x;const v=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!t1(l)||yp(l.config))return await this.generateContentInternal(v);const g=bp(l);if(g.length>0){const w=g.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let y,S;const T=cn(v.contents),A=(d=(r=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:vp;let N=0;for(;N<A&&(y=await this.generateContentInternal(v),!(!y.functionCalls||y.functionCalls.length===0));){const w=y.candidates[0].content,M=[];for(const U of(x=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&x!==void 0?x:[])if(Hl(U)){const j=await U.callTool(y.functionCalls);M.push(...j)}N++,S={role:"user",parts:M},v.contents=cn(v.contents),v.contents.push(w),v.contents.push(S),Sp(v.config)&&(T.push(w),T.push(S))}return Sp(v.config)&&(y.automaticFunctionCallingHistory=T),y},this.generateContentStream=async l=>{var s,r,d,h,x;if(this.maybeMoveToResponseJsonSchem(l),yp(l.config)){const S=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(S)}const v=bp(l);if(v.length>0){const S=v.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(d=(r=(s=l==null?void 0:l.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,y=(x=(h=l==null?void 0:l.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||x===void 0?void 0:x.disable;if(g&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(s=>{var r;let d;const h=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:h.push(v);let x;return d?x={generatedImages:h,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:x={generatedImages:h,sdkHttpResponse:s.sdkHttpResponse},x}),this.list=async l=>{var s;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((s=h.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Ji(Kn.PAGED_ITEM_MODELS,x=>this.listInternal(x),await this.listInternal(h),h)},this.editImage=async l=>{const s={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(s.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async l=>{let s={numberOfImages:1,mode:"upscale"};l.config&&(s=Object.assign(Object.assign({},s),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var s,r,d,h,x,v;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=l.video)===null||s===void 0)&&s.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((h=(d=l.source)===null||d===void 0?void 0:d.video)===null||h===void 0)&&h.uri&&(!((v=(x=l.source)===null||x===void 0?void 0:x.video)===null||v===void 0)&&v.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,s,r;const d=(l=t.config)===null||l===void 0?void 0:l.tools;if(!d)return t;const h=await Promise.all(d.map(async v=>Hl(v)?await v.tool():v)),x={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(x.config.tools=h,t.config&&t.config.tools&&xg(t.config.tools)){const v=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),vg(g),x.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return x}async initAfcToolsMap(t){var l,s,r;const d=new Map;for(const h of(s=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(Hl(h)){const x=h,v=await x.tool();for(const g of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(d.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);d.set(g.name,x)}}return d}async processAfcStream(t){var l,s,r;const d=(r=(s=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:vp;let h=!1,x=0;const v=await this.initAfcToolsMap(t);return(function(g,y,S){return yn(this,arguments,function*(){for(var T,A,N,w,M,U;x<d;){h&&(x++,h=!1);const ne=yield Ae(g.processParamsMaybeAddMcpUsage(S)),se=yield Ae(g.generateContentStreamInternal(ne)),$=[],pe=[];try{for(var X=!0,j=(A=void 0,bn(se)),K;K=yield Ae(j.next()),T=K.done,!T;X=!0){w=K.value,X=!1;const te=w;if(yield yield Ae(te),te.candidates&&(!((M=te.candidates[0])===null||M===void 0)&&M.content)){pe.push(te.candidates[0].content);for(const ee of(U=te.candidates[0].content.parts)!==null&&U!==void 0?U:[])if(x<d&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ee.functionCall.name)){const me=yield Ae(y.get(ee.functionCall.name).callTool([ee.functionCall]));$.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(te){A={error:te}}finally{try{!X&&!T&&(N=j.return)&&(yield Ae(N.call(j)))}finally{if(A)throw A.error}}if($.length>0){h=!0;const te=new Ba;te.candidates=[{content:{role:"user",parts:$}}],yield yield Ae(te);const ee=[];ee.push(...pe),ee.push({role:"user",parts:$});const me=cn(S.contents).concat(ee);S.contents=me}else break}})})(this,v,t)}async generateContentInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=hp(this.apiClient,t);return x=oe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=gp(y),T=new Ba;return Object.assign(T,S),T})}else{const g=mp(this.apiClient,t);return x=oe("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=pp(y),T=new Ba;return Object.assign(T,S),T})}}async generateContentStreamInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=hp(this.apiClient,t);return x=oe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),h.then(function(S){return yn(this,arguments,function*(){var T,A,N,w;try{for(var M=!0,U=bn(S),X;X=yield Ae(U.next()),T=X.done,!T;M=!0){w=X.value,M=!1;const j=w,K=gp(yield Ae(j.json()));K.sdkHttpResponse={headers:j.headers};const ne=new Ba;Object.assign(ne,K),yield yield Ae(ne)}}catch(j){A={error:j}}finally{try{!M&&!T&&(N=U.return)&&(yield Ae(N.call(U)))}finally{if(A)throw A.error}}})})}else{const g=mp(this.apiClient,t);return x=oe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),h.then(function(S){return yn(this,arguments,function*(){var T,A,N,w;try{for(var M=!0,U=bn(S),X;X=yield Ae(U.next()),T=X.done,!T;M=!0){w=X.value,M=!1;const j=w,K=pp(yield Ae(j.json()));K.sdkHttpResponse={headers:j.headers};const ne=new Ba;Object.assign(ne,K),yield yield Ae(ne)}}catch(j){A={error:j}}finally{try{!M&&!T&&(N=U.return)&&(yield Ae(N.call(U)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=XT(this.apiClient,t);return x=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=ZT(y),T=new Xh;return Object.assign(T,S),T})}else{const g=$T(this.apiClient,t);return x=oe("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=QT(y),T=new Xh;return Object.assign(T,S),T})}}async generateImagesInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=uE(this.apiClient,t);return x=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=dE(y),T=new Qh;return Object.assign(T,S),T})}else{const g=rE(this.apiClient,t);return x=oe("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=cE(y),T=new Qh;return Object.assign(T,S),T})}}async editImageInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=FT(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=KT(v),y=new eb;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=uN(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=cN(v),y=new tb;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=VE(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=FE(v),y=new nb;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=QE(this.apiClient,t);return d=oe("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=ZE(v),y=new ib;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=kE(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>yc(y))}else{const g=CE(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>vc(y))}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=PE(this.apiClient,t);return x=oe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=zE(y),T=new Zh;return Object.assign(T,S),T})}else{const g=GE(this.apiClient,t);return x=oe("{models_url}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=HE(y),T=new Zh;return Object.assign(T,S),T})}}async update(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=oN(this.apiClient,t);return x=oe("{model}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>yc(y))}else{const g=sN(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>vc(y))}}async delete(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=jT(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=OT(y),T=new Wh;return Object.assign(T,S),T})}else{const g=BT(this.apiClient,t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=qT(y),T=new Wh;return Object.assign(T,S),T})}}async countTokens(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=PT(this.apiClient,t);return x=oe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=zT(y),T=new ep;return Object.assign(T,S),T})}else{const g=GT(this.apiClient,t);return x=oe("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=HT(y),T=new ep;return Object.assign(T,S),T})}}async computeTokens(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=wT(this.apiClient,t);return d=oe("{model}:computeTokens",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const g=MT(v),y=new lb;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=xE(this.apiClient,t);return x=oe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h.then(y=>{const S=pE(y),T=new So;return Object.assign(T,S),T})}else{const g=gE(this.apiClient,t);return x=oe("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h.then(y=>{const S=hE(y),T=new So;return Object.assign(T,S),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i1 extends Jn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=Yy(t);return x=oe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),h}else{const g=Jy(t);return x=oe("{operationName}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),h}}async fetchPredictVideosOperationInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=By(t);return d=oe("{resourceName}:fetchPredictOperation",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l1(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function a1(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>h1(d))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function s1(i,t,l){const s={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);l!==void 0&&d!=null&&f(l,["newSessionExpireTime"],d);const h=u(t,["uses"]);l!==void 0&&h!=null&&f(l,["uses"],h);const x=u(t,["liveConnectConstraints"]);l!==void 0&&x!=null&&f(l,["bidiGenerateContentSetup"],m1(i,x));const v=u(t,["lockAdditionalFields"]);return l!==void 0&&v!=null&&f(l,["fieldMask"],v),s}function o1(i,t){const l={},s=u(t,["config"]);return s!=null&&f(l,["config"],s1(i,s,l)),l}function r1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function u1(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function c1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function d1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function f1(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const x=u(i,["topK"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","topK"],x);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],jc(S));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","thinkingConfig"],T);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],a1(At(N)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let se=ql(w);Array.isArray(se)&&(se=se.map($=>g1(jl($)))),f(t,["setup","tools"],se)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],p1(M));const U=u(i,["inputAudioTranscription"]);t!==void 0&&U!=null&&f(t,["setup","inputAudioTranscription"],U);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&f(t,["setup","realtimeInputConfig"],j);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&f(t,["setup","contextWindowCompression"],K);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&f(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function m1(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],qe(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],f1(r,l)),l}function h1(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&f(t,["fileData"],r1(d));const h=u(i,["functionCall"]);h!=null&&f(t,["functionCall"],u1(h));const x=u(i,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],l1(v));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const T=u(i,["videoMetadata"]);return T!=null&&f(t,["videoMetadata"],T),t}function p1(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function g1(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],c1(h));const x=u(i,["googleSearch"]);x!=null&&f(t,["googleSearch"],d1(x));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x1(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const s=i[l];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${l}.${d}`);t.push(...r)}else t.push(l)}return t.join(",")}function v1(i,t){let l=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const d=x1(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let x=[];r.length>0&&(x=r.map(g=>h.includes(g)?`generationConfig.${g}`:g));const v=[];d&&v.push(d),x.length>0&&v.push(...x),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class y1 extends Jn{constructor(t){super(),this.apiClient=t}async create(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const x=o1(this.apiClient,t);d=oe("auth_tokens",x._url),h=x._query,delete x.config,delete x._url,delete x._query;const v=v1(x,t.config);return r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b1(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),l}function S1(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&b1(s,t),t}function T1(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function E1(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function N1(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const s=u(i,["config"]);return s!=null&&E1(s,t),t}function A1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _1 extends Jn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Ji(Kn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:l.parent,config:s.config}),await this.listInternal(l),l)}async get(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=T1(t);return d=oe("{name}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=S1(t);r=oe("{name}",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=N1(t);return d=oe("{parent}/documents",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=A1(v),y=new ab;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C1 extends Jn{constructor(t,l=new _1(t)){super(),this.apiClient=t,this.documents=l,this.list=async(s={})=>new Ji(Kn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=xN(t);return d=oe("fileSearchStores",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=bN(t);return d=oe("{name}",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yN(t);r=oe("{name}",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=_N(t);return d=oe("fileSearchStores",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=CN(v),y=new sb;return Object.assign(y,g),y})}}async uploadToFileSearchStoreInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=kN(t);return d=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=wN(v),y=new ob;return Object.assign(y,g),y})}}async importFile(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=EN(t);return d=oe("{file_search_store_name}:importFile",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const g=TN(v),y=new Gc;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return yg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^l()&15>>+s/4).toString(16))};const k1=()=>yg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Tc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fn extends Error{}class Dt extends fn{constructor(t,l,s,r){super(`${Dt.makeMessage(t,l,s)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,s){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,s,r){if(!t||!r)return new Ro({message:s,cause:Tc(l)});const d=l;return t===400?new Sg(t,d,s,r):t===401?new Tg(t,d,s,r):t===403?new Eg(t,d,s,r):t===404?new Ng(t,d,s,r):t===409?new Ag(t,d,s,r):t===422?new _g(t,d,s,r):t===429?new Cg(t,d,s,r):t>=500?new kg(t,d,s,r):new Dt(t,d,s,r)}}class Ec extends Dt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ro extends Dt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class bg extends Ro{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Sg extends Dt{}class Tg extends Dt{}class Eg extends Dt{}class Ng extends Dt{}class Ag extends Dt{}class _g extends Dt{}class Cg extends Dt{}class kg extends Dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w1=/^[a-z][a-z0-9+.-]*:/i,M1=i=>w1.test(i);let Nc=i=>(Nc=Array.isArray,Nc(i));const R1=Nc;let I1=R1;const Tp=I1;function D1(i){if(!i)return!0;for(const t in i)return!1;return!0}function U1(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const L1=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new fn(`${i} must be an integer`);if(t<0)throw new fn(`${i} must be a positive integer`);return t},G1=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P1=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ul="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const z1=()=>{var i,t,l,s,r;const d=H1();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":Np(Deno.build.os),"X-Stainless-Arch":Ep(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":Np((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Ep((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const h=B1();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function B1(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const s=l.exec(navigator.userAgent);if(s){const r=s[1]||0,d=s[2]||0,h=s[3]||0;return{browser:t,version:`${r}.${d}.${h}`}}}return null}const Ep=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Np=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let co;const j1=()=>co??(co=z1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function wg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function O1(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return wg({start(){},async pull(l){const{done:s,value:r}=await t.next();s?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Mg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function V1(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F1=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function rc(i,t,l){return Rg(),new File(i,t??"unknown_file",l)}function K1(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const J1=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Y1=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ig(i),$1=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function X1(i,t,l){if(Rg(),i=await i,Y1(i))return i instanceof File?i:rc([await i.arrayBuffer()],i.name);if($1(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),rc(await Ac(r),t,l)}const s=await Ac(i);if(t||(t=K1(i)),!(l!=null&&l.type)){const r=s.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return rc(s,t,l)}async function Ac(i){var t,l,s,r,d;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(Ig(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(J1(i))try{for(var x=!0,v=bn(i),g;g=await v.next(),t=g.done,!t;x=!0){r=g.value,x=!1;const y=r;h.push(...await Ac(y))}}catch(y){l={error:y}}finally{try{!x&&!t&&(s=v.return)&&await s.call(v)}finally{if(l)throw l.error}}else{const y=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${y?`; constructor: ${y}`:""}${Q1(i)}`)}return h}function Q1(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dg{constructor(t){this._client=t}}Dg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ug(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ap=Object.freeze(Object.create(null)),Z1=(i=Ug)=>(function(l,...s){if(l.length===1)return l[0];let r=!1;const d=[],h=l.reduce((y,S,T)=>{var A,N,w;/[?#]/.test(S)&&(r=!0);const M=s[T];let U=(r?encodeURIComponent:i)(""+M);return T!==s.length&&(M==null||typeof M=="object"&&M.toString===((w=Object.getPrototypeOf((N=Object.getPrototypeOf((A=M.hasOwnProperty)!==null&&A!==void 0?A:Ap))!==null&&N!==void 0?N:Ap))===null||w===void 0?void 0:w.toString))&&(U=M+"",d.push({start:y.length+S.length,length:U.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),y+S+(T===s.length?"":U)},""),x=h.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=v.exec(x))!==null;)d.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(d.sort((y,S)=>y.start-S.start),d.length>0){let y=0;const S=d.reduce((T,A)=>{const N=" ".repeat(A.start-y),w="^".repeat(A.length);return y=A.start+A.length,T+N+w},"");throw new fn(`Path parameters result in path with invalid segments:
${d.map(T=>T.error).join(`
`)}
${h}
${S}`)}return h}),fo=Z1(Ug);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lg extends Dg{create(t,l){var s;const{api_version:r=this._client.apiVersion}=t,d=Eo(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new fn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new fn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(fo`/${r}/interactions`,Object.assign(Object.assign({body:d},l),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(fo`/${r}/interactions/${t}`,s)}cancel(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(fo`/${r}/interactions/${t}/cancel`,s)}get(t,l={},s){var r;const d=l??{},{api_version:h=this._client.apiVersion}=d,x=Eo(d,["api_version"]);return this._client.get(fo`/${h}/interactions/${t}`,Object.assign(Object.assign({query:x},s),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Lg._key=Object.freeze(["interactions"]);class Gg extends Lg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W1(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let s=0;for(const r of i)l.set(r,s),s+=r.length;return l}let mo;function Oc(i){let t;return(mo??(t=new globalThis.TextEncoder,mo=t.encode.bind(t)))(i)}let ho;function _p(i){let t;return(ho??(t=new globalThis.TextDecoder,ho=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Io{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Oc(t):t;this.buffer=W1([this.buffer,l]);const s=[];let r;for(;(r=eA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(_p(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,h=_p(this.buffer.subarray(0,d));s.push(h),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Io.NEWLINE_CHARS=new Set([`
`,"\r"]);Io.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function tA(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const No={off:0,error:200,warn:300,info:400,debug:500},Cp=(i,t,l)=>{if(i){if(U1(No,i))return i;Rt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(No))}`)}};function qa(){}function po(i,t,l){return!t||No[i]>No[l]?qa:t[i].bind(t)}const nA={error:qa,warn:qa,info:qa,debug:qa};let kp=new WeakMap;function Rt(i){var t;const l=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return nA;const r=kp.get(l);if(r&&r[0]===s)return r[1];const d={error:po("error",l,s),warn:po("warn",l,s),info:po("info",l,s),debug:po("debug",l,s)};return kp.set(l,[s,d]),d}const Oi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gl{constructor(t,l,s){this.iterator=t,this.controller=l,this.client=s}static fromSSEResponse(t,l,s){let r=!1;const d=s?Rt(s):console;function h(){return yn(this,arguments,function*(){var v,g,y,S;if(r)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var A=!0,N=bn(iA(t,l)),w;w=yield Ae(N.next()),v=w.done,!v;A=!0){S=w.value,A=!1;const M=S;if(!T)if(M.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Ae(JSON.parse(M.data))}catch(U){throw d.error("Could not parse message into JSON:",M.data),d.error("From chunk:",M.raw),U}}}catch(M){g={error:M}}finally{try{!A&&!v&&(y=N.return)&&(yield Ae(y.call(N)))}finally{if(g)throw g.error}}T=!0}catch(M){if(Sc(M))return yield Ae(void 0);throw M}finally{T||l.abort()}})}return new Gl(h,l,s)}static fromReadableStream(t,l,s){let r=!1;function d(){return yn(this,arguments,function*(){var v,g,y,S;const T=new Io,A=Mg(t);try{for(var N=!0,w=bn(A),M;M=yield Ae(w.next()),v=M.done,!v;N=!0){S=M.value,N=!1;const U=S;for(const X of T.decode(U))yield yield Ae(X)}}catch(U){g={error:U}}finally{try{!N&&!v&&(y=w.return)&&(yield Ae(y.call(w)))}finally{if(g)throw g.error}}for(const U of T.flush())yield yield Ae(U)})}function h(){return yn(this,arguments,function*(){var v,g,y,S;if(r)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var A=!0,N=bn(d()),w;w=yield Ae(N.next()),v=w.done,!v;A=!0){S=w.value,A=!1;const M=S;T||M&&(yield yield Ae(JSON.parse(M)))}}catch(M){g={error:M}}finally{try{!A&&!v&&(y=N.return)&&(yield Ae(y.call(N)))}finally{if(g)throw g.error}}T=!0}catch(M){if(Sc(M))return yield Ae(void 0);throw M}finally{T||l.abort()}})}return new Gl(h,l,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],s=this.iterator(),r=d=>({next:()=>{if(d.length===0){const h=s.next();t.push(h),l.push(h)}return d.shift()}});return[new Gl(()=>r(t),this.controller,this.client),new Gl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return wg({async start(){l=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:d}=await l.next();if(d)return s.close();const h=Oc(JSON.stringify(r)+`
`);s.enqueue(h)}catch(r){s.error(r)}},async cancel(){var s;await((s=l.return)===null||s===void 0?void 0:s.call(l))}})}}function iA(i,t){return yn(this,arguments,function*(){var s,r,d,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fn("Attempted to iterate over a response with no body");const x=new aA,v=new Io,g=Mg(i.body);try{for(var y=!0,S=bn(lA(g)),T;T=yield Ae(S.next()),s=T.done,!s;y=!0){h=T.value,y=!1;const A=h;for(const N of v.decode(A)){const w=x.decode(N);w&&(yield yield Ae(w))}}}catch(A){r={error:A}}finally{try{!y&&!s&&(d=S.return)&&(yield Ae(d.call(S)))}finally{if(r)throw r.error}}for(const A of v.flush()){const N=x.decode(A);N&&(yield yield Ae(N))}})}function lA(i){return yn(this,arguments,function*(){var l,s,r,d;let h=new Uint8Array;try{for(var x=!0,v=bn(i),g;g=yield Ae(v.next()),l=g.done,!l;x=!0){d=g.value,x=!1;const y=d;if(y==null)continue;const S=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Oc(y):y;let T=new Uint8Array(h.length+S.length);T.set(h),T.set(S,h.length),h=T;let A;for(;(A=tA(h))!==-1;)yield yield Ae(h.slice(0,A)),h=h.slice(A)}}catch(y){s={error:y}}finally{try{!x&&!l&&(r=v.return)&&(yield Ae(r.call(v)))}finally{if(s)throw s.error}}h.length>0&&(yield yield Ae(h))})}class aA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,s,r]=sA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function sA(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oA(i,t){const{response:l,requestLogID:s,retryOfRequestLogID:r,startTime:d}=t,h=await(async()=>{var x;if(t.options.stream)return Rt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Gl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const v=l.headers.get("content-type"),g=(x=v==null?void 0:v.split(";")[0])===null||x===void 0?void 0:x.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await l.json():await l.text()})();return Rt(i).debug(`[${s}] response parsed`,Oi({retryOfRequestLogID:r,url:l.url,status:l.status,body:h,durationMs:Date.now()-d})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vc extends Promise{constructor(t,l,s=oA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Vc(this.client,this.responsePromise,async(l,s)=>t(await this.parseResponse(l,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pg=Symbol("brand.privateNullableHeaders");function*rA(i){if(!i)return;if(Pg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const d of r)yield[d,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Tp(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let s of l){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Tp(s[1])?s[1]:[s[1]];let h=!1;for(const x of d)x!==void 0&&(t&&!h&&(h=!0,yield[r,null]),yield[r,x])}}const ja=i=>{const t=new Headers,l=new Set;for(const s of i){const r=new Set;for(const[d,h]of rA(s)){const x=d.toLowerCase();r.has(x)||(t.delete(d),r.add(x)),h===null?(t.delete(d),l.add(x)):(t.append(d,h),l.delete(x))}}return{[Pg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uc=i=>{var t,l,s,r,d,h;if(typeof globalThis.process<"u")return(s=(l=(t=Uy)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hg;class Do{constructor(t){var l,s,r,d,h,x,v,{baseURL:g=uc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(l=uc("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:S="v1beta"}=t,T=Eo(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:y,apiVersion:S},T),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(s=A.timeout)!==null&&s!==void 0?s:Do.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(h=(d=Cp(A.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:Cp(uc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:N,this.fetchOptions=A.fetchOptions,this.maxRetries=(x=A.maxRetries)!==null&&x!==void 0?x:2,this.fetch=(v=A.fetch)!==null&&v!==void 0?v:q1(),this.encoder=F1,this._options=A,this.apiKey=y,this.apiVersion=S,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=ja([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return ja([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ja([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,s])=>typeof s<"u").map(([l,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(l)}=`;throw new fn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ul}`}defaultIdempotencyKey(){return`stainless-node-retry-${k1()}`}makeStatusError(t,l,s,r){return Dt.generate(t,l,s,r)}buildURL(t,l,s){const r=!this.baseURLOverridden()&&s||this.baseURL,d=M1(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return D1(h)||(l=Object.assign(Object.assign({},h),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(d.search=this.stringifyQuery(l)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:s}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Vc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,s){var r,d,h;const x=await t,v=(r=x.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=v),await this.prepareOptions(x);const{req:g,url:y,timeout:S}=await this.buildRequest(x,{retryCount:v-l});await this.prepareRequest(g,{url:y,options:x});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(Rt(this).debug(`[${T}] sending request`,Oi({retryOfRequestLogID:s,method:x.method,url:y,options:x,headers:g.headers})),!((d=x.signal)===null||d===void 0)&&d.aborted)throw new Ec;const w=new AbortController,M=await this.fetchWithTimeout(y,g,S,w).catch(Tc),U=Date.now();if(M instanceof globalThis.Error){const j=`retrying, ${l} attempts remaining`;if(!((h=x.signal)===null||h===void 0)&&h.aborted)throw new Ec;const K=Sc(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(l)return Rt(this).info(`[${T}] connection ${K?"timed out":"failed"} - ${j}`),Rt(this).debug(`[${T}] connection ${K?"timed out":"failed"} (${j})`,Oi({retryOfRequestLogID:s,url:y,durationMs:U-N,message:M.message})),this.retryRequest(x,l,s??T);throw Rt(this).info(`[${T}] connection ${K?"timed out":"failed"} - error; no more retries left`),Rt(this).debug(`[${T}] connection ${K?"timed out":"failed"} (error; no more retries left)`,Oi({retryOfRequestLogID:s,url:y,durationMs:U-N,message:M.message})),K?new bg:new Ro({cause:M})}const X=`[${T}${A}] ${g.method} ${y} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${U-N}ms`;if(!M.ok){const j=await this.shouldRetry(M);if(l&&j){const te=`retrying, ${l} attempts remaining`;return await V1(M.body),Rt(this).info(`${X} - ${te}`),Rt(this).debug(`[${T}] response error (${te})`,Oi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:U-N})),this.retryRequest(x,l,s??T,M.headers)}const K=j?"error; no more retries left":"error; not retryable";Rt(this).info(`${X} - ${K}`);const ne=await M.text().catch(te=>Tc(te).message),se=G1(ne),$=se?void 0:ne;throw Rt(this).debug(`[${T}] response error (${K})`,Oi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,message:$,durationMs:Date.now()-N})),this.makeStatusError(M.status,se,$,M.headers)}return Rt(this).info(X),Rt(this).debug(`[${T}] response start`,Oi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:U-N})),{response:M,options:x,controller:w,requestLogID:T,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(t,l,s,r){const d=l||{},{signal:h,method:x}=d,v=Eo(d,["signal","method"]);h&&h.addEventListener("abort",()=>r.abort());const g=setTimeout(()=>r.abort(),s),y=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},y?{duplex:"half"}:{}),{method:"GET"}),v);x&&(S.method=x.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(g)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,s,r){var d;let h;const x=r==null?void 0:r.get("retry-after-ms");if(x){const g=parseFloat(x);Number.isNaN(g)||(h=g)}const v=r==null?void 0:r.get("retry-after");if(v&&!h){const g=parseFloat(v);Number.isNaN(g)?h=Date.parse(v)-Date.now():h=g*1e3}if(!(h&&0<=h&&h<60*1e3)){const g=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(l,g)}return await P1(h),this.makeRequest(t,l-1,s)}calculateDefaultRetryTimeoutMillis(t,l){const d=l-t,h=Math.min(.5*Math.pow(2,d),8),x=1-Math.random()*.25;return h*x*1e3}async buildRequest(t,{retryCount:l=0}={}){var s,r,d;const h=Object.assign({},t),{method:x,path:v,query:g,defaultBaseURL:y}=h,S=this.buildURL(v,g,y);"timeout"in h&&L1("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:h}),N=await this.buildHeaders({options:t,method:x,bodyHeaders:T,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:x,headers:N},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=h.fetchOptions)!==null&&d!==void 0?d:{}),url:S,timeout:h.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:s,retryCount:r}){let d={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let x=ja([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),j1()),this._options.defaultHeaders,s,t.headers,h]);return this.validateHeaders(x),x.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=ja([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:O1(t)}:this.encoder({body:t,headers:s})}}Do.DEFAULT_TIMEOUT=6e4;class vt extends Do{constructor(){super(...arguments),this.interactions=new Gg(this)}}Hg=vt;vt.GeminiNextGenAPIClient=Hg;vt.GeminiNextGenAPIClientError=fn;vt.APIError=Dt;vt.APIConnectionError=Ro;vt.APIConnectionTimeoutError=bg;vt.APIUserAbortError=Ec;vt.NotFoundError=Ng;vt.ConflictError=Ag;vt.RateLimitError=Cg;vt.BadRequestError=Sg;vt.AuthenticationError=Tg;vt.InternalServerError=kg;vt.PermissionDeniedError=Eg;vt.UnprocessableEntityError=_g;vt.toFile=X1;vt.Interactions=Gg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function cA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function dA(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function fA(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function mA(i,t,l){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&f(t,["tuningTask","hyperparameters","epochCount"],d);const h=u(i,["learningRateMultiplier"]);if(h!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const x=u(i,["batchSize"]);t!==void 0&&x!=null&&f(t,["tuningTask","hyperparameters","batchSize"],x);const v=u(i,["learningRate"]);if(t!==void 0&&v!=null&&f(t,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function hA(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&f(t,["supervisedTuningSpec"],wp(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&f(t,["preferenceOptimizationSpec"],wp(A))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&f(t,["tunedModelDisplayName"],d);const h=u(i,["description"]);t!==void 0&&h!=null&&f(t,["description"],h);let x=u(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(x==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const T=u(i,["beta"]);return t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function pA(i,t){const l={},s=u(i,["baseModel"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&_A(d);const h=u(i,["config"]);return h!=null&&mA(h,l),l}function gA(i,t){const l={},s=u(i,["baseModel"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&CA(d,l,t);const h=u(i,["config"]);return h!=null&&hA(h,l,t),l}function xA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function vA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function yA(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const h=u(i,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),s}function bA(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const h=u(i,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),s}function SA(i,t){const l={},s=u(i,["config"]);return s!=null&&yA(s,l),l}function TA(i,t){const l={},s=u(i,["config"]);return s!=null&&bA(s,l),l}function EA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>zg(x))),f(l,["tuningJobs"],h)}return l}function NA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>_c(x))),f(l,["tuningJobs"],h)}return l}function AA(i,t){const l={},s=u(i,["name"]);s!=null&&f(l,["model"],s);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function _A(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),f(l,["examples","examples"],r)}return l}function CA(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=u(i,["gcsUri"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(r==="PREFERENCE_TUNING"){const h=u(i,["gcsUri"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let d=u(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=u(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(d==="PREFERENCE_TUNING"){const h=u(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function zg(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const d=u(i,["state"]);d!=null&&f(l,["state"],tg(d));const h=u(i,["createTime"]);h!=null&&f(l,["createTime"],h);const x=u(i,["tuningTask","startTime"]);x!=null&&f(l,["startTime"],x);const v=u(i,["tuningTask","completeTime"]);v!=null&&f(l,["endTime"],v);const g=u(i,["updateTime"]);g!=null&&f(l,["updateTime"],g);const y=u(i,["description"]);y!=null&&f(l,["description"],y);const S=u(i,["baseModel"]);S!=null&&f(l,["baseModel"],S);const T=u(i,["_self"]);return T!=null&&f(l,["tunedModel"],AA(T)),l}function _c(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const d=u(i,["state"]);d!=null&&f(l,["state"],tg(d));const h=u(i,["createTime"]);h!=null&&f(l,["createTime"],h);const x=u(i,["startTime"]);x!=null&&f(l,["startTime"],x);const v=u(i,["endTime"]);v!=null&&f(l,["endTime"],v);const g=u(i,["updateTime"]);g!=null&&f(l,["updateTime"],g);const y=u(i,["error"]);y!=null&&f(l,["error"],y);const S=u(i,["description"]);S!=null&&f(l,["description"],S);const T=u(i,["baseModel"]);T!=null&&f(l,["baseModel"],T);const A=u(i,["tunedModel"]);A!=null&&f(l,["tunedModel"],A);const N=u(i,["preTunedModel"]);N!=null&&f(l,["preTunedModel"],N);const w=u(i,["supervisedTuningSpec"]);w!=null&&f(l,["supervisedTuningSpec"],w);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&f(l,["preferenceOptimizationSpec"],M);const U=u(i,["tuningDataStats"]);U!=null&&f(l,["tuningDataStats"],U);const X=u(i,["encryptionSpec"]);X!=null&&f(l,["encryptionSpec"],X);const j=u(i,["partnerModelTuningSpec"]);j!=null&&f(l,["partnerModelTuningSpec"],j);const K=u(i,["customBaseModel"]);K!=null&&f(l,["customBaseModel"],K);const ne=u(i,["experiment"]);ne!=null&&f(l,["experiment"],ne);const se=u(i,["labels"]);se!=null&&f(l,["labels"],se);const $=u(i,["outputUri"]);$!=null&&f(l,["outputUri"],$);const pe=u(i,["pipelineJob"]);pe!=null&&f(l,["pipelineJob"],pe);const te=u(i,["serviceAccount"]);te!=null&&f(l,["serviceAccount"],te);const ee=u(i,["tunedModelDisplayName"]);ee!=null&&f(l,["tunedModelDisplayName"],ee);const me=u(i,["veoTuningSpec"]);return me!=null&&f(l,["veoTuningSpec"],me),l}function kA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const d=u(i,["metadata"]);d!=null&&f(l,["metadata"],d);const h=u(i,["done"]);h!=null&&f(l,["done"],h);const x=u(i,["error"]);return x!=null&&f(l,["error"],x),l}function wp(i,t){const l={},s=u(i,["gcsUri"]);s!=null&&f(l,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA extends Jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Kn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var s;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((s=l.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),d=await this.tuneMldevInternal(r);let h="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?h=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(h=d.name.split("/operations/")[0]),{name:h,state:hc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=vA(t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>_c(y))}else{const g=xA(t);return x=oe("{name}",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>zg(y))}}async listInternal(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=TA(t);return x=oe("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=NA(y),T=new tp;return Object.assign(T,S),T})}else{const g=SA(t);return x=oe("tunedModels",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=EA(y),T=new tp;return Object.assign(T,S),T})}}async cancel(t){var l,s,r,d;let h,x="",v={};if(this.apiClient.isVertexAI()){const g=cA(t);return x=oe("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=fA(y),T=new np;return Object.assign(T,S),T})}else{const g=uA(t);return x=oe("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(S=>{const T=S;return T.sdkHttpResponse={headers:y.headers},T})),h.then(y=>{const S=dA(y),T=new np;return Object.assign(T,S),T})}}async tuneInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI()){const x=gA(t,t);return d=oe("tuningJobs",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>_c(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,s;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=pA(t);return d=oe("tunedModels",x._url),h=x._query,delete x._url,delete x._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>kA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const RA=1024*1024*8,IA=3,DA=1e3,UA=2,Ao="x-goog-upload-status";async function LA(i,t,l){var s;const r=await Bg(i,t,l),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ao])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function GA(i,t,l){var s;const r=await Bg(i,t,l),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ao])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=$p(d),x=new Pc;return Object.assign(x,h),x}async function Bg(i,t,l){var s,r;let d=0,h=0,x=new pc(new Response),v="upload";for(d=i.size;h<d;){const g=Math.min(RA,d-h),y=i.slice(h,h+g);h+g>=d&&(v+=", finalize");let S=0,T=DA;for(;S<IA&&(x=await l.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(h),"Content-Length":String(g)}}}),!(!((s=x==null?void 0:x.headers)===null||s===void 0)&&s[Ao]));)S++,await HA(T),T=T*UA;if(h+=g,((r=x==null?void 0:x.headers)===null||r===void 0?void 0:r[Ao])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return x}async function PA(i){return{size:i.size,type:i.type}}function HA(i){return new Promise(t=>setTimeout(t,i))}class zA{async upload(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await LA(t,l,s)}async uploadToFileSearchStore(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GA(t,l,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await PA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BA{create(t,l,s){return new jA(t,l,s)}}class jA{constructor(t,l,s){this.url=t,this.headers=l,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mp="x-goog-api-key";class qA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Mp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Mp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OA="gl-node/";class VA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new vt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const s=Hy(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new qA(this.apiKey);this.apiClient=new PN({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:OA+"web",uploader:new zA,downloader:new MA}),this.models=new n1(this.apiClient),this.live=new XN(this.apiClient,r,new BA),this.batches=new mS(this.apiClient),this.chats=new YS(this.models,this.apiClient),this.caches=new FS(this.apiClient),this.files=new lT(this.apiClient),this.operations=new i1(this.apiClient),this.authTokens=new y1(this.apiClient),this.tunings=new wA(this.apiClient),this.fileSearchStores=new C1(this.apiClient)}}const FA=new VA({apiKey:"PLACEHOLDER_API_KEY"});function Rp(i){const t=[...i];for(let l=t.length-1;l>0;l--){const s=Math.floor(Math.random()*(l+1));[t[l],t[s]]=[t[s],t[l]]}return t}const jg={type:ae.OBJECT,properties:{id:{type:ae.STRING},type:{type:ae.STRING,enum:["multiple_choice","short_answer","long_text"]},content:{type:ae.STRING},options:{type:ae.ARRAY,items:{type:ae.STRING}},correctAnswer:{type:ae.STRING},tkpPoints:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{option:{type:ae.STRING},points:{type:ae.INTEGER}}}},explanation:{type:ae.STRING},shortcut:{type:ae.STRING},metadata:{type:ae.OBJECT,properties:{difficulty:{type:ae.STRING,enum:["Easy","Medium","Hard","HOTS"]},idealTimeSeconds:{type:ae.INTEGER},topic:{type:ae.STRING},subtest:{type:ae.STRING},trapPattern:{type:ae.STRING}}}},required:["id","type","content","correctAnswer","explanation","metadata"]},KA={type:ae.OBJECT,properties:{questions:{type:ae.ARRAY,items:jg}},required:["questions"]};async function _n(i,t,l){const s="gemini-3-flash-preview",r={temperature:.85,topP:.95,topK:40};t&&(r.responseMimeType="application/json",r.responseSchema=t);const d=[];l&&d.push({inlineData:{mimeType:"application/pdf",data:l}}),d.push({text:i});try{const x=(await FA.models.generateContent({model:s,contents:{role:"user",parts:d},config:r})).text;if(!x)throw new Error("Empty response from AI");if(t)try{let v=x.trim();return v.startsWith("```json")?v=v.replace(/^```json\n?/,"").replace(/\n?```$/,""):v.startsWith("```")&&(v=v.replace(/^```\n?/,"").replace(/\n?```$/,"")),JSON.parse(v)}catch(v){console.error("JSON Parse Error",v);const g=x.match(/\{[\s\S]*\}|\[[\s\S]*\]/);return g?JSON.parse(g[0]):x}return x}catch(h){throw console.error("Gemini API Error:",h),h}}function JA(i){return i.id||(i.id=`q-${Math.random().toString(36).substr(2,9)}`),i.type==="multiple_choice"&&((!i.options||i.options.length===0)&&(i.options=["Option A","Option B","Option C","Option D","Option E"]),i.tkpPoints&&i.tkpPoints.length>0,i.options=Rp(i.options)),i}const It=async(i,t,l,s=5,r=[],d,h,x)=>{let v="",g;const y="CRITICAL: DETECT the language of the input material/context. The generated questions/answers MUST BE in the SAME LANGUAGE as the input (Bahasa Indonesia mostly).";let S=KA;if(t==="GENERAL"&&h){const N=l,w=N.type==="topic"?`Topic: ${N.content}`:"Material Content";N.type==="pdf"&&(g=N.content);const M=N.difficultyPreference||"MEDIUM",U=`DIFFICULTY LEVEL: ${M}. ${M==="HARD"?"Use complex analysis/HOTS.":M==="EASY"?"Use straightforward recall.":""}`;h==="ACTIVE_RECALL"?v=`Create ${s} Active Recall questions (Short Answer format) based on this: ${w}. 
          ${y} ${U}
          Questions must be specific and require recall of key facts/concepts.`:h==="PBL"?v=`Create ${s} Problem-Based Learning scenarios (Case Study).
          ${y} ${U}
          Format: 'long_text' or 'multiple_choice'.
          Based on: ${w}. 
          Each question should be a realistic scenario requiring application of the concept.`:v=`Create ${s} practice questions based on: ${w}. ${y} ${U}`,N.type==="text"&&(v+=`

CONTENT: ${N.content}`)}else{let N="";if(x?(N=`CONTEXT: ${t} - ${d||""}. DIFFICULTY: ${x}.`,x==="HOTS"&&(N+=" QUESTIONS MUST BE High Order Thinking Skills (Analyze, Evaluate, Create).")):t==="SKD"&&d?N=`CONTEXT: SKD ${d}. DIFFICULTY: STANDARD TO HOTS.`:t==="UTBK"?N="CONTEXT: UTBK SNBT 2025. DIFFICULTY: ADAPTIVE (HOTS).":t==="TPA"?N="CONTEXT: TPA (Tes Potensi Akademik) & TBI. High Logic Requirement.":t==="PSIKOTEST"?N=`
          CONTEXT: PROFESSIONAL PSYCHOMETRIC TEST (High IQ & Logical Reasoning).
          Generate ${s} questions distributed among these 4 subtest types:

          1. **Number Series (Deret Angka)**: 
             - Create complex sequences (e.g., Fibonacci, multi-level differences, alternating patterns).
             - Example: 2, 5, 10, 17, ... (n^2 + 1).

          2. **Verbal Analogy (Analogi Verbal)**:
             - Create 'Word A : Word B = Word C : ?' questions.
             - Relationships should be subtle (e.g., degree, cause-effect, antonyms).
             - Example: "Api : Panas = Es : Dingin" (Cause-Effect/Property).
          
          3. **Formal Logic (Silogisme)**:
             - Create syllogisms with 2 or 3 premises.
             - Use 'All', 'Some', 'None' quantifiers.
             - Ensure options have logical distractors.
             - Example: "Semua A adalah B. Sebagian B adalah C. Maka..."
          
          4. **Figural/Spatial (Tes Spasial)**:
             - Since this is text-based, describe the pattern in text format.
             - E.g., "Image A rotates 90 degrees clockwise. Image B is mirror of A. Image C is..."
          
          Instruction: "Options must be tricky. Explanation must be clear step-by-step logic."
          `:t==="INTERVIEW"?(N="CONTEXT: JOB/SCHOOL ADMISSION INTERVIEW.",S={type:ae.OBJECT,properties:{questions:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{id:{type:ae.STRING},type:{type:ae.STRING,enum:["long_text"]},content:{type:ae.STRING},explanation:{type:ae.STRING},metadata:{type:ae.OBJECT,properties:{topic:{type:ae.STRING}}}},required:["content","type"]}}}}):N="Standard difficulty.",t==="INTERVIEW")v=`Roleplay Task: Act as a professional HR Interviewer.
        Context: ${l}.
        Generate ${s} distinct interview questions. 
        Style: Conversational, direct, and engaging.
        Questions should range from introduction to behavioral/situational.
        Metadata subtest: "Interview".`;else{const w=`
            Generate ${s} questions.
            ${N}
            MANDATORY: Provide a DETAILED 'explanation' for the answer.
            MANDATORY METADATA:
            - idealTimeSeconds: Realistic time (e.g. 60s for Logic, 30s for Verbal).
            - subtest: Use specific names like "Deret Angka", "Analogi Verbal", "Silogisme", "Tes Spasial".
        `,M=typeof l=="string"&&l.toUpperCase().includes("TKP")||t==="SKD"&&x==="TKP";let U="";M&&(U=`
           CRITICAL RULES FOR TKP (Tes Karakteristik Pribadi):
           1. **AMBIGUITY & CONFUSION**: The distinction between the 5-point and 4-point answers MUST be very subtle.
           2. **SCORING LOGIC**:
              - 5 Points: Best answer (professional, proactive, leadership).
              - 4 Points: Good answer (standard procedure).
              - 3 Points: Neutral.
              - 1-2 Points: Negative.
           5. **FORMAT**: Provide 'tkpPoints' list mapping EACH option to a score 1-5.
           `),i===Ne.WEAKNESS?v=`WEAKNESS ATTACK MODE. User weak in: ${r.join(", ")}. ${N} ${U}`:i===Ne.ACTIVE_RECALL?v=`ACTIVE RECALL. Type: "short_answer". ${N}`:v=`TRY OUT / PRACTICE.
            Context: ${t} - ${JSON.stringify(l)}.
            ${w}
            ${U}`}}return((await _n(v,S,g)).questions||[]).filter(N=>!!N).map(N=>{const w=JA(N);return t==="INTERVIEW"&&(w.type="long_text",w.options=[]),w})},YA=async(i,t,l)=>{const s={type:ae.OBJECT,properties:{score:{type:ae.INTEGER,description:"Score from 0 to 100"},isCorrect:{type:ae.BOOLEAN,description:"True if score > 70"},feedback:{type:ae.STRING,description:"Constructive feedback"}},required:["score","isCorrect","feedback"]},r=`Evaluate this answer. 
  Question: ${i}
  Correct Answer / Key Concept: ${t}
  User Answer: ${l}
  
  Provide a score (0-100), boolean correctness, and feedback.`;return _n(r,s)},$A=async i=>{const t=`The user is weak in these topics: ${i.join(", ")}. Provide a concise, actionable study plan (3 paragraphs max) to improve.`;return _n(t)},XA=async(i,t)=>{const l={type:ae.OBJECT,properties:{score:{type:ae.INTEGER},feedback:{type:ae.STRING},improvedAnswer:{type:ae.STRING},keyPointsCovered:{type:ae.ARRAY,items:{type:ae.STRING}},toneAnalysis:{type:ae.STRING}},required:["score","feedback","improvedAnswer","toneAnalysis"]},s=`Evaluate this job interview answer given by a candidate.
  Question: ${i}
  Candidate Answer: ${t}
  
  Act as a senior HR manager. Critique the tone, content, and structure.
  `;return _n(s,l)},QA=async(i,t)=>{const l={type:ae.OBJECT,properties:{understandingScore:{type:ae.INTEGER},simplificationQuality:{type:ae.STRING},missingConcepts:{type:ae.ARRAY,items:{type:ae.STRING}},correction:{type:ae.STRING}},required:["understandingScore","simplificationQuality","correction"]},s=`Evaluate this Feynman Technique explanation. The user is trying to explain "${i}" to a 5-year old.
  Explanation: ${t}`;return _n(s,l)},ZA=async i=>i.type==="pdf"&&i.content?await _n("Extract and summarize the main text content from this PDF for study purposes. Ignore headers/footers.",void 0,i.content):i.content,WA=async(i,t)=>{const l=`Context: University Thesis (Skripsi). Topic: ${i}. Task: ${t}. Provide detailed output.`;return _n(l)},e_=async i=>{const t={type:ae.OBJECT,properties:{flashcards:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{id:{type:ae.STRING},front:{type:ae.STRING},back:{type:ae.STRING}},required:["front","back"]}}}},l=`Create 10 flashcards based on this material: ${i.extractedText||i.content}`;return(await _n(l,t)).flashcards},t_=async i=>{const t={type:ae.OBJECT,properties:{label:{type:ae.STRING},children:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{label:{type:ae.STRING},children:{type:ae.ARRAY,items:{type:ae.OBJECT,properties:{label:{type:ae.STRING}}}}}}}}},l=`Create a hierarchical mind map structure (JSON) for the topic: ${i.title||i.content.substring(0,50)}. Base it on the content.`;return _n(l,t)},n_=async(i,t,l)=>{const s={type:ae.OBJECT,properties:{topic:{type:ae.STRING},summary:{type:ae.STRING},keyPoints:{type:ae.ARRAY,items:{type:ae.STRING}},question:jg},required:["topic","summary","keyPoints","question"]},r=`Create a Drill Card (Mini Lesson + 1 Question) for ${i} - ${t} ${l?"("+l+")":""}.`;return _n(r,s)},Ip=async i=>{const t=It(Ne.SIMULATION,"SKD","Tes Wawasan Kebangsaan (TWK)",30,[],i),l=It(Ne.SIMULATION,"SKD","Tes Intelegensia Umum (TIU)",35,[],i),s=It(Ne.SIMULATION,"SKD","Tes Karakteristik Pribadi (TKP)",45,[],i,void 0,"TKP"),[r,d,h]=await Promise.all([t,l,s]);return r.forEach(x=>x.metadata.subtest="Tes Wawasan Kebangsaan (TWK)"),d.forEach(x=>x.metadata.subtest="Tes Intelegensia Umum (TIU)"),h.forEach(x=>x.metadata.subtest="Tes Karakteristik Pribadi (TKP)"),[...r,...d,...h]},Dp=async()=>{const i=It(Ne.SIMULATION,"UTBK","Penalaran Umum (Induktif, Deduktif, Kuantitatif)",30),t=It(Ne.SIMULATION,"UTBK","Pengetahuan dan Pemahaman Umum",20),l=It(Ne.SIMULATION,"UTBK","Pemahaman Bacaan dan Menulis",20),s=It(Ne.SIMULATION,"UTBK","Pengetahuan Kuantitatif",20),r=It(Ne.SIMULATION,"UTBK","Literasi Bahasa Indonesia",25),d=It(Ne.SIMULATION,"UTBK","Literasi Bahasa Inggris",25),h=It(Ne.SIMULATION,"UTBK","Penalaran Matematika",20),[x,v,g,y,S,T,A]=await Promise.all([i,t,l,s,r,d,h]);return x.forEach(N=>N.metadata.subtest="Penalaran Umum"),v.forEach(N=>N.metadata.subtest="Pengetahuan dan Pemahaman Umum"),g.forEach(N=>N.metadata.subtest="Pemahaman Bacaan dan Menulis"),y.forEach(N=>N.metadata.subtest="Pengetahuan Kuantitatif"),S.forEach(N=>N.metadata.subtest="Literasi Bahasa Indonesia"),T.forEach(N=>N.metadata.subtest="Literasi Bahasa Inggris"),A.forEach(N=>N.metadata.subtest="Penalaran Matematika"),[...x,...v,...g,...y,...S,...T,...A]},i_=async()=>It(Ne.SIMULATION,"TPA","SIMULATION",65),l_=async()=>It(Ne.SIMULATION,"PSIKOTEST","SIMULATION",40);class a_{constructor(){if(this.audioCache={},this.soundEnabled=!0,typeof Audio<"u")try{this.preload("click"),this.preload("back"),this.preload("tap")}catch(t){console.error("Audio init error",t)}}preload(t){const l=new Audio(Zm[t]);l.preload="auto",l.volume=.5,this.audioCache[t]=l}syncSettings(t){this.soundEnabled=t.soundEnabled;const l=t.volume!==void 0?t.volume:.5;Object.values(this.audioCache).forEach(s=>{s&&(s.volume=l)})}startMusic(){}stopMusic(){}play(t){if(this.soundEnabled)try{if(this.audioCache[t]){const r=this.audioCache[t];r.currentTime=0;const d=r.play();d!==void 0&&d.catch(()=>{});return}const l=Zm[t];if(!l)return;const s=new Audio(l);s.volume=this.audioCache.click?this.audioCache.click.volume:.5,s.play().catch(()=>{})}catch{}}}const le=new a_;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o_=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,s)=>s?s.toUpperCase():l.toLowerCase()),Up=i=>{const t=o_(i);return t.charAt(0).toUpperCase()+t.slice(1)},qg=(...i)=>i.filter((t,l,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===l).join(" ").trim(),r_=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=V.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:r="",children:d,iconNode:h,...x},v)=>V.createElement("svg",{ref:v,...u_,width:t,height:t,stroke:i,strokeWidth:s?Number(l)*24/Number(t):l,className:qg("lucide",r),...!d&&!r_(x)&&{"aria-hidden":"true"},...x},[...h.map(([g,y])=>V.createElement(g,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(i,t)=>{const l=V.forwardRef(({className:s,...r},d)=>V.createElement(c_,{ref:d,iconNode:t,className:qg(`lucide-${s_(Up(i))}`,`lucide-${i}`,s),...r}));return l.displayName=Up(i),l};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ki=he("activity",d_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dn=he("arrow-left",f_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Og=he("award",m_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],p_=he("bell-off",h_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],x_=he("bell",g_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Lp=he("book-open",v_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Uo=he("book",y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ei=he("brain",b_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Vg=he("briefcase",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],E_=he("building-2",T_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],A_=he("calculator",N_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],C_=he("calendar",__);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Cc=he("chart-no-axes-column",k_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fi=he("chevron-right",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mn=he("circle-check-big",M_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vl=he("circle-x",R_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zl=he("clock",I_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fg=he("download",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fc=he("eye",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],G_=he("file-search",L_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Oa=he("file-text",P_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],z_=he("funnel",H_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],j_=he("git-merge",B_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Kc=he("graduation-cap",q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Kg=he("grid-3x3",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Jg=he("history",V_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],K_=he("info",F_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Y_=he("landmark",J_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Yg=he("lightbulb",$_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bl=he("loader-circle",X_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Z_=he("log-out",Q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],eC=he("message-circle",W_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Lo=he("message-square",tC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$g=he("moon",nC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],lC=he("music",iC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Xg=he("palette",aC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Va=he("pause",sC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Gp=he("pen-tool",oC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Jc=he("play",rC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cC=he("plus",uC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],fC=he("repeat",dC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],hC=he("rocket",mC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kc=he("rotate-ccw",pC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qg=he("save",gC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cc=he("search",xC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zg=he("settings",vC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bC=he("share-2",yC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wg=he("sun",SC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wc=he("target",TC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Mc=he("timer",EC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_o=he("trash-2",NC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_C=he("trending-up",AC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rc=he("triangle-alert",CC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yc=he("upload",kC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ex=he("user",wC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],RC=he("volume-2",MC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],DC=he("volume-x",IC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LC=he("x",UC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fa=he("zap",GC),PC=()=>{const[i,t]=V.useState(!1),[l,s]=V.useState(1500),[r,d]=V.useState(!1),[h,x]=V.useState("focus");V.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),V.useEffect(()=>{let A=null;return r&&l>0?A=setInterval(()=>{s(l-1)},1e3):l===0&&(d(!1),v()),()=>clearInterval(A)},[r,l]);const v=()=>{new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play().catch(N=>console.log("Audio play failed",N)),"Notification"in window&&Notification.permission==="granted"&&new Notification(h==="focus"?"Fokus Selesai!":"Istirahat Selesai!",{body:h==="focus"?"Waktunya istirahat sejenak.":"Kembali fokus belajar!",icon:"/favicon.ico"})},g=()=>d(!r),y=()=>{d(!1),s(h==="focus"?1500:300)},S=()=>{const A=h==="focus"?"break":"focus";x(A),s(A==="focus"?1500:300),d(!1)},T=A=>{const N=Math.floor(A/60),w=A%60;return`${N.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`};return i?c.jsxs("div",{className:"fixed bottom-6 right-6 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 z-50 overflow-hidden animate-fade-in-up",children:[c.jsxs("div",{className:`p-4 ${h==="focus"?"bg-indigo-600":"bg-emerald-500"} text-white flex justify-between items-center`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mc,{size:20}),c.jsx("span",{className:"font-bold",children:h==="focus"?"Fokus":"Istirahat"})]}),c.jsx("button",{onClick:()=>t(!1),className:"hover:bg-white/20 p-1 rounded",children:c.jsx(LC,{size:18})})]}),c.jsxs("div",{className:"p-6 flex flex-col items-center",children:[c.jsx("div",{className:"text-5xl font-mono font-bold text-slate-800 dark:text-slate-100 mb-6 tracking-wider",children:T(l)}),c.jsxs("div",{className:"flex gap-4 mb-6",children:[c.jsx("button",{onClick:g,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:r?c.jsx(Va,{size:24}):c.jsx(Jc,{size:24})}),c.jsx("button",{onClick:y,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:c.jsx(kc,{size:24})})]}),c.jsxs("button",{onClick:S,className:"text-sm text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 underline",children:["Ganti ke Mode ",h==="focus"?"Istirahat":"Fokus"]})]})]}):c.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 bg-indigo-600 hover:bg-indigo-700 text-white p-4 rounded-full shadow-xl z-50 flex items-center gap-2 transition-all",children:[c.jsx(Mc,{size:24}),c.jsx("span",{className:"font-semibold hidden sm:inline",children:"Pomodoro"})]})},HC=({data:i,onNext:t})=>{const[l,s]=V.useState(!1);return c.jsxs("div",{className:"w-full max-w-xl mx-auto perspective-1000",children:[c.jsxs("div",{className:`relative w-full h-80 transition-transform duration-700 transform-style-3d cursor-pointer ${l?"rotate-y-180":""}`,onClick:()=>s(!l),children:[c.jsx("div",{className:"absolute w-full h-full bg-white rounded-2xl shadow-xl border-2 border-indigo-100 flex items-center justify-center p-8 backface-hidden",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold mb-4",children:"QUESTION"}),c.jsx("p",{className:"text-2xl font-medium text-slate-800 leading-relaxed",children:i.front}),c.jsx("p",{className:"mt-8 text-slate-400 text-sm animate-pulse",children:"Tap to flip"})]})}),c.jsx("div",{className:"absolute w-full h-full bg-indigo-600 rounded-2xl shadow-xl flex items-center justify-center p-8 backface-hidden rotate-y-180",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsx("span",{className:"inline-block px-3 py-1 bg-white/20 text-white rounded-full text-xs font-bold mb-4",children:"ANSWER"}),c.jsx("p",{className:"text-xl leading-relaxed",children:i.back})]})})]}),l&&c.jsxs("div",{className:"mt-8 flex justify-center gap-3",children:[c.jsx("button",{onClick:()=>{s(!1),t("hard")},className:"px-6 py-2 bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 font-medium transition",children:"Sulit (1m)"}),c.jsx("button",{onClick:()=>{s(!1),t("medium")},className:"px-6 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 font-medium transition",children:"Sedang (10m)"}),c.jsx("button",{onClick:()=>{s(!1),t("easy")},className:"px-6 py-2 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-200 font-medium transition",children:"Mudah (4d)"})]})]})},tx=({node:i,depth:t=0})=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`
        border-2 px-4 py-2 rounded-xl text-center font-medium shadow-sm transition-all hover:scale-105
        ${t===0?"bg-indigo-600 text-white border-indigo-600 mb-4 text-lg":""}
        ${t===1?"bg-white text-indigo-700 border-indigo-200 mb-4 text-base":""}
        ${t>1?"bg-slate-50 text-slate-600 border-slate-200 text-sm":""}
      `,children:i.label}),i.children&&i.children.length>0&&c.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-8 relative pt-4",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-px h-4 bg-slate-300"}),c.jsx("div",{className:"absolute top-0 left-4 right-4 h-px bg-slate-300"}),i.children.map((l,s)=>c.jsxs("div",{className:"flex flex-col items-center relative",children:[c.jsx("div",{className:"w-px h-4 bg-slate-300 mb-1"}),c.jsx(tx,{node:l,depth:t+1})]},s))]})]}),zC=({data:i})=>{const t=i.root||i;return c.jsx("div",{className:"p-8 bg-slate-50 rounded-3xl overflow-x-auto border border-slate-200 min-h-[400px] flex justify-center",children:c.jsx(tx,{node:t})})},Vi=({className:i="",height:t="h-4",width:l="w-full"})=>c.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700 rounded-md ${t} ${l} ${i}`}),BC=()=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx(Vi,{height:"h-12",width:"w-12",className:"rounded-full"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx(Vi,{height:"h-4",width:"w-1/3"}),c.jsx(Vi,{height:"h-3",width:"w-1/2"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Vi,{height:"h-4"}),c.jsx(Vi,{height:"h-4"}),c.jsx(Vi,{height:"h-4",width:"w-2/3"})]})]}),jC=({onComplete:i})=>{const t=()=>{le.play("click"),i()};return c.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-900 flex flex-col items-center justify-center p-6 text-center animate-fade-in cursor-pointer",onClick:t,children:[c.jsxs("div",{className:"relative mb-8 group",children:[c.jsx("div",{className:"absolute -inset-4 bg-indigo-500 rounded-full opacity-20 group-hover:opacity-40 blur-xl transition-opacity duration-1000 animate-pulse"}),c.jsx("img",{src:yo,alt:"Fajmuls Learning",className:"w-48 h-48 md:w-64 md:h-64 object-contain relative z-10 drop-shadow-2xl animate-bounce-slow"})]}),c.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-2 tracking-tight",children:["Fajmuls ",c.jsx("span",{className:"text-indigo-400",children:"Learning"})]}),c.jsx("p",{className:"text-slate-400 text-lg mb-10 max-w-md",children:"Platform Belajar Cerdas Terintegrasi AI"}),c.jsxs("button",{onClick:l=>{l.stopPropagation(),t()},className:"px-10 py-4 bg-white text-indigo-900 rounded-full font-bold text-lg hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)] transition-all flex items-center gap-2",children:[c.jsx(hC,{size:24,className:"text-indigo-600"})," Mulai Belajar"]})]})},qC=({isOpen:i,onClose:t,settings:l,onUpdate:s})=>{if(!i)return null;const r=h=>{le.play("tap"),s({...l,[h]:!l[h]})},d=h=>{s({...l,volume:parseFloat(h.target.value)})};return c.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl border border-slate-200 dark:border-slate-700 max-h-[85vh] overflow-y-auto scrollbar-hide",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-white dark:bg-slate-800 z-10 py-2 border-b border-slate-100 dark:border-slate-700",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(Zg,{size:24,className:"text-slate-400"})," Pengaturan"]}),c.jsx("button",{onClick:()=>{le.play("back"),t()},children:c.jsx(Vl,{size:24,className:"text-slate-400 hover:text-rose-500"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.darkMode?"bg-indigo-600 text-white":"bg-slate-200 text-slate-500"}`,children:l.darkMode?c.jsx($g,{size:20}):c.jsx(Wg,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Tema Gelap"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Tampilan malam hari."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.darkMode,onChange:()=>r("darkMode")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.soundEnabled?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-500"}`,children:l.soundEnabled?c.jsx(RC,{size:20}):c.jsx(DC,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Efek Suara"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Bunyi klik & interaksi."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.soundEnabled,onChange:()=>r("soundEnabled")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.musicEnabled?"bg-pink-100 text-pink-600":"bg-slate-200 text-slate-500"}`,children:c.jsx(lC,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Musik Latar"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Musik santai saat belajar."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.musicEnabled,onChange:()=>r("musicEnabled")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Volume Utama"}),c.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[Math.round(l.volume*100),"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:l.volume,onChange:d,className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer dark:bg-slate-600 accent-indigo-600"})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.funnyNotifications?"bg-amber-100 text-amber-600":"bg-slate-200 text-slate-500"}`,children:l.funnyNotifications?c.jsx(x_,{size:20}):c.jsx(p_,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Notifikasi Lucu"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Pesan penyemangat unik."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.funnyNotifications,onChange:()=>r("funnyNotifications")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.confirmActions?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-500"}`,children:c.jsx(mn,{size:20})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:"Konfirmasi Aksi"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Cegah salah pencet."})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.confirmActions,onChange:()=>r("confirmActions")}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-900 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]})})},OC=({category:i,skdStream:t,availablePackages:l,history:s,onSelectPackage:r,onGenerateNew:d,onImportPackage:h,onDeletePackage:x,onBack:v,showToast:g,confirmEnabled:y})=>{const[S,T]=V.useState(""),[A,N]=V.useState(!1),[w,M]=V.useState(!1),[U,X]=V.useState(null),j=V.useRef(null),K=ee=>{const me=s.filter(ge=>ge.packageId===ee);if(me.length===0)return{attempts:0,highScore:0,avgScore:0};const Ee=me.map(ge=>ge.score);return{attempts:me.length,highScore:Math.max(...Ee),avgScore:Math.round(Ee.reduce((ge,we)=>ge+we,0)/Ee.length),lastAttemptDate:me[0].date}},ne=async()=>{if(!S){g("Masukkan token terlebih dahulu","error");return}le.play("click"),M(!0);try{await d(S)}catch(ee){console.error(ee)}finally{M(!1)}},se=(ee,me)=>{ee.stopPropagation();const Ee=JSON.stringify(me,null,2),ge=new Blob([Ee],{type:"application/json"}),we=URL.createObjectURL(ge),ze=document.createElement("a");ze.href=we,ze.download=`${me.title.replace(/\s+/g,"_")}.json`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(we),g("Paket Soal berhasil didownload","success")},$=(ee,me)=>{ee.stopPropagation(),y?X(me):x(me)},pe=()=>{U&&(x(U),X(null))},te=l.filter(ee=>ee.category===i&&(!t||ee.skdStream===t));return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center relative",children:[U&&c.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-xl max-w-sm w-full text-center border border-slate-200 dark:border-slate-700 animate-fade-in-up",children:[c.jsx("div",{className:"w-14 h-14 bg-rose-100 dark:bg-rose-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-rose-600 dark:text-rose-400",children:c.jsx(_o,{size:24})}),c.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Hapus Paket Soal?"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-6",children:"Paket soal akan dihapus permanen dari daftar."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>X(null),className:"flex-1 py-3 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Batal"}),c.jsx("button",{onClick:pe,className:"flex-1 py-3 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg",children:"Hapus"})]})]})}),c.jsxs("div",{className:"max-w-4xl w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("button",{onClick:v,className:"flex items-center gap-2 text-slate-500 hover:text-indigo-600",children:[c.jsx(dn,{size:20})," Kembali"]}),c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["Pilih Paket Soal ",i]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 mb-8",children:[c.jsxs("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(cC,{size:20})," Buat Paket Baru (AI)"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:"Masukkan Token Akses...",value:S,onChange:ee=>T(ee.target.value),className:"flex-1 p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-600 dark:text-white"}),c.jsx("button",{onClick:ne,disabled:w,className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50",children:w?c.jsx(Bl,{className:"animate-spin"}):"Generate"})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-end",children:[c.jsx("input",{type:"file",ref:j,className:"hidden",accept:".json",multiple:!0,onChange:ee=>{ee.target.files&&ee.target.files.length>0&&h(ee.target.files),j.current&&(j.current.value="")}}),c.jsxs("button",{onClick:()=>{var ee;return(ee=j.current)==null?void 0:ee.click()},className:"flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-indigo-600",children:[c.jsx(Yc,{size:16})," Import Paket (.json)"]})]})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:te.map(ee=>{const me=K(ee.id);return c.jsxs("button",{onClick:()=>r(ee),className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition text-left group relative overflow-hidden w-full shadow-sm hover:shadow-md",children:[ee.isAiGenerated&&c.jsx("div",{className:"absolute top-0 right-0 bg-indigo-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg",children:"AI Generated"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2 group-hover:text-indigo-600 transition-colors pr-8 line-clamp-2",children:ee.title}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{onClick:Ee=>se(Ee,ee),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-700 rounded-lg transition",title:"Download JSON Soal",children:c.jsx(Fg,{size:18})}),c.jsx("div",{onClick:Ee=>$(Ee,ee.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-slate-700 rounded-lg transition",title:"Hapus Paket",children:c.jsx(_o,{size:18})})]})]}),c.jsxs("div",{className:"flex gap-4 text-xs text-slate-500 dark:text-slate-400 mb-4",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(zl,{size:12})," ",ee.durationMinutes," Menit"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Oa,{size:12})," ",ee.questions.length," Soal"]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-3 grid grid-cols-3 gap-2 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Percobaan"}),c.jsxs("div",{className:"text-lg font-bold text-slate-800 dark:text-white",children:[me.attempts,"x"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Tertinggi"}),c.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:me.highScore})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Rata-rata"}),c.jsx("div",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:me.avgScore})]})]})]},ee.id)})})]})]})},VC=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-sm font-sans"})},FC=({answers:i,questions:t,onHome:l,onRetry:s,category:r,details:d})=>{const h=i.filter(w=>w.isCorrect).length;let x=(d==null?void 0:d.total)||(d==null?void 0:d.average)||(d==null?void 0:d.iqScore)||Math.round(h/t.length*100);if(r==="GENERAL"&&!d){const w=i.reduce((M,U)=>M+(U.scoreEarned||0),0);x=Math.round(w/(t.length||1))}const[v,g]=V.useState(""),[y,S]=V.useState(!1),T=i.filter(w=>!w.isCorrect),A=Array.from(new Set(T.map(w=>{var U,X;const M=t.find(j=>j.id===w.questionId);return((U=M==null?void 0:M.metadata)==null?void 0:U.subtest)||((X=M==null?void 0:M.metadata)==null?void 0:X.topic)||"General"}))),N=async()=>{S(!0);try{const w=await $A(A);g(w)}catch{alert("Gagal memuat saran AI.")}finally{S(!1)}};return c.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 p-6 md:p-12 flex flex-col items-center transition-colors",children:c.jsxs("div",{className:"max-w-2xl w-full text-center",children:[c.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-50 dark:bg-slate-800 mb-6",children:x>=(r==="UTBK"?600:70)?c.jsx(Og,{size:48,className:"text-emerald-500"}):c.jsx(Ki,{size:48,className:"text-amber-500"})}),c.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Sesi Selesai!"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Berikut adalah analisis hasil belajar Anda."}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:"Skor Akhir"}),c.jsx("div",{className:"text-4xl font-black text-slate-900 dark:text-white",children:x})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:r==="GENERAL"?"Poin":"Akurasi"}),c.jsx("div",{className:"text-4xl font-black text-indigo-600 dark:text-indigo-400",children:r==="GENERAL"?x:`${Math.round(h/t.length*100)}%`})]})]}),r==="UTBK"&&d&&c.jsxs("div",{className:"mb-8 w-full bg-slate-50 dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-4",children:[c.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300 mb-4 text-left border-b border-slate-200 dark:border-slate-700 pb-2",children:"Rincian Subtes (IRT)"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Penalaran Umum:"})," ",c.jsx("b",{children:d.pu})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"PPU:"})," ",c.jsx("b",{children:d.ppu})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"PBM:"})," ",c.jsx("b",{children:d.pbm})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Kuantitatif:"})," ",c.jsx("b",{children:d.pk})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Lit. B.Indo:"})," ",c.jsx("b",{children:d.lbi})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Lit. B.Inggris:"})," ",c.jsx("b",{children:d.lbe})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Penalaran Math:"})," ",c.jsx("b",{children:d.pm})]})]})]}),A.length>0&&c.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 border border-rose-100 dark:border-rose-900 p-6 rounded-2xl mb-8 text-left w-full",children:[c.jsxs("h3",{className:"font-bold text-rose-800 dark:text-rose-400 flex items-center gap-2",children:[c.jsx(wc,{size:20})," Topik Perlu Perbaikan"]}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:A.slice(0,5).map(w=>c.jsx("span",{className:"bg-white dark:bg-rose-900/40 text-rose-600 dark:text-rose-200 px-3 py-1 rounded-full text-xs font-bold border border-rose-200 dark:border-rose-800",children:w},w))}),v?c.jsxs("div",{className:"mt-4 pt-4 border-t border-rose-200 dark:border-rose-800",children:[c.jsx("h4",{className:"font-bold text-sm text-rose-800 dark:text-rose-400 mb-2",children:"Saran AI:"}),c.jsx("div",{className:"prose prose-sm prose-rose max-w-none text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 p-4 rounded-xl border border-rose-100 dark:border-rose-800",children:c.jsx(VC,{text:v})})]}):c.jsxs("button",{onClick:N,disabled:y,className:"text-sm font-bold text-rose-700 dark:text-rose-400 underline flex items-center gap-1 hover:text-rose-900 dark:hover:text-rose-300",children:[y?c.jsx(Bl,{className:"animate-spin",size:14}):c.jsx(Yg,{size:14}),"Minta Saran Perbaikan AI"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden text-left mb-8 w-full",children:[c.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 border-b border-slate-100 dark:border-slate-600 font-bold text-slate-700 dark:text-slate-200",children:"Detail Jawaban"}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:t.map((w,M)=>{const U=i.find(j=>j.questionId===w.id),X=U==null?void 0:U.isCorrect;return c.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-750 transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("span",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:["Soal ",M+1]}),X?c.jsx(mn,{size:16,className:"text-emerald-500"}):c.jsx(Vl,{size:16,className:"text-rose-500"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:w.content})]},M)})})]}),c.jsxs("div",{className:"flex gap-4 w-full",children:[c.jsx("button",{onClick:l,className:"flex-1 py-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:"Ke Menu Utama"}),c.jsx("button",{onClick:s,className:"flex-1 py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Coba Lagi"})]})]})})},Pp=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1</i>").replace(/\n- (.*?)/g,"<br/> $1").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm font-sans"})},Ic=i=>i.category==="PSIKOTEST"&&i.details&&"speedPerMinute"in i.details,nx=i=>i.category==="KECERMATAN"&&i.details&&"averageSpeed"in i.details,Dc=i=>i.category==="PSIKOTEST"&&i.details&&"iqScore"in i.details,KC=i=>{switch(i){case"UTBK":return{icon:Kc,color:"text-rose-600",bg:"bg-rose-100 dark:bg-rose-900/30",border:"border-rose-200 dark:border-rose-800"};case"SKD":return{icon:Vg,color:"text-amber-600",bg:"bg-amber-100 dark:bg-amber-900/30",border:"border-amber-200 dark:border-amber-800"};case"PSIKOTEST":return{icon:Ei,color:"text-purple-600",bg:"bg-purple-100 dark:bg-purple-900/30",border:"border-purple-200 dark:border-purple-800"};case"TPA":return{icon:Fa,color:"text-blue-600",bg:"bg-blue-100 dark:bg-blue-900/30",border:"border-blue-200 dark:border-blue-800"};case"KECERMATAN":return{icon:Fc,color:"text-emerald-600",bg:"bg-emerald-100 dark:bg-emerald-900/30",border:"border-emerald-200 dark:border-emerald-800"};case"INTERVIEW":return{icon:Lo,color:"text-cyan-600",bg:"bg-cyan-100 dark:bg-cyan-900/30",border:"border-cyan-200 dark:border-cyan-800"};case"BUTAWRNA":return{icon:Xg,color:"text-pink-600",bg:"bg-pink-100 dark:bg-pink-900/30",border:"border-pink-200 dark:border-pink-800"};case"SKRIPSI":return{icon:Uo,color:"text-indigo-600",bg:"bg-indigo-100 dark:bg-indigo-900/30",border:"border-indigo-200 dark:border-indigo-800"};default:return{icon:Oa,color:"text-slate-600",bg:"bg-slate-100 dark:bg-slate-800",border:"border-slate-200 dark:border-slate-700"}}},JC=({history:i,onBack:t,onReview:l,username:s,onExport:r,onImport:d,onDelete:h})=>{const[x,v]=V.useState("ALL"),g=V.useRef(null),y=i.filter(N=>x==="ALL"||N.category===x),S=y.length,T=S>0?Math.round(y.reduce((N,w)=>N+w.score,0)/S):0,A=S>0?Math.max(...y.map(N=>N.score)):0;return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition text-slate-700 dark:text-slate-300",children:c.jsx(dn,{size:20})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Riwayat Belajar"}),c.jsxs("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[c.jsx(ex,{size:12})," ",s]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-bold text-xs hover:bg-slate-50 dark:hover:bg-slate-700 transition shadow-sm",children:[c.jsx(Fg,{size:14})," Backup"]}),c.jsxs("button",{onClick:()=>{var N;return(N=g.current)==null?void 0:N.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800 rounded-xl font-bold text-xs hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition shadow-sm",children:[c.jsx(Yc,{size:14})," Restore"]}),c.jsx("input",{type:"file",ref:g,className:"hidden",accept:".json",onChange:N=>{var w;(w=N.target.files)!=null&&w[0]&&d(N.target.files[0]),g.current&&(g.current.value="")}})]})]}),c.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-4 scrollbar-hide",children:[c.jsx("button",{onClick:()=>v("ALL"),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${x==="ALL"?"bg-slate-900 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:"Semua"}),Yp.map(N=>c.jsx("button",{onClick:()=>v(N.id),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${x===N.id?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:N.name},N.id))]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[c.jsx(z_,{size:14})," Total Tes"]}),c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:S})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[c.jsx(_C,{size:14})," Rata-rata"]}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:T})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[c.jsx(Og,{size:14})," Tertinggi"]}),c.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-500",children:A})]})]}),c.jsx("div",{className:"space-y-4",children:y.length===0?c.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-3xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:[c.jsx(Jg,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("p",{children:"Tidak ada riwayat untuk kategori ini."})]}):y.map(N=>{const w=KC(N.category),M=w.icon;let U,X;if(Ic(N)){const K=N.details;U=c.jsxs("div",{className:"flex gap-4 mt-2",children:[c.jsxs("div",{className:"text-center bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg min-w-[80px]",children:[c.jsx("div",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400",children:K.speedPerMinute}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Speed"})]}),c.jsxs("div",{className:"text-center bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg min-w-[80px]",children:[c.jsxs("div",{className:"text-lg font-black text-emerald-600 dark:text-emerald-400",children:[K.accuracy,"%"]}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Akurasi"})]})]}),X=null}else if(nx(N)){const K=N.details;U=c.jsxs("div",{className:"flex gap-4 mt-2",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Mode"}),c.jsx("span",{className:"font-bold text-slate-800 dark:text-white uppercase",children:K.mode})]}),c.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Stabilitas"}),c.jsx("span",{className:"font-bold text-amber-500",children:K.stability})]})]}),X=c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:N.score}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"AKURASI"})]})}else if(N.category==="TPA"){const K=N.details;U=c.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800 flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase",children:"TPA"}),c.jsx("span",{className:"text-sm font-black text-indigo-700 dark:text-indigo-300",children:(K==null?void 0:K.tpaScore)||0})]})]}),c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/30 px-3 py-1.5 rounded-lg border border-emerald-100 dark:border-emerald-800 flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase",children:"TBI"}),c.jsx("span",{className:"text-sm font-black text-emerald-700 dark:text-emerald-300",children:(K==null?void 0:K.tbiScore)||0})]})]})]}),X=c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:N.score}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"TOTAL"})]})}else if(Dc(N)){const K=N.details;U=c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"inline-flex items-center gap-2 bg-purple-50 dark:bg-purple-900/20 px-3 py-1 rounded-lg border border-purple-100 dark:border-purple-800",children:[c.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-300 uppercase tracking-wider",children:"Kategori:"}),c.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:K.classification})]})}),X=c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-3xl font-black text-purple-600 dark:text-purple-400",children:K.iqScore}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"IQ SCORE"})]})}else U=c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm font-medium text-slate-500 dark:text-slate-400",children:[c.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-md text-xs font-bold text-slate-600 dark:text-slate-300",children:[(N.questions||[]).length," Soal"]}),N.details&&N.details.passed!==void 0&&(N.details.passed?c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded",children:[c.jsx(mn,{size:12})," Lulus"]}):c.jsxs("span",{className:"text-rose-500 dark:text-rose-400 font-bold flex items-center gap-1 bg-rose-50 dark:bg-rose-900/20 px-2 py-1 rounded",children:[c.jsx(Vl,{size:12})," Tidak Lulus"]}))]}),X=c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:N.score}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"SKOR"})]});const j=N.category==="TPA"?"TPA & Bahasa Inggris":N.category==="PSIKOTEST"&&Ic(N)?"Tes Koran / Pauli":N.category==="PSIKOTEST"&&Dc(N)?"Psikotes (IQ & Logika)":N.category==="KECERMATAN"?"Tes Kecermatan":N.category;return c.jsxs("div",{onClick:()=>l(N),className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-500 transition group relative overflow-hidden cursor-pointer",children:[N.isAborted&&c.jsx("div",{className:"absolute top-0 right-0 bg-amber-500 text-white text-[10px] px-2 py-1 font-bold rounded-bl-lg z-10",children:"TIDAK FULL"}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${w.bg} ${w.color} border ${w.border}`,children:c.jsx(M,{size:28})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate pr-2 text-lg",children:j}),N.skdStream&&c.jsx("span",{className:"text-[10px] font-bold bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-0.5 rounded inline-block mb-1",children:N.skdStream}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs mt-1",children:[c.jsx(C_,{size:12}),new Date(N.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c.jsx("span",{children:""}),new Date(N.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]}),X]}),U]})]}),c.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:K=>{K.stopPropagation(),h(N.id)},className:"p-2 bg-rose-50 dark:bg-rose-900/30 text-rose-600 rounded-full hover:bg-rose-100 dark:hover:bg-rose-900/50 transition",title:"Hapus",children:c.jsx(_o,{size:16})}),c.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-full",children:c.jsx(Fi,{size:16})})]})]},N.id)})})]})})},YC=({item:i,onBack:t})=>{if(Ic(i)){const l=i.details,s=(d,h)=>h==="speed"?d>50?"Sangat Cepat":d>35?"Cepat":"Sedang":h==="acc"?d>98?"Sangat Teliti":d>92?"Teliti":"Cukup":d<3?"Sangat Stabil":d<6?"Stabil":"Fluktuatif",r=l.intervalData||l.columnData||[];return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsxs("button",{onClick:t,className:"text-slate-500 dark:text-slate-400 flex items-center hover:text-indigo-600 transition",children:[c.jsx(dn,{size:16,className:"mr-1"})," Kembali ke Riwayat"]}),i.isAborted&&c.jsx("span",{className:"bg-amber-500 text-white text-xs px-2 py-1 rounded font-bold",children:"TIDAK FULL TEST"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl text-indigo-600 dark:text-indigo-400",children:c.jsx(Ki,{size:32})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Analisis Tes Pauli"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Detail performa ketahanan kerja"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-400 uppercase mb-2 flex items-center gap-2",children:[c.jsx(zl,{size:16})," Kecepatan"]}),c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:l.speedPerMinute}),c.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1 font-bold",children:s(l.speedPerMinute,"speed")})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-400 uppercase mb-2 flex items-center gap-2",children:[c.jsx(mn,{size:16})," Akurasi"]}),c.jsxs("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:[l.accuracy,"%"]}),c.jsx("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1 font-bold",children:s(l.accuracy,"acc")})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-400 uppercase mb-2 flex items-center gap-2",children:[c.jsx(Cc,{size:16})," Stabilitas"]}),c.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:l.consistencyScore}),c.jsx("div",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1 font-bold",children:s(l.consistencyScore,"stab")})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Grafik Ritme Kerja (Per 1 Menit)"}),c.jsx("div",{className:"h-64 flex items-end gap-1 bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 relative overflow-x-auto",children:r.map((d,h)=>{const x=Math.max(...r,1),v=d/x*100;return c.jsx("div",{className:"flex-1 min-w-[20px] bg-indigo-500/80 rounded-t relative group",style:{height:`${v}%`},children:c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block bg-black text-white text-[10px] px-2 py-1 rounded whitespace-nowrap z-10",children:["Int ",h+1,": ",d]})},h)})}),c.jsx("p",{className:"text-xs text-slate-400 mt-2 text-center",children:"Grafik menunjukkan jumlah jawaban benar per interval 1 menit (garis)."})]})]})]})})}if(nx(i)){const l=i.details;return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsxs("button",{onClick:t,className:"text-slate-500 dark:text-slate-400 flex items-center hover:text-indigo-600 transition",children:[c.jsx(dn,{size:16,className:"mr-1"})," Kembali ke Riwayat"]}),i.isAborted&&c.jsx("span",{className:"bg-amber-500 text-white text-xs px-2 py-1 rounded font-bold",children:"TIDAK FULL TEST"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl text-indigo-600 dark:text-indigo-400",children:c.jsx(Fc,{size:32})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Analisis Tes Kecermatan"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:["Mode: ",c.jsx("span",{className:"font-bold uppercase text-indigo-600 dark:text-indigo-400",children:l.mode})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Total Benar"}),c.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400",children:l.totalCorrect})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Total Salah"}),c.jsx("div",{className:"text-3xl font-black text-rose-500",children:l.totalWrong})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Speed (Avg)"}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:l.averageSpeed}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"per kolom"})]}),c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-2xl bg-slate-50 dark:bg-slate-700/30",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Stabilitas"}),c.jsx("div",{className:"text-3xl font-black text-amber-500",children:l.stability}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"deviasi (makin kecil makin baik)"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Grafik Performa Per Kolom (Interval 1 Menit)"}),c.jsx("div",{className:"h-64 flex items-end gap-2 bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 relative",children:l.sectionData.map((s,r)=>{const d=Math.max(...l.sectionData.map(v=>v.correct+v.wrong),10),h=s.correct/d*100,x=s.wrong/d*100;return c.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center group relative h-full",children:[c.jsx("div",{className:"w-full bg-rose-400 rounded-t-sm opacity-80",style:{height:`${x}%`}}),c.jsx("div",{className:"w-full bg-indigo-600 rounded-t-sm",style:{height:`${h}%`}}),c.jsx("div",{className:"mt-2 text-[10px] font-bold text-slate-400",children:s.section}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-slate-900 text-white text-xs p-2 rounded z-10 whitespace-nowrap shadow-xl",children:["Kolom ",s.section,c.jsx("br",{}),"Benar: ",s.correct,c.jsx("br",{}),"Salah: ",s.wrong]})]},r)})}),c.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-sm"})," Benar"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-rose-400 rounded-sm"})," Salah"]})]}),c.jsx("p",{className:"text-xs text-slate-400 mt-2 text-center",children:"Grafik menunjukkan jumlah jawaban benar dan salah pada setiap kolom (durasi 1 menit per kolom)."})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl text-center",children:[c.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Kesimpulan"}),c.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-white",children:['"',l.verdict,'"']})]})]})]})})}return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsxs("button",{onClick:t,className:"text-slate-500 dark:text-slate-400 flex items-center hover:text-indigo-600 transition",children:[c.jsx(dn,{size:16,className:"mr-1"})," Kembali ke Riwayat"]}),i.isAborted&&c.jsx("span",{className:"bg-amber-500 text-white text-xs px-2 py-1 rounded font-bold",children:"TIDAK FULL TEST"})]}),i.category==="SKD"&&i.details&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 mb-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TWK"}),c.jsx("div",{className:`text-2xl font-black ${i.details.twk>=65?"text-emerald-600":"text-rose-500"}`,children:i.details.twk}),c.jsx("div",{className:"text-[10px] text-slate-400",children:"Target: 65"})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TIU"}),c.jsx("div",{className:`text-2xl font-black ${i.details.tiu>=80?"text-emerald-600":"text-rose-500"}`,children:i.details.tiu}),c.jsx("div",{className:"text-[10px] text-slate-400",children:"Target: 80"})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TKP"}),c.jsx("div",{className:`text-2xl font-black ${i.details.tkp>=166?"text-emerald-600":"text-rose-500"}`,children:i.details.tkp}),c.jsx("div",{className:"text-[10px] text-slate-400",children:"Target: 166"})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full bg-slate-50 dark:bg-slate-700/50 p-2 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-300 uppercase tracking-widest mb-1",children:"Total"}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:i.score})]})]}),i.category==="TPA"&&i.details&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 mb-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TPA SCORE"}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:i.details.tpaScore})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TPA BENAR"}),c.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:i.details.tpaCorrect})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TBI SCORE"}),c.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:i.details.tbiScore})]}),c.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 hidden md:block"}),c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"TBI BENAR"}),c.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:i.details.tbiCorrect})]})]}),Dc(i)&&i.details&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-sm border-2 border-purple-100 dark:border-purple-900 mb-6 text-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-50 dark:bg-purple-900/20 rounded-bl-full -mr-4 -mt-4"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"text-sm font-bold text-purple-400 uppercase tracking-widest mb-2",children:"ESTIMASI IQ ANDA"}),c.jsx("div",{className:"text-6xl font-black text-purple-700 dark:text-purple-300 mb-4 tracking-tighter",children:i.details.iqScore}),c.jsx("div",{className:"inline-block px-6 py-2 bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 rounded-full font-bold text-lg border border-purple-200 dark:border-purple-700",children:i.details.classification}),c.jsx("p",{className:"text-slate-400 text-xs mt-4 max-w-md mx-auto",children:"*Hasil ini adalah estimasi berdasarkan simulasi tes dan mungkin berbeda dengan tes psikologi profesional."})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(Fa,{size:20,className:"text-amber-500"})," Pembahasan Soal"]}),c.jsx("div",{className:"space-y-6",children:i.questions.map((l,s)=>{var v;const r=i.answers.find(g=>g.questionId===l.id),d=r==null?void 0:r.isCorrect,h=(r==null?void 0:r.scoreEarned)||0;let x="bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300";return h>0?l.tkpPoints?h===5?x="bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":x="bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":x="bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":x="bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400",c.jsxs("div",{className:"p-5 border border-slate-100 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/30 transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:["No. ",s+1]}),c.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide hidden sm:inline",children:(v=l.metadata)==null?void 0:v.subtest})]}),c.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 ${x}`,children:[h>0?c.jsx(mn,{size:12}):c.jsx(Vl,{size:12}),h," Poin"]})]}),c.jsx("div",{className:"mb-4 text-slate-800 dark:text-slate-200 font-medium text-base leading-relaxed",children:c.jsx(Pp,{text:l.content})}),c.jsxs("div",{className:"grid gap-2 text-sm mb-4",children:[c.jsxs("div",{className:`p-3 rounded-lg border ${d?"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/10 dark:border-emerald-800 text-emerald-800 dark:text-emerald-300":"bg-rose-50 border-rose-200 dark:bg-rose-900/10 dark:border-rose-800 text-rose-800 dark:text-rose-300"}`,children:[c.jsx("span",{className:"font-bold block mb-1",children:"Jawaban Anda:"}),(r==null?void 0:r.selectedAnswer)||"Tidak dijawab"]}),!d&&!l.tkpPoints&&c.jsxs("div",{className:"p-3 rounded-lg border bg-indigo-50 border-indigo-200 dark:bg-indigo-900/10 dark:border-indigo-800 text-indigo-800 dark:text-indigo-300",children:[c.jsx("span",{className:"font-bold block mb-1",children:"Kunci Jawaban:"}),l.correctAnswer]}),l.tkpPoints&&c.jsxs("div",{className:"p-3 rounded-lg border bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700 text-slate-600 dark:text-slate-400",children:[c.jsx("span",{className:"font-bold block mb-1",children:"Poin Opsi TKP:"}),c.jsx("ul",{className:"list-disc pl-4 space-y-1",children:l.tkpPoints.sort((g,y)=>y.points-g.points).map((g,y)=>c.jsxs("li",{className:g.option===(r==null?void 0:r.selectedAnswer)?"font-bold text-indigo-600 dark:text-indigo-400":"",children:[g.points," Poin: ",g.option]},y))})]})]}),c.jsxs("div",{className:"mt-3 text-sm text-slate-600 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700 italic",children:[c.jsx("span",{className:"font-bold not-italic text-slate-700 dark:text-slate-300 block mb-1",children:"Pembahasan:"}),c.jsx(Pp,{text:l.explanation})]})]},s)})})]})]})})},dc=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-800 dark:text-slate-200 leading-relaxed"})},$C=({timeLeft:i,onFinish:t})=>(V.useEffect(()=>{i<=0&&t()},[i,t]),c.jsxs("div",{className:"fixed inset-0 z-[60] bg-indigo-600 flex flex-col items-center justify-center text-white px-6",children:[c.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mb-8 animate-pulse",children:c.jsx(Mc,{size:48,className:"text-white"})}),c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Istirahat Antar Subtes"}),c.jsxs("div",{className:"text-6xl font-mono font-bold mb-8",children:[i,"s"]}),c.jsx("p",{className:"text-xl text-center max-w-md italic opacity-90",children:'"Tarik nafas, persiapkan fokus untuk subtes berikutnya."'}),c.jsx("button",{onClick:t,className:"mt-8 px-6 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-bold",children:"Lewati Istirahat"})]})),XC=({mode:i,questions:t,drillContent:l,onComplete:s,isSkdSimulation:r,isUtbkSimulation:d,category:h,showToast:x})=>{var ie,_,q;const[v,g]=V.useState(0),[y,S]=V.useState(!1),[T,A]=V.useState(0),[N,w]=V.useState(0),[M,U]=V.useState({}),[X,j]=V.useState(!1),[K,ne]=V.useState(!1),se=V.useRef(Date.now()),$=()=>d&&Ti[0]?Ti[0].duration*60:r?6e3:i===Ne.SIMULATION?h==="PSIKOTEST"?2400:h==="TPA"?6e3:3600:0,[pe,te]=V.useState($),ee=V.useMemo(()=>{if(d){const H=Ti[v].name;return t.filter(I=>{var B,Y;return(Y=(B=I.metadata)==null?void 0:B.subtest)==null?void 0:Y.includes(H)})}return t},[t,d,v]);V.useEffect(()=>{let H=null;return y&&T>0?H=setInterval(()=>A(I=>I-1),1e3):y&&T===0?S(!1):pe>0&&!X&&i===Ne.SIMULATION?H=setInterval(()=>{te(I=>(I<=11&&I>1&&le.play("tick"),I-1))},1e3):pe===0&&i===Ne.SIMULATION&&(d?me():Ee()),()=>clearInterval(H)},[pe,X,y,T,i]);const me=()=>{if(d)if(v<Ti.length-1){le.play("success");const H=v+1;g(H);const I=Ti[H].duration;te(I*60),w(0),A(30),S(!0)}else Ee();else Ee()},Ee=()=>{le.play("finish"),s(Object.values(M))},ge=()=>{const H=Object.values(M);s(H,void 0,!0)},we=async H=>{var Ze;const I=ee[N];if(!I)return;le.play("click");let B=0,Y=!1;if(h==="SKD")if(I.tkpPoints&&I.tkpPoints.length>0){const be=I.tkpPoints.find(pt=>pt.option===H);B=be?be.points:0,Y=B===5}else Y=H===I.correctAnswer,B=Y?5:0;else if(h==="UTBK"){Y=H===I.correctAnswer;const be=((Ze=I.metadata)==null?void 0:Ze.difficulty)||"Medium";B=Y?be==="HOTS"||be==="Hard"?3:be==="Medium"?2:1:0}else Y=H===I.correctAnswer,B=Y?10:0;let W="";if(I.type!=="multiple_choice"&&h==="GENERAL")try{const be=await YA(I.content,I.correctAnswer,H);B=be.score,Y=be.isCorrect,W=be.feedback}catch{console.error("Grading failed")}const xe=M[I.id],ue=(Date.now()-se.current)/1e3,Je={questionId:I.id,selectedAnswer:H,isCorrect:Y,scoreEarned:B,timeTakenSeconds:((xe==null?void 0:xe.timeTakenSeconds)||0)+ue,isOverthinking:!1,isGuessing:ue<5,aiEvaluation:W,isDoubtful:(xe==null?void 0:xe.isDoubtful)||!1};U(be=>({...be,[I.id]:Je})),se.current=Date.now()},ze=()=>{const H=ee[N];U(I=>{const B=I[H.id];return B?{...I,[H.id]:{...B,isDoubtful:!B.isDoubtful}}:{...I,[H.id]:{questionId:H.id,selectedAnswer:"",isCorrect:!1,scoreEarned:0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1,isDoubtful:!0}}})},G=H=>{const I=Math.floor(H/3600),B=Math.floor(H%3600/60),Y=Math.floor(H%60);return`${I>0?I+":":""}${B.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}`},Q=(H,I)=>H.length===0?null:c.jsxs("div",{className:"mb-6 animate-fade-in-up",children:[c.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 border-b border-slate-100 dark:border-slate-700 pb-1",children:I}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:H.map((B,Y)=>{const W=ee.findIndex(Je=>Je.id===B.id),xe=M[B.id];let ue="bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300";return xe!=null&&xe.selectedAnswer&&(ue="bg-emerald-500 border-emerald-500 text-white"),xe!=null&&xe.isDoubtful&&(ue="bg-amber-400 border-amber-400 text-white"),W===N&&(ue+=" ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-800"),c.jsx("button",{onClick:()=>{w(W),ne(!1)},className:`aspect-square rounded-lg border flex items-center justify-center font-bold text-sm transition-all ${ue}`,children:W+1},B.id)})})]});if(y)return c.jsx($C,{timeLeft:T,onFinish:()=>{S(!1)}});if(ee.length===0)return c.jsxs("div",{className:"p-10 text-center",children:[c.jsx(Bl,{className:"animate-spin mx-auto"})," Menyiapkan soal subtes..."]});const re=ee[N],ye=M[re.id];return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row h-screen overflow-hidden transition-colors relative",children:[X&&c.jsx("div",{className:"absolute inset-0 z-50 bg-white/80 dark:bg-slate-900/90 backdrop-blur-md flex flex-col items-center justify-center animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-2xl text-center border border-slate-200 dark:border-slate-700 max-w-sm w-full",children:[c.jsx(Va,{size:48,className:"mx-auto mb-4 text-indigo-600"}),c.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Ujian Dijeda"}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsxs("button",{onClick:()=>j(!1),className:"px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 flex items-center gap-2",children:[c.jsx(Jc,{size:20})," Lanjutkan"]}),c.jsx("button",{onClick:ge,className:"px-6 py-3 border-2 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-700",children:"Keluar (Simpan)"})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative order-1",children:[c.jsxs("div",{className:"md:hidden bg-white dark:bg-slate-800 p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm z-20",children:[c.jsxs("div",{className:"font-bold text-slate-700 dark:text-white text-sm",children:["No. ",N+1]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i===Ne.SIMULATION&&c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs font-mono font-bold dark:text-white",children:G(pe)}),c.jsx("button",{onClick:()=>ne(!K),className:"p-2 bg-indigo-50 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-400 rounded",children:c.jsx(Kg,{size:20})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:c.jsxs("div",{className:"max-w-3xl mx-auto pb-24",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 md:p-8 mb-6",children:[i===Ne.DRILL&&l&&c.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-100 dark:border-indigo-800 text-sm text-slate-700 dark:text-slate-300",children:[c.jsxs("h4",{className:"font-bold text-indigo-700 dark:text-indigo-300 mb-2 flex items-center gap-2",children:[c.jsx(Fa,{size:16})," ",l.topic]}),c.jsx("p",{children:l.summary})]}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:d?Ti[v].name:((ie=re.metadata)==null?void 0:ie.subtest)||"General"}),((_=re.metadata)==null?void 0:_.difficulty)==="HOTS"&&c.jsxs("span",{className:"flex items-center gap-1 text-rose-600 dark:text-rose-400 font-bold text-xs bg-rose-50 dark:bg-rose-900/20 px-2 py-1 rounded-full",children:[c.jsx(Fa,{size:12})," HOTS"]})]}),c.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-8 text-slate-800 dark:text-slate-100",children:c.jsx(dc,{text:re.content})}),re.type==="multiple_choice"?c.jsx("div",{className:"space-y-3",children:(q=re.options)==null?void 0:q.map((H,I)=>{var ue;const B=String.fromCharCode(65+I),Y=(ye==null?void 0:ye.selectedAnswer)===H;let W="border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-750",xe="bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 group-hover:bg-slate-200 dark:group-hover:bg-slate-600";return Y&&(W="border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 dark:border-indigo-500",xe="bg-indigo-600 text-white"),i!==Ne.SIMULATION&&ye&&((re.tkpPoints?((ue=re.tkpPoints.find(Ze=>Ze.option===H))==null?void 0:ue.points)===5:H===re.correctAnswer)?(W="border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20",xe="bg-emerald-500 text-white"):Y&&(W="border-rose-500 bg-rose-50 dark:bg-rose-900/20",xe="bg-rose-500 text-white")),c.jsxs("button",{onClick:()=>we(H),className:`w-full flex items-start p-4 rounded-xl border-2 transition-all group text-left ${W}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm mr-4 transition-colors ${xe}`,children:B}),c.jsx("div",{className:"flex-1 pt-1 text-slate-700 dark:text-slate-200 text-base",children:c.jsx(dc,{text:H})})]},I)})}):c.jsxs("div",{children:[" ",c.jsx("textarea",{className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 dark:bg-slate-900 dark:text-white",placeholder:"Ketik jawaban Anda...",rows:4,value:(ye==null?void 0:ye.selectedAnswer)||"",onChange:H=>we(H.target.value)})," "]})]}),i!==Ne.SIMULATION&&ye&&c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 rounded-2xl p-6 animate-fade-in-up",children:[c.jsxs("h4",{className:"font-bold text-emerald-800 dark:text-emerald-300 mb-3 flex items-center gap-2",children:[c.jsx(Yg,{size:20})," Pembahasan"]}),c.jsx("div",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:c.jsx(dc,{text:re.explanation})})]})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-4 z-10",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[c.jsxs("button",{onClick:()=>{w(H=>Math.max(0,H-1))},disabled:N===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",children:[c.jsx(dn,{size:20})," ",c.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),c.jsxs("button",{onClick:ze,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold border transition ${ye!=null&&ye.isDoubtful?"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-400 border-amber-300 dark:border-amber-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-600"}`,children:[c.jsx("input",{type:"checkbox",checked:(ye==null?void 0:ye.isDoubtful)||!1,readOnly:!0,className:"w-4 h-4 accent-amber-500 cursor-pointer"}),c.jsx("span",{children:"Ragu-ragu"})]}),c.jsxs("button",{onClick:()=>{le.play("click"),N<ee.length-1?w(H=>H+1):d?me():Ee()},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-bold bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg",children:[c.jsx("span",{className:"hidden sm:inline",children:N===ee.length-1?d&&v<Ti.length-1?"Lanjut Subtes":"Selesai":"Berikutnya"}),c.jsx(Fi,{size:20})]})]})})]}),c.jsxs("div",{className:`fixed inset-y-0 right-0 w-80 bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 transform transition-transform duration-300 z-40 flex flex-col order-2 ${K?"translate-x-0":"translate-x-full"} md:translate-x-0 md:relative md:w-80`,children:[c.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800",children:[c.jsxs("button",{onClick:ge,className:"flex items-center gap-2 text-rose-500 font-bold hover:text-rose-600",children:[c.jsx(dn,{size:18})," Keluar (Simpan)"]}),c.jsx("button",{onClick:()=>ne(!1),className:"md:hidden text-slate-500",children:c.jsx(Vl,{size:24})})]}),i===Ne.SIMULATION&&pe>0&&c.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 hidden md:block",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"text-xs font-bold text-indigo-500 uppercase tracking-wider",children:"Sisa Waktu"}),c.jsxs("button",{onClick:()=>j(!0),className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded font-bold hover:bg-amber-200 flex items-center gap-1",children:[c.jsx(Va,{size:12})," Jeda"]})]}),c.jsx("div",{className:"text-3xl font-mono font-bold text-slate-800 dark:text-white text-center",children:G(pe)})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:r?c.jsxs(c.Fragment,{children:[Q(ee.filter(H=>{var I,B;return(B=(I=H.metadata)==null?void 0:I.subtest)==null?void 0:B.includes("TWK")}),"Tes Wawasan Kebangsaan (TWK)"),Q(ee.filter(H=>{var I,B;return(B=(I=H.metadata)==null?void 0:I.subtest)==null?void 0:B.includes("TIU")}),"Tes Intelegensia Umum (TIU)"),Q(ee.filter(H=>{var I,B;return(B=(I=H.metadata)==null?void 0:I.subtest)==null?void 0:B.includes("TKP")}),"Tes Karakteristik Pribadi (TKP)")]}):Q(ee,d?Ti[v].name:h)}),c.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 md:hidden",children:c.jsx("button",{onClick:Ee,className:"w-full py-3 bg-rose-600 text-white rounded-xl font-bold",children:"Hentikan Ujian"})})]}),K&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>ne(!1)})]})},go=10,fc=60,QC=500,Hp=50,ZC=(i,t)=>Array.from({length:i},()=>Array.from({length:t},()=>Math.floor(Math.random()*10))),WC=(i,t,l)=>{let s=0;return i>=60?s+=40:i>=50?s+=35:i>=40?s+=30:i>=30?s+=20:s+=10,t>=98?s+=30:t>=95?s+=25:t>=90?s+=20:t>=80?s+=10:s+=5,l<2?s+=30:l<4?s+=25:l<6?s+=15:l<8?s+=5:s+=0,s>=90?"Sempurna (Sangat Disarankan)":s>=80?"Sangat Baik":s>=65?"Baik":s>=50?"Cukup":s>=35?"Kurang":"Buruk"},ek=({onBack:i,onComplete:t})=>{const[l,s]=V.useState("SETUP"),[r,d]=V.useState([]),[h,x]=V.useState(0),[v,g]=V.useState(0),[y,S]=V.useState(0),[T,A]=V.useState(0),[N,w]=V.useState([]),[M,U]=V.useState(0),[X,j]=V.useState(!1),[K,ne]=V.useState(go*60),[se,$]=V.useState(fc),pe=()=>{const ie=ZC(QC,Hp);d(ie),x(0),g(0),S(0),A(0),w([]),U(0),ne(go*60),$(fc),s("PLAYING"),le.play("click")},te=V.useCallback(ie=>{if(l!=="PLAYING")return;const _=r[h][v],q=r[h][v+1];if(q===void 0){x(Y=>Y+1),g(0);return}const I=(_+q)%10;ie===I?(S(Y=>Y+1),U(Y=>Y+1)):(A(Y=>Y+1),le.play("error")),v<Hp-2?g(Y=>Y+1):(x(Y=>Y+1),g(0))},[r,h,v,l]);V.useEffect(()=>{const ie=_=>{l==="PLAYING"&&_.key>="0"&&_.key<="9"&&te(parseInt(_.key))};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[l,te]),V.useEffect(()=>{if(l!=="PLAYING")return;const ie=setInterval(()=>{ne(_=>_<=1?(Ee(),0):_-1),$(_=>(_<=6&&_>1&&le.play("tick"),_<=1?(le.play("success"),me(),fc):_-1))},1e3);return()=>clearInterval(ie)},[l,M]);const ee=V.useRef(0);V.useEffect(()=>{ee.current=M},[M]);const me=()=>{const ie=ee.current;w(_=>[..._,ie]),U(0),j(!0),setTimeout(()=>j(!1),2e3)},Ee=(ie=!1)=>{const _=ee.current;_>0&&w(q=>[...q,_]),s("FINISHED"),ie||le.play("finish")},ge=()=>{const ie=y+T,_=(go*60-K)/60,q=_<.1?.1:_,H=q>0?Math.round(y/q):0,I=ie>0?y/ie*100:0;let B=0;if(N.length>0){const W=N.reduce((ue,Je)=>ue+Je,0)/N.length,xe=N.reduce((ue,Je)=>ue+Math.pow(Je-W,2),0)/N.length;B=Math.sqrt(xe)}const Y=WC(H,I,B);return{totalCorrect:y,totalWrong:T,totalAttempts:ie,totalColumns:h,speedPerMinute:H,consistencyScore:parseFloat(B.toFixed(2)),accuracy:Math.round(I),intervalData:N,interpretation:{verdict:Y,speedDesc:H>50?"Sangat Cepat":H>35?"Cepat":"Sedang",accDesc:I>95?"Sangat Teliti":I>85?"Teliti":"Cukup",stabDesc:B<3?"Sangat Stabil":B<6?"Stabil":"Kurang Stabil"}}},we=ie=>{const _=Math.floor(ie/60),q=ie%60;return`${_}:${q.toString().padStart(2,"0")}`},ze=()=>{const ie=ge(),_={id:`pauli-${Date.now()}`,date:new Date().toISOString(),category:"PSIKOTEST",score:ie.speedPerMinute,maxScore:0,details:ie,questions:[],answers:[],isAborted:!0};t(_)};if(l==="SETUP")return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 animate-fade-in-up",children:[c.jsxs("div",{className:"p-8 bg-indigo-600 text-white text-center relative overflow-hidden",children:[c.jsx(Ki,{size:64,className:"mx-auto mb-4 relative z-10"}),c.jsx("h1",{className:"text-3xl font-black relative z-10",children:"Tes Pauli Digital"}),c.jsx("p",{className:"opacity-90 relative z-10 text-sm mt-2",children:"Uji Ketahanan & Stabilitas Kerja"})]}),c.jsxs("div",{className:"p-8 space-y-6",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl text-sm text-slate-600 dark:text-slate-300 space-y-3",children:[c.jsxs("p",{className:"flex items-center gap-3",children:[c.jsx(zl,{size:18,className:"text-indigo-500 shrink-0"})," ",c.jsxs("span",{children:[c.jsx("strong",{children:"Durasi:"})," ",go," Menit"]})]}),c.jsxs("p",{className:"flex items-center gap-3",children:[c.jsx(Ki,{size:18,className:"text-emerald-500 shrink-0"})," ",c.jsxs("span",{children:[c.jsx("strong",{children:"Instruksi:"})," Jumlahkan dua angka yang berdekatan. Masukkan digit satuan saja (misal: 12  2)."]})]}),c.jsxs("p",{className:"flex items-center gap-3",children:[c.jsx(Cc,{size:18,className:"text-amber-500 shrink-0"})," ",c.jsxs("span",{children:[c.jsx("strong",{children:"Garis:"})," Setiap 1 menit, muncul tanda 'Garis'. Tetap lanjutkan menghitung."]})]})]}),c.jsxs("button",{onClick:pe,className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2 hover:scale-105 transform duration-200",children:[c.jsx(Jc,{size:24,fill:"currentColor"})," Mulai Tes"]}),c.jsx("button",{onClick:i,className:"w-full py-3 text-slate-500 hover:text-indigo-600 font-bold text-sm transition",children:"Kembali"})]})]})});if(l==="FINISHED"){const ie=ge(),_={id:`pauli-${Date.now()}`,date:new Date().toISOString(),category:"PSIKOTEST",score:ie.speedPerMinute,maxScore:0,details:ie,questions:[],answers:[]};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-4 flex items-center justify-center animate-fade-in",children:c.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-slate-800 rounded-3xl shadow-xl p-8 border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"Analisis Profil Kerja"}),c.jsx("div",{className:"mt-4 inline-block px-6 py-2 bg-indigo-600 text-white text-xl font-bold rounded-full shadow-lg",children:ie.interpretation.verdict})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-2xl text-center border border-slate-100 dark:border-slate-600",children:[c.jsxs("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2 flex justify-center items-center gap-1",children:[c.jsx(zl,{size:14})," Kecepatan"]}),c.jsx("div",{className:"text-4xl font-black text-slate-800 dark:text-white",children:ie.speedPerMinute}),c.jsxs("div",{className:"text-xs text-slate-500",children:["angka/menit (",ie.interpretation.speedDesc,")"]})]}),c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-2xl text-center border border-slate-100 dark:border-slate-600",children:[c.jsxs("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2 flex justify-center items-center gap-1",children:[c.jsx(mn,{size:14})," Akurasi"]}),c.jsxs("div",{className:"text-4xl font-black text-emerald-600 dark:text-emerald-400",children:[ie.accuracy,"%"]}),c.jsx("div",{className:"text-xs text-slate-500",children:ie.interpretation.accDesc})]}),c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-2xl text-center border border-slate-100 dark:border-slate-600",children:[c.jsxs("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2 flex justify-center items-center gap-1",children:[c.jsx(Ki,{size:14})," Stabilitas"]}),c.jsx("div",{className:"text-4xl font-black text-amber-500",children:ie.consistencyScore}),c.jsxs("div",{className:"text-xs text-slate-500",children:["deviasi (",ie.interpretation.stabDesc,")"]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 mb-4 flex items-center gap-2",children:[c.jsx(Cc,{size:18})," Grafik Ritme Kerja (Per 1 Menit)"]}),c.jsx("div",{className:"h-48 flex items-end gap-1 p-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-700 overflow-x-auto",children:ie.intervalData.map((q,H)=>{const I=Math.max(...ie.intervalData,1),B=q/I*100;return c.jsxs("div",{className:"flex-1 min-w-[20px] bg-indigo-500/80 hover:bg-indigo-500 transition-all rounded-t relative group",style:{height:`${B}%`},children:[c.jsx("div",{className:"absolute bottom-0 w-full text-center text-[8px] text-white/50",children:H+1}),c.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block bg-black text-white text-[10px] px-2 py-1 rounded z-10 shadow-lg",children:q})]},H)})})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>{s("SETUP")},className:"flex-1 py-4 border-2 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-bold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:"Ulangi Tes"}),c.jsxs("button",{onClick:()=>t(_),className:"flex-1 py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition flex items-center justify-center gap-2 shadow-lg shadow-indigo-200 dark:shadow-none",children:[c.jsx(Qg,{size:20})," Simpan & Keluar"]})]})]})})}const G=r[h]||[],Q=G[v],re=G[v+1],ye=[1,2,3,4,5,6,7,8,9,0];return c.jsxs("div",{className:"fixed inset-0 bg-slate-100 dark:bg-slate-900 flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-3 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm z-20 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Waktu"}),c.jsx("div",{className:"text-xl font-mono font-bold text-slate-800 dark:text-white",children:we(K)})]}),c.jsxs("div",{className:"text-center pl-4 border-l border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Benar"}),c.jsx("div",{className:"text-xl font-bold text-emerald-600",children:y})]})]}),c.jsx("button",{onClick:()=>s("PAUSED"),className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600",children:c.jsx(Va,{size:20,className:"text-slate-600 dark:text-slate-300"})})]}),X&&c.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 z-50 bg-amber-500 text-white px-6 py-2 rounded-full font-bold shadow-lg animate-pulse border-2 border-white",children:"GARIS!  LANJUT HITUNG"}),c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center relative p-4",children:c.jsxs("div",{className:"flex flex-col items-center gap-2 transform scale-110",children:[c.jsx("div",{className:"text-4xl font-mono font-bold text-slate-300 dark:text-slate-700 opacity-30 blur-[1px]",children:v>0?G[v-1]:"-"}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-xl border-4 border-indigo-100 dark:border-slate-700 flex flex-col items-center gap-2 w-64 animate-fade-in-up",children:[c.jsx("div",{className:"text-6xl font-mono font-black text-slate-800 dark:text-white",children:Q}),c.jsx("div",{className:"w-16 h-1 bg-slate-200 dark:bg-slate-600 rounded-full my-1"}),c.jsx("div",{className:"text-6xl font-mono font-black text-slate-800 dark:text-white",children:re!==void 0?re:"-"})]}),c.jsx("div",{className:"text-4xl font-mono font-bold text-slate-300 dark:text-slate-700 opacity-30 blur-[1px]",children:G[v+2]!==void 0?G[v+2]:"-"})]})}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 pb-8 border-t border-slate-200 dark:border-slate-700 shrink-0 z-30",children:[c.jsx("div",{className:"max-w-md mx-auto grid grid-cols-5 gap-3",children:ye.map(ie=>c.jsx("button",{onClick:()=>te(ie),className:"h-16 rounded-2xl bg-slate-100 dark:bg-slate-700 text-2xl font-bold text-slate-700 dark:text-white shadow-sm border-b-4 border-slate-200 dark:border-slate-900 active:border-b-0 active:translate-y-1 transition-all hover:bg-indigo-50 dark:hover:bg-slate-600 active:bg-indigo-100 dark:active:bg-slate-500",children:ie},ie))}),c.jsx("div",{className:"text-center mt-4 text-xs text-slate-400",children:"Gunakan tombol di atas atau keyboard angka"})]}),l==="PAUSED"&&c.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tes Dijeda"}),c.jsx("p",{className:"text-white/60 mb-6 text-sm",children:"Ambil napas sejenak, lalu lanjutkan."}),c.jsx("button",{onClick:()=>s("PLAYING"),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-bold text-lg mb-4 hover:scale-105 transition w-full max-w-xs shadow-lg",children:"Lanjutkan"}),c.jsx("button",{onClick:ze,className:"px-8 py-4 bg-transparent border-2 border-white/20 text-white rounded-2xl font-bold text-lg hover:bg-white/10 transition w-full max-w-xs",children:"Keluar (Simpan)"})]})]})},zp=10,Bp=60,jp=["A","B","C","D","E"],Ot=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qp=(i,t,l)=>{let s=0;return i===100?s+=50:i>=95?s+=45:i>=90?s+=40:i>=80?s+=30:i>=70?s+=20:s+=10,t>=50?s+=30:t>=40?s+=25:t>=30?s+=20:t>=20?s+=10:s+=5,l<2?s+=20:l<4?s+=15:l<6?s+=10:l<8&&(s+=5),s>=95?"Sempurna":s>=85?"Sangat Baik":s>=70?"Baik":s>=55?"Cukup":s>=40?"Kurang":"Buruk"},Op=i=>{let t=[];i==="ANGKA"?t=[...["0","1","2","3","4","5","6","7","8","9"]].sort(()=>.5-Math.random()).slice(0,5):t=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")].sort(()=>.5-Math.random()).slice(0,5);const l=Math.floor(Math.random()*5),s=t.filter((r,d)=>d!==l).sort(()=>.5-Math.random());return{reference:t,question:s,answer:l}},Vp=()=>{const i=3+Math.floor(Math.random()*2),t=Array.from({length:i},()=>Ot[Math.floor(Math.random()*Ot.length)]),l=Math.random()>.5;let s=[...t];if(!l)if(Math.random()>.5){const r=Math.floor(Math.random()*i);let d=Ot[Math.floor(Math.random()*Ot.length)];for(;d===t[r];)d=Ot[Math.floor(Math.random()*Ot.length)];s[r]=d}else i>=2&&([s[0],s[1]]=[s[1],s[0]],s[0]===s[1]&&(s[0]=Ot.find(h=>h!==s[0])||"X"));return{left:t,right:s,isSame:l}},Fp=()=>{const t=[...Ot].sort(()=>.5-Math.random()).slice(0,5),l=Math.floor(Math.random()*5),s=t[l];return{map:t,target:s,answer:l}},Kp=()=>{const i=Ot[Math.floor(Math.random()*Ot.length)],t=Array.from({length:20},()=>{if(Math.random()<.3)return i;let s=Ot[Math.floor(Math.random()*Ot.length)];for(;s===i;)s=Ot[Math.floor(Math.random()*Ot.length)];return s}),l=t.filter(s=>s===i).length;return{target:i,grid:t,totalCorrect:l}},tk=({initialMode:i,onBack:t,onComplete:l})=>{var H;const[s,r]=V.useState(i||"ANGKA"),[d,h]=V.useState(1),[x,v]=V.useState(Bp),[g,y]=V.useState(!1),[S,T]=V.useState("PLAYING"),[A,N]=V.useState(null),[w,M]=V.useState(null),[U,X]=V.useState(null),[j,K]=V.useState(null),[ne,se]=V.useState([]),[$,pe]=V.useState([]),[te,ee]=V.useState(0),[me,Ee]=V.useState(0),[ge,we]=V.useState(null),ze=V.useCallback(()=>{if(s==="ANGKA"||s==="HURUF")if(A){const I=Math.floor(Math.random()*5),B=A.reference.filter((Y,W)=>W!==I).sort(()=>.5-Math.random());N({...A,question:B,answer:I})}else{const I=Op(s);N(I)}else if(s==="SIMBOL")M(Vp());else if(s==="MATCHING")if(!U)X(Fp());else{const I=Math.floor(Math.random()*5);X({...U,target:U.map[I],answer:I})}else s==="GROUPING"&&(K(Kp()),se([]))},[s,A,U]),G=V.useCallback(()=>{N(null),X(null),M(null),K(null),s==="ANGKA"||s==="HURUF"?N(Op(s)):s==="SIMBOL"?M(Vp()):s==="MATCHING"?X(Fp()):s==="GROUPING"&&(K(Kp()),se([])),v(Bp),ee(0),Ee(0)},[s]);V.useEffect(()=>{S==="PLAYING"&&G()},[d,s,S]);const Q=I=>{if(g)return;let B=!1;s==="ANGKA"||s==="HURUF"?B=I===(A==null?void 0:A.answer):s==="SIMBOL"?B=I===(w==null?void 0:w.isSame):s==="MATCHING"&&(B=I===(U==null?void 0:U.answer)),B?(ee(Y=>Y+1),we("CORRECT")):(Ee(Y=>Y+1),we("WRONG"),le.play("error")),setTimeout(()=>we(null),150),ze()},re=()=>{if(!j)return;let I=0,B=0;ne.forEach(W=>{j.grid[W]===j.target?I++:B++});const Y=j.totalCorrect-I;ee(W=>W+I),Ee(W=>W+B+Y),B===0&&Y===0?(we("CORRECT"),le.play("success")):(we("WRONG"),le.play("error")),setTimeout(()=>we(null),200),ze()},ye=I=>{le.play("click"),se(B=>B.includes(I)?B.filter(Y=>Y!==I):[...B,I])};V.useEffect(()=>{if(g||S==="FINISHED")return;const I=setInterval(()=>{v(B=>(B<=6&&B>1&&le.play("tick"),B<=1?(ie(),0):B-1))},1e3);return()=>clearInterval(I)},[g,d,S]);const ie=()=>{const I={section:d,correct:te,wrong:me};pe(B=>{const Y=[...B,I];return d>=zp?setTimeout(()=>T("FINISHED"),0):setTimeout(()=>{h(W=>W+1),le.play("success")},0),Y})},_=()=>{const I=$.length,B=$.reduce((_t,Ut)=>_t+Ut.correct,0),Y=$.reduce((_t,Ut)=>_t+Ut.wrong,0),W=I>0?B/I:0,xe=B+Y,ue=xe>0?B/xe*100:0,Je=W,Ze=$.reduce((_t,Ut)=>_t+Math.pow(Ut.correct-Je,2),0)/(I||1),be=Math.sqrt(Ze),pt=qp(ue,W,be),mt={mode:s,totalCorrect:B,totalWrong:Y,averageSpeed:parseFloat(W.toFixed(1)),accuracy:parseFloat(ue.toFixed(1)),sectionData:$,stability:parseFloat(be.toFixed(2)),verdict:pt},Qt={id:`kecer-${Date.now()}`,date:new Date().toISOString(),category:"KECERMATAN",score:Math.round(ue),maxScore:100,details:mt,questions:[],answers:[]};le.play("finish"),l(Qt)},q=()=>{const I={section:d,correct:te,wrong:me};pe(B=>{const Y=[...B,I],W=Y.reduce((_t,Ut)=>_t+Ut.correct,0),xe=Y.reduce((_t,Ut)=>_t+Ut.wrong,0),ue=W/Y.length,Je=W+xe,Ze=Je>0?W/Je*100:0,mt={mode:s,totalCorrect:W,totalWrong:xe,averageSpeed:parseFloat(ue.toFixed(1)),accuracy:parseFloat(Ze.toFixed(1)),sectionData:Y,stability:parseFloat(5 .toFixed(2)),verdict:"Belum Selesai"},Qt={id:`kecer-${Date.now()}`,date:new Date().toISOString(),category:"KECERMATAN",score:Math.round(Ze),maxScore:100,details:mt,questions:[],answers:[],isAborted:!0};return l(Qt),Y})};if(S==="FINISHED"){const I=$.reduce((Ze,be)=>Ze+be.correct,0),B=I/$.length,Y=I/(I+$.reduce((Ze,be)=>Ze+be.wrong,0))*100,W=B,xe=$.reduce((Ze,be)=>Ze+Math.pow(be.correct-W,2),0)/$.length,ue=Math.sqrt(xe),Je=qp(Y,B,ue);return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex items-center justify-center animate-fade-in",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 text-center",children:[c.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:"Tes Selesai!"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Berikut hasil performa kecermatan Anda."}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("div",{className:"px-6 py-2 bg-indigo-600 text-white rounded-full font-bold text-xl shadow-lg shadow-indigo-200 dark:shadow-none animate-bounce-slow",children:Je})}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Kecepatan"}),c.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white",children:B.toFixed(1)}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"poin/menit"})]}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Akurasi"}),c.jsxs("div",{className:"text-2xl font-black text-emerald-500",children:[Y.toFixed(1),"%"]})]}),c.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Stabilitas"}),c.jsx("div",{className:"text-2xl font-black text-amber-500",children:ue.toFixed(2)}),c.jsx("div",{className:"text-[10px] text-slate-500",children:"deviasi"})]})]}),c.jsx("div",{className:"h-32 flex items-end gap-1 mb-8",children:$.map((Ze,be)=>{const pt=Math.max(...$.map(Qt=>Qt.correct),1),mt=Ze.correct/pt*100;return c.jsx("div",{className:"flex-1 bg-indigo-200 dark:bg-indigo-900 rounded-t-lg relative group",children:c.jsx("div",{className:"absolute bottom-0 w-full bg-indigo-600 rounded-t-lg transition-all duration-500",style:{height:`${mt}%`}})},be)})}),c.jsxs("button",{onClick:_,className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:opacity-90 transition flex items-center justify-center gap-2",children:[c.jsx(Qg,{size:20})," Simpan Hasil"]})]})})}return c.jsxs("div",{className:"fixed inset-0 bg-slate-100 dark:bg-slate-900 flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"px-4 py-2 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm shrink-0 z-20",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Bagian"}),c.jsxs("span",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400",children:[d,"/",zp]})]}),c.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Waktu"}),c.jsxs("span",{className:`text-lg font-mono font-black ${x<=5?"text-rose-500 animate-pulse":"text-slate-800 dark:text-white"}`,children:[x,"s"]})]}),c.jsxs("div",{className:"hidden sm:flex flex-col border-l pl-4 border-slate-200 dark:border-slate-700",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Benar"}),c.jsx("span",{className:"text-lg font-black text-emerald-600",children:te})]})]}),c.jsx("button",{onClick:()=>y(!0),className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:c.jsx(Va,{size:20,className:"text-slate-600 dark:text-slate-300"})})]}),c.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[ge&&c.jsx("div",{className:`absolute inset-0 z-10 flex items-center justify-center pointer-events-none transition-opacity duration-150 ${ge==="CORRECT"?"bg-emerald-500/10":"bg-rose-500/10"}`,children:c.jsx("div",{className:`p-4 rounded-full ${ge==="CORRECT"?"bg-emerald-500 text-white":"bg-rose-500 text-white"} shadow-xl transform scale-125`,children:ge==="CORRECT"?c.jsx(mn,{size:64}):c.jsx(kc,{size:64})})}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-2 w-full max-w-4xl mx-auto h-full min-h-0",children:[(s==="ANGKA"||s==="HURUF"||s==="MATCHING")&&c.jsxs("div",{className:"w-full h-full flex flex-col justify-center gap-4 sm:gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-2 shrink-0",children:[c.jsx("div",{className:"grid grid-cols-5 gap-1",children:(H=s==="MATCHING"?U==null?void 0:U.map:A==null?void 0:A.reference)==null?void 0:H.map((I,B)=>c.jsx("div",{className:`aspect-square flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-lg ${s==="MATCHING"?"py-1":""}`,children:c.jsx("span",{className:`${s==="MATCHING"?"text-4xl sm:text-5xl":"text-2xl sm:text-4xl"} font-black text-slate-800 dark:text-white`,children:I})},B))}),c.jsx("div",{className:"grid grid-cols-5 gap-1 text-center border-t border-slate-100 dark:border-slate-600 pt-1 mt-1",children:jp.map((I,B)=>c.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400",children:I},B))})]}),c.jsxs("div",{className:"text-center py-2 flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:s==="MATCHING"?"Cari Pasangan:":"Mana yang hilang?"}),s==="MATCHING"?c.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 mx-auto flex items-center justify-center bg-indigo-600 rounded-3xl shadow-xl transform transition-all duration-300",children:c.jsx("span",{className:"text-6xl sm:text-7xl font-black text-white",children:U==null?void 0:U.target})}):c.jsx("div",{className:"flex justify-center gap-2 sm:gap-4 flex-wrap",children:A==null?void 0:A.question.map((I,B)=>c.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 flex items-center justify-center bg-white dark:bg-slate-800 rounded-xl border-2 border-slate-200 dark:border-slate-600 shadow-sm text-slate-800 dark:text-white font-bold text-xl sm:text-3xl",children:I},B))})]})]}),s==="SIMBOL"&&w&&c.jsxs("div",{className:"w-full max-w-md h-full flex flex-col justify-center gap-4 text-center min-h-0",children:[c.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4 flex-1 justify-center min-h-0",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 sm:p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-600 shadow-md flex-1 flex items-center justify-center",children:c.jsx("div",{className:"flex justify-center gap-1 sm:gap-2 flex-wrap",children:w.left.map((I,B)=>c.jsx("span",{className:"text-2xl sm:text-4xl text-slate-800 dark:text-white",children:I},B))})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 sm:p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-600 shadow-md flex-1 flex items-center justify-center",children:c.jsx("div",{className:"flex justify-center gap-1 sm:gap-2 flex-wrap",children:w.right.map((I,B)=>c.jsx("span",{className:"text-2xl sm:text-4xl text-slate-800 dark:text-white",children:I},B))})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 shrink-0",children:[c.jsxs("button",{onClick:()=>Q(!0),className:"h-16 sm:h-24 bg-emerald-500 hover:bg-emerald-600 text-white rounded-3xl font-black text-lg sm:text-xl shadow-lg active:scale-95 transition-transform flex flex-col items-center justify-center",children:[c.jsx(mn,{size:24,className:"mb-1 hidden sm:block"})," SAMA"]}),c.jsxs("button",{onClick:()=>Q(!1),className:"h-16 sm:h-24 bg-rose-500 hover:bg-rose-600 text-white rounded-3xl font-black text-lg sm:text-xl shadow-lg active:scale-95 transition-transform flex flex-col items-center justify-center",children:[c.jsx(kc,{size:24,className:"mb-1 hidden sm:block"})," BEDA"]})]}),c.jsx("p",{className:"text-xs text-slate-400 pb-1",children:"Bandingkan kedua kotak. Sama atau Beda?"})]}),s==="GROUPING"&&j&&c.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden min-h-0",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2 shrink-0",children:[c.jsxs("div",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 flex items-center gap-2",children:["Pilih: ",c.jsx("span",{className:"text-2xl bg-white dark:bg-slate-800 px-3 py-1 rounded-lg border inline-block shadow-sm text-indigo-600",children:j.target})]}),c.jsx("button",{onClick:re,className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 shadow-md active:scale-95 transition",children:"Lanjut"})]}),c.jsx("div",{className:"flex-1 grid grid-cols-5 grid-rows-4 gap-1 sm:gap-2 p-1 content-center justify-items-center h-full min-h-0",children:j.grid.map((I,B)=>{const Y=ne.includes(B);return c.jsx("button",{onClick:()=>ye(B),className:`w-full h-full rounded-xl flex items-center justify-center text-xl sm:text-3xl transition-all duration-75 ${Y?"bg-indigo-600 text-white shadow-inner scale-95 border-2 border-indigo-700":"bg-white dark:bg-slate-800 text-slate-800 dark:text-white border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-300"}`,children:I},B)})})]})]})]}),(s==="ANGKA"||s==="HURUF"||s==="MATCHING")&&c.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-2 sm:p-4 pb-6 shrink-0 z-30",children:c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsx("div",{className:"grid grid-cols-5 gap-2 md:gap-4",children:jp.map((I,B)=>c.jsx("button",{onClick:()=>Q(B),className:"h-14 sm:h-20 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-indigo-600 dark:hover:bg-indigo-600 hover:text-white active:scale-95 transition-all shadow-sm border-b-4 border-slate-200 dark:border-slate-900 active:border-b-0 active:translate-y-1 flex flex-col items-center justify-center gap-1 group text-slate-700 dark:text-slate-200",children:c.jsx("span",{className:"text-xl sm:text-2xl font-black",children:I})},B))})})}),g&&c.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tes Dijeda"}),c.jsx("p",{className:"text-white/60 mb-6 text-sm",children:"Ambil napas sejenak, fokus kembali."}),c.jsx("button",{onClick:()=>y(!1),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-bold text-lg mb-4 hover:scale-105 transition w-full max-w-xs shadow-lg",children:"Lanjutkan"}),c.jsx("button",{onClick:q,className:"px-8 py-4 bg-transparent border-2 border-white/20 text-white rounded-2xl font-bold text-lg hover:bg-white/10 transition w-full max-w-xs",children:"Keluar (Simpan)"})]})]})},nk=({targetNumber:i,refreshTrigger:t})=>{const l=V.useRef(null);return V.useEffect(()=>{const s=l.current;if(!s)return;const r=s.getContext("2d");if(!r)return;r.clearRect(0,0,s.width,s.height);const d=document.createElement("canvas");d.width=s.width,d.height=s.height;const h=d.getContext("2d");if(!h)return;h.fillStyle="#000000",h.fillRect(0,0,s.width,s.height),h.fillStyle="#FFFFFF",h.font='bold 160px "Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif',h.textAlign="center",h.textBaseline="middle";const x=(Math.random()-.5)*.2;h.save(),h.translate(s.width/2,s.height/2),h.rotate(x),h.fillText(i.toString(),0,0),h.restore();const g=h.getImageData(0,0,s.width,s.height).data,y=["#E74C3C","#E67E22","#D35400","#C0392B","#F1948A","#E59866","#CD6155"],S=["#27AE60","#2ECC71","#1ABC9C","#16A085","#7DCEA0","#73C6B6","#A9DFBF","#52BE80"],T=s.width/2,A=s.height/2,N=s.width/2-5,w=3500;for(let M=0;M<w;M++){let U=Math.random()*s.width,X=Math.random()*s.height;if(Math.sqrt(Math.pow(U-T,2)+Math.pow(X-A,2))>N)continue;const K=Math.random()*4+1.5,ne=(Math.floor(X)*s.width+Math.floor(U))*4,$=g[ne]>128?y:S;let pe=$[Math.floor(Math.random()*$.length)];Math.random()<.05&&(pe="#95A5A6"),r.beginPath(),r.arc(U,X,K,0,Math.PI*2),r.fillStyle=pe,r.fill()}},[i,t]),c.jsxs("div",{className:"relative",children:[c.jsx("canvas",{ref:l,width:320,height:320,className:"rounded-full shadow-lg bg-slate-50 dark:bg-slate-800 mx-auto border-4 border-slate-200 dark:border-slate-700"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-inner pointer-events-none opacity-20 bg-gradient-to-br from-white to-black"})]})},ik=({onBack:i,onComplete:t})=>{const[l,s]=V.useState([]),[r,d]=V.useState(0),[h,x]=V.useState([]),[v,g]=V.useState(""),[y,S]=V.useState(!1);V.useEffect(()=>{const N=Array.from({length:10},()=>({number:Math.floor(Math.random()*90)+10}));s(N)},[]);const T=()=>{le.play("click");const N=[...h,v];x(N),g(""),r<l.length-1?d(r+1):(le.play("finish"),S(!0))};if(l.length===0)return c.jsx("div",{className:"p-10 text-center dark:text-white flex items-center justify-center min-h-[50vh]",children:"Menyiapkan Tes..."});if(y){const N=l.filter((j,K)=>{var ne;return j.number.toString().trim()===((ne=h[K])==null?void 0:ne.trim())}).length,w=N>=8,M=l.map((j,K)=>({id:`cb-q-${K}`,type:"short_answer",content:`Ishihara Plate #${K+1}`,correctAnswer:j.number.toString(),explanation:`Plate displayed number ${j.number}`,metadata:{difficulty:"Medium",idealTimeSeconds:10,topic:"Buta Warna",subtest:"Ishihara"}})),U=h.map((j,K)=>({questionId:`cb-q-${K}`,selectedAnswer:j,isCorrect:j.trim()===l[K].number.toString().trim(),scoreEarned:j.trim()===l[K].number.toString().trim()?10:0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1})),X={id:`cb-${Date.now()}`,date:new Date().toISOString(),category:"BUTAWRNA",score:N*10,maxScore:100,details:{type:"Ishihara Simulation",passed:w},questions:M,answers:U};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex items-center justify-center transition-colors",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl max-w-lg w-full text-center max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${w?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:w?c.jsx(mn,{size:40}):c.jsx(Rc,{size:40})}),c.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-800 dark:text-white",children:w?"Mata Normal":"Indikasi Buta Warna"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Skor Anda: ",N," dari ",l.length]}),c.jsx("div",{className:"mb-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden text-left",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-300 font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Plate"}),c.jsx("th",{className:"p-3 text-center",children:"Angka"}),c.jsx("th",{className:"p-3 text-center",children:"Jawab"}),c.jsx("th",{className:"p-3 text-center",children:"Status"})]})}),c.jsx("tbody",{children:l.map((j,K)=>{const ne=h[K],se=j.number.toString().trim()===ne.trim();return c.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-700 text-slate-700 dark:text-slate-300",children:[c.jsxs("td",{className:"p-3 font-medium",children:["#",K+1]}),c.jsx("td",{className:"p-3 font-mono text-center",children:j.number}),c.jsx("td",{className:"p-3 font-mono text-center text-slate-600 dark:text-slate-400",children:ne||"-"}),c.jsx("td",{className:"p-3 text-center",children:se?c.jsx(mn,{size:16,className:"text-emerald-500 inline"}):c.jsx(Rc,{size:16,className:"text-rose-500 inline"})})]},K)})})]})}),c.jsx("button",{onClick:()=>t(X),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none",children:"Simpan & Keluar"}),c.jsx("p",{className:"mt-4 text-[10px] text-slate-400",children:"Hasil ini adalah simulasi. Untuk diagnosis medis, hubungi dokter mata."})]})})}const A=l[r];return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center transition-colors",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("button",{onClick:i,className:"flex items-center text-slate-500 dark:text-slate-400 hover:text-indigo-600",children:[c.jsx(dn,{size:18,className:"mr-2"})," Kembali"]}),c.jsxs("span",{className:"text-sm font-bold text-slate-400 bg-slate-200 dark:bg-slate-700 px-3 py-1 rounded-full",children:[r+1," / ",l.length]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-lg border border-slate-100 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"mb-8 flex justify-center py-4",children:c.jsx(nk,{targetNumber:A.number,refreshTrigger:r})}),c.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 font-medium",children:"Angka berapa yang Anda lihat?"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"number",className:"flex-1 p-4 text-center text-2xl font-bold border-2 border-slate-200 dark:border-slate-600 dark:bg-slate-900 dark:text-white rounded-xl focus:border-indigo-600 focus:ring-0 outline-none",placeholder:"?",value:v,onChange:N=>g(N.target.value),autoFocus:!0,onKeyDown:N=>N.key==="Enter"&&v&&T()}),c.jsx("button",{onClick:T,disabled:!v,className:"px-6 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none disabled:opacity-50 hover:bg-indigo-700 transition",children:"OK"})]}),c.jsx("div",{className:"mt-6 flex justify-center",children:c.jsx("button",{onClick:()=>g("0"),className:"text-xs text-slate-400 hover:text-indigo-500 underline",children:"Saya tidak melihat angka"})})]})]})})},ix=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1</i>").replace(/\n- (.*?)/g,"<br/> $1").replace(/\n/g,"<br/>");return c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm font-sans"})},lk=({message:i,type:t,onClose:l})=>{const s=t==="success"?"bg-emerald-500":t==="error"?"bg-rose-500":"bg-indigo-600",r=t==="success"?c.jsx(mn,{size:20}):t==="error"?c.jsx(Rc,{size:20}):c.jsx(K_,{size:20});return V.useEffect(()=>{const d=setTimeout(l,3e3);return()=>clearTimeout(d)},[l]),c.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] flex items-center gap-3 px-6 py-4 rounded-xl shadow-2xl text-white ${s} animate-fade-in-down transition-all`,children:[r,c.jsx("span",{className:"font-bold text-sm",children:i}),c.jsx("button",{onClick:l,className:"ml-4 hover:bg-white/20 p-1 rounded-full",children:c.jsx(Vl,{size:18})})]})},ak=({onLogin:i})=>{const[t,l]=V.useState("");return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-6 transition-colors duration-300",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"mb-8 flex justify-center",children:c.jsx("img",{src:yo,alt:"Logo",className:"w-24 h-24 object-contain animate-bounce-slow"})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Selamat Datang"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Masukkan nama untuk mulai belajar."})]}),c.jsxs("form",{onSubmit:s=>{s.preventDefault(),i(t)},children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 text-left",children:"Nama Pengguna"}),c.jsx("input",{type:"text",className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl focus:border-indigo-600 focus:ring-0 outline-none font-medium text-slate-800 placeholder:text-slate-400",placeholder:"Contoh: Budi Santoso",value:t,onChange:s=>l(s.target.value),required:!0})]}),c.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:["Mulai Belajar ",c.jsx(Fi,{size:20})]})]})]})})},sk=({result:i,feature:t,onBack:l})=>c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center",children:c.jsxs("div",{className:"max-w-3xl w-full",children:[c.jsxs("button",{onClick:l,className:"mb-4 text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[c.jsx(dn,{size:18})," Kembali"]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Uo,{size:28,className:"text-indigo-600"})," Hasil ",t]}),c.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:c.jsx(ix,{text:i})})]})]})}),ok=({questions:i,onComplete:t})=>{const[l,s]=V.useState(0),[r,d]=V.useState(""),[h,x]=V.useState(null),[v,g]=V.useState(!1),[y,S]=V.useState([]),T=i[l],A=async()=>{if(r.trim()){g(!0),le.play("click");try{const w=await XA(T.content,r);x(w)}catch{alert("Gagal evaluasi.")}finally{g(!1)}}},N=()=>{le.play("click");const w={questionId:T.id,selectedAnswer:r,isCorrect:!0,scoreEarned:(h==null?void 0:h.score)||0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1,interviewFeedback:h||void 0},M=[...y,w];S(M),d(""),x(null),l<i.length-1?s(l+1):t(M)};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"mb-4 text-sm font-bold text-slate-400",children:["Pertanyaan ",l+1," dari ",i.length]}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:T.content}),h?c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:["Skor: ",h.score,"/100"]}),c.jsx("span",{className:"text-sm bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-2 py-1 rounded",children:h.toneAnalysis})]}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[c.jsx("b",{children:"Feedback:"})," ",h.feedback]}),c.jsxs("div",{className:"text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-800 dark:text-emerald-300 p-3 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[c.jsx("b",{children:"Saran Jawaban:"})," ",h.improvedAnswer]})]}),c.jsx("button",{onClick:N,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:opacity-90",children:"Lanjut"})]}):c.jsxs(c.Fragment,{children:[c.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-40 focus:ring-2 focus:ring-indigo-500",placeholder:"Jawab seolah sedang interview...",value:r,onChange:w=>d(w.target.value)}),c.jsxs("button",{onClick:A,disabled:v||!r,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[v?c.jsx(Bl,{className:"animate-spin"}):c.jsx(Lo,{size:18})," Submit Jawaban"]})]})]})})},rk=({flashcards:i,onFinish:t})=>{const[l,s]=V.useState(0),r=d=>{l<i.length-1?s(l+1):t()};return i.length===0?c.jsx("div",{children:"No Flashcards"}):c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:[c.jsxs("div",{className:"w-full max-w-xl mb-6 flex justify-between items-center",children:[c.jsx("button",{onClick:t,className:"text-slate-500 hover:text-indigo-600",children:c.jsx(dn,{size:20})}),c.jsxs("span",{className:"font-bold text-slate-400",children:[l+1," / ",i.length]})]}),c.jsx(HC,{data:i[l],onNext:r})]})},uk=({topic:i,onFinish:t})=>{const[l,s]=V.useState(""),[r,d]=V.useState(null),[h,x]=V.useState(!1),v=async()=>{x(!0),le.play("click");try{const g=await QA(i,l);d(g)}catch{alert("Error")}finally{x(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Feynman Technique"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Jelaskan topik ",c.jsxs("b",{children:['"',i,'"']})," seolah-olah Anda sedang mengajari anak kecil (5 tahun). Gunakan bahasa sederhana."]}),r?c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsxs("div",{className:`text-2xl font-bold ${r.understandingScore>70?"text-emerald-500":"text-amber-500"}`,children:[r.understandingScore,"/100"]}),c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 uppercase font-bold",children:"Skor Pemahaman"})]}),c.jsxs("div",{className:"space-y-3 text-sm text-slate-700 dark:text-slate-300",children:[c.jsxs("p",{children:[c.jsx("b",{children:"Kualitas Penyederhanaan:"})," ",r.simplificationQuality]}),c.jsxs("p",{children:[c.jsx("b",{children:"Konsep yang Terlewat:"})," ",r.missingConcepts.join(", ")||"Tidak ada"]}),c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg border border-indigo-100 dark:border-indigo-800 text-indigo-800 dark:text-indigo-300",children:[c.jsx("b",{children:"Koreksi / Saran:"})," ",r.correction]})]})]}),c.jsx("button",{onClick:t,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold",children:"Selesai Belajar"})]}):c.jsxs(c.Fragment,{children:[c.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-48 focus:ring-2 focus:ring-indigo-500",placeholder:"Mulai jelaskan di sini...",value:l,onChange:g=>s(g.target.value)}),c.jsx("button",{onClick:v,disabled:h||!l,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50",children:h?"Menganalisis...":"Cek Pemahaman Saya"})]})]})})},ck=({topic:i,onFinish:t})=>{const l=["Survey","Question","Read","Recite","Review"],[s,r]=V.useState(0),d=["Lakukan scanning cepat pada materi. Baca judul, subjudul, dan kesimpulan. Dapatkan gambaran besar.","Buat pertanyaan dari judul/subjudul. Apa yang ingin Anda ketahui? Ubah judul menjadi pertanyaan.","Baca materi dengan seksama untuk mencari jawaban atas pertanyaan Anda tadi.","Tutup materi. Ucapkan kembali apa yang baru saja dibaca dengan kata-kata sendiri.","Review ulang seluruh materi dan catatan Anda. Pastikan semuanya tersimpan di memori."];return c.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"flex justify-center mb-8",children:l.map((h,x)=>c.jsxs("div",{className:`flex items-center ${x<l.length-1?"w-full":""}`,children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm ${x<=s?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:h[0]}),x<l.length-1&&c.jsx("div",{className:`h-1 flex-1 ${x<s?"bg-indigo-600":"bg-slate-100 dark:bg-slate-700"}`})]},h))}),c.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-4",children:l[s]}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mb-8",children:d[s]}),c.jsx("button",{onClick:()=>{le.play("click"),s<4?r(s+1):t()},className:"px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition",children:s<4?"Lanjut Tahap Berikutnya":"Selesai SQ3R"})]})})},dk=({category:i,onBack:t,onStartSession:l,onOpenTOSelection:s,onStartTesKoran:r,onStartTesKecermatan:d,onGeneralInputSubmit:h,generalInput:x,setGeneralInput:v,isReadingMaterial:g,onResetMaterial:y,onSubtestSelect:S,selectedSubtest:T,weakTopicsCount:A,loading:N,skdStream:w,onSkdStreamSelect:M,onHistory:U,onStartGeneralSession:X,onStartSkripsiSession:j,username:K,isDarkMode:ne,onToggleDarkMode:se})=>{const[$,pe]=V.useState(""),[te,ee]=V.useState(null),[me,Ee]=V.useState("MEDIUM"),[ge,we]=V.useState("MEDIUM"),[ze,G]=V.useState(!1),Q=V.useRef(null),[re,ye]=V.useState(""),[ie,_]=V.useState(5),[q,H]=V.useState("Medium"),I=W=>{var ue;const xe=(ue=W.target.files)==null?void 0:ue[0];if(xe){if(xe.type!=="application/pdf"){alert("Hanya file PDF yang diperbolehkan.");return}ee(xe.name),pe(""),G(!0);const Je=new FileReader;Je.onload=Ze=>{var pt;const be=((pt=Ze.target)==null?void 0:pt.result).split(",")[1];setTimeout(()=>{v&&v({type:"pdf",content:be,title:xe.name,lengthPreference:me,difficultyPreference:ge}),G(!1)},800)},Je.readAsDataURL(xe)}},B=()=>{(x==null?void 0:x.type)==="pdf"?h({...x,lengthPreference:me,difficultyPreference:ge}):$?h({type:"text",content:$,title:"Input Manual",lengthPreference:me,difficultyPreference:ge}):alert("Mohon masukkan teks atau upload PDF.")},Y=W=>{const xe=W.filter(ue=>ue.toLowerCase().includes(re.toLowerCase()));return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6 animate-fade-in-up",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Pilih Topik / Subtes:"}),c.jsxs("div",{className:"mb-4 relative",children:[c.jsx(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Cari topik...",value:re,onChange:ue=>ye(ue.target.value),className:"w-full pl-10 p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:xe.length>0?xe.map(ue=>c.jsx("button",{onClick:()=>{le.play("tap"),S(ue)},className:`px-4 py-2 rounded-full text-sm font-medium transition ${T===ue?"bg-indigo-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:ue},ue)):c.jsx("div",{className:"text-sm text-slate-500 italic p-2",children:"Tidak ada topik yang cocok."})}),T&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&c.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-6 animate-fade-in-up",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[c.jsxs("div",{className:"flex-1 w-full",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Jumlah Soal"}),c.jsxs("select",{value:ie,onChange:ue=>_(Number(ue.target.value)),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[c.jsx("option",{value:"5",children:"5 Soal"}),c.jsx("option",{value:"10",children:"10 Soal"}),c.jsx("option",{value:"15",children:"15 Soal"}),c.jsx("option",{value:"20",children:"20 Soal"})]})]}),c.jsxs("div",{className:"flex-1 w-full",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Tingkat Kesulitan"}),c.jsxs("select",{value:q,onChange:ue=>H(ue.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[c.jsx("option",{value:"Easy",children:"Mudah"}),c.jsx("option",{value:"Medium",children:"Sedang"}),c.jsx("option",{value:"Hard",children:"Sulit"}),c.jsx("option",{value:"HOTS",children:"HOTS (Analisis Tinggi)"})]})]}),c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.PRACTICE,q,ie)},className:"w-full sm:w-auto px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[c.jsx(Gp,{size:18})," Mulai Latihan"]})]})}),i==="INTERVIEW"&&T&&c.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-4 animate-fade-in-up",children:c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.DRILL)},className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[c.jsx(Lo,{size:20})," Mulai Sesi Wawancara"]})})]})};return c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors duration-300",children:[c.jsx(PC,{}),c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("button",{onClick:()=>{le.play("back"),t()},className:"flex items-center text-slate-500 dark:text-slate-400 hover:text-indigo-600 font-medium",children:[c.jsx(dn,{size:18,className:"mr-2"})," Kembali"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[se&&c.jsx("button",{onClick:()=>{se()},className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 transition",children:ne?c.jsx(Wg,{size:16}):c.jsx($g,{size:16})}),c.jsxs("span",{className:"text-xs font-bold text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-full flex items-center gap-1",children:[c.jsx(ex,{size:12})," ",K]})]})]}),c.jsx("div",{className:"flex justify-between items-end mb-8",children:c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm font-bold tracking-wider text-indigo-600 uppercase mb-1 block",children:[i," Dashboard"]}),c.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Pusat Kendali Belajar"})]})}),N?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[c.jsx(Bl,{className:"animate-spin text-indigo-600 w-10 h-10 mb-4"}),c.jsx("p",{className:"text-slate-500 font-medium",children:"AI sedang memproses materi..."}),c.jsx("div",{className:"max-w-md w-full mt-8 space-y-4",children:c.jsx(BC,{})})]}):c.jsxs(c.Fragment,{children:[i==="KECERMATAN"&&c.jsx("div",{className:"animate-fade-in-up",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("button",{onClick:()=>{le.play("click"),d("ANGKA")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/40 rounded-lg text-indigo-600 dark:text-indigo-400",children:c.jsx(Ki,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Angka Hilang"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Standar tes kedinasan/Polri. Temukan angka yang hilang dari kolom."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("HURUF")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-emerald-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg text-emerald-600 dark:text-emerald-400",children:c.jsx(Ki,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Huruf Hilang"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Variasi huruf. Melatih ketelitian visual terhadap karakter mirip."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("SIMBOL")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-amber-50 dark:hover:bg-amber-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-amber-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-amber-100 dark:bg-amber-900/40 rounded-lg text-amber-600 dark:text-amber-400",children:c.jsx(j_,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Simbol Hilang"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Bandingkan dua baris simbol. Tentukan SAMA atau BEDA secepat mungkin."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("MATCHING")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-rose-50 dark:hover:bg-rose-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-rose-500 rounded-2xl text-left transition group shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-rose-100 dark:bg-rose-900/40 rounded-lg text-rose-600 dark:text-rose-400",children:c.jsx(wc,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Matching (Pencocokan)"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cocokkan simbol dengan kode kuncinya. Melatih memori kerja jangka pendek."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),d("GROUPING")},className:"p-6 bg-white dark:bg-slate-800 hover:bg-cyan-50 dark:hover:bg-cyan-900/20 border-2 border-slate-200 dark:border-slate-700 hover:border-cyan-500 rounded-2xl text-left transition group shadow-sm md:col-span-2",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"p-2 bg-cyan-100 dark:bg-cyan-900/40 rounded-lg text-cyan-600 dark:text-cyan-400",children:c.jsx(Kg,{size:24})}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Grouping (Pengelompokan)"})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Pilih semua simbol yang diminta dari grid acak. Melatih fokus selektif."})]})]})}),i==="SKRIPSI"&&c.jsx("div",{className:"animate-fade-in-up max-w-2xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(Uo,{size:24,className:"text-indigo-600"})," Skripsi Assistant"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Masukkan topik atau judul skripsi Anda untuk mendapatkan bantuan AI."}),c.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-6 focus:ring-2 focus:ring-indigo-500 h-32",placeholder:"Contoh: Pengaruh Kecerdasan Buatan terhadap Minat Belajar Mahasiswa Teknik Informatika...",value:$,onChange:W=>pe(W.target.value)}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("TITLE_IDEAS",$)},className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-xl font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/40 flex flex-col items-center gap-2 border border-indigo-100 dark:border-indigo-800",children:[c.jsx(Ei,{size:24})," Ide Judul"]}),c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("OUTLINE",$)},className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 rounded-xl font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/40 flex flex-col items-center gap-2 border border-emerald-100 dark:border-emerald-800",children:[c.jsx(Oa,{size:24})," Buat Outline"]}),c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("METHODOLOGY",$)},className:"p-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 rounded-xl font-bold hover:bg-amber-100 dark:hover:bg-amber-900/40 flex flex-col items-center gap-2 border border-amber-100 dark:border-amber-800",children:[c.jsx(cc,{size:24})," Cek Metodologi"]}),c.jsxs("button",{onClick:()=>{le.play("click"),j&&j("PARAPHRASE",$)},className:"p-4 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-300 rounded-xl font-bold hover:bg-rose-100 dark:hover:bg-rose-900/40 flex flex-col items-center gap-2 border border-rose-100 dark:border-rose-800",children:[c.jsx(G_,{size:24})," Parafrase Teks"]})]})]})}),i==="GENERAL"&&c.jsx("div",{className:"space-y-8 animate-fade-in-up",children:g?c.jsxs("div",{className:"animate-fade-in-up",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[c.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Lp,{size:20})," Materi Belajar"]}),c.jsx("button",{onClick:y,className:"text-sm text-rose-500 hover:underline",children:"Ganti Materi"})]}),(x==null?void 0:x.type)==="pdf"&&x.content&&c.jsx("div",{className:"mb-6",children:c.jsx("embed",{src:`data:application/pdf;base64,${x.content}`,className:"w-full h-[500px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})}),c.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-300 leading-relaxed max-h-[400px] overflow-y-auto p-2 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:c.jsx(ix,{text:(x==null?void 0:x.extractedText)||(x==null?void 0:x.content)||""})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Sudah selesai membaca? Pilih Metode Belajar:"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ky.map(W=>{const ue={Brain:Ei,Repeat:fC,MessageCircle:eC,Share2:bC,Search:cc,GraduationCap:Kc,BookOpen:Lp,PenTool:Gp}[W.icon]||Ei;return c.jsxs("button",{onClick:()=>{le.play("click"),X(W.id)},className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-md transition text-left flex flex-col h-full",children:[c.jsx("div",{className:"mb-3 text-indigo-600 dark:text-indigo-400",children:c.jsx(ue,{size:24})}),c.jsx("h4",{className:"font-bold text-sm mb-1 text-slate-900 dark:text-white",children:W.name}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:W.desc})]},W.id)})})]})]}):c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(Yc,{size:20})," Input Materi"]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Masukkan topik, teks materi, atau upload PDF yang ingin dipelajari."}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("input",{type:"text",className:"flex-1 p-3 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl",placeholder:te?`PDF Terpilih: ${te}`:"Contoh: Perang Dunia II, Hukum Newton, atau paste teks...",value:$,disabled:!!te,onChange:W=>{pe(W.target.value)}}),c.jsx("input",{type:"file",ref:Q,accept:"application/pdf",className:"hidden",onChange:I}),c.jsxs("button",{className:`p-3 rounded-xl transition flex items-center gap-2 ${te?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200"}`,title:"Upload PDF",onClick:()=>{var W;return(W=Q.current)==null?void 0:W.click()},children:[c.jsx(Oa,{size:20}),c.jsx("span",{className:"hidden sm:inline font-bold text-sm",children:"Upload PDF"})]})]}),te&&c.jsxs("div",{className:"mb-4 text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-lg flex items-center justify-between animate-fade-in-up border border-emerald-100 dark:border-emerald-800",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mn,{size:16}),c.jsxs("span",{children:["File siap: ",c.jsx("b",{children:te})]})]}),c.jsx("button",{onClick:()=>{ee(null),v&&v(null),Q.current&&(Q.current.value="")},className:"text-slate-400 hover:text-rose-500",title:"Hapus PDF",children:c.jsx(_o,{size:16})})]}),ze?c.jsxs("div",{className:"mb-6 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-2",children:[c.jsx(Bl,{size:14,className:"animate-spin"})," Memuat Preview PDF..."]}),c.jsx(Vi,{height:"h-[300px]",className:"rounded-xl"})]}):(x==null?void 0:x.type)==="pdf"&&x.content&&c.jsxs("div",{className:"mb-6 animate-fade-in-up",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 mb-2 block",children:"Preview PDF:"}),c.jsx("embed",{src:`data:application/pdf;base64,${x.content}`,className:"w-full h-[300px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Panjang Materi (Ringkasan)"}),c.jsxs("select",{value:me,onChange:W=>Ee(W.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[c.jsx("option",{value:"SHORT",children:"Ringkas / Poin Penting"}),c.jsx("option",{value:"MEDIUM",children:"Standar (Rekomedasi)"}),c.jsx("option",{value:"LONG",children:"Mendalam / Detail"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Tingkat Kesulitan Soal"}),c.jsxs("select",{value:ge,onChange:W=>we(W.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[c.jsx("option",{value:"EASY",children:"Mudah (Recall)"}),c.jsx("option",{value:"MEDIUM",children:"Sedang (Konseptual)"}),c.jsx("option",{value:"HARD",children:"Sulit / HOTS"})]})]})]}),c.jsx("button",{onClick:()=>{le.play("click"),B()},className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Proses & Baca Materi"})]})}),i==="UTBK"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group shadow-lg shadow-indigo-200 dark:shadow-none",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(zl,{size:24,className:"text-rose-400"})," Simulasi UTBK SNBT Full"]}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"160 Soal. Durasi 195 Menit. Format Resmi 2025."})]}),c.jsx(Fi,{className:"group-hover:translate-x-2 transition-transform"})]}),Y(wy)]}),i==="TPA"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Ei,{size:24,className:"text-indigo-400"})," Simulasi TPA Full"]}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"65 Soal (TPA & TBI). Durasi 60-100 Menit."})]}),c.jsx(Fi,{className:"group-hover:translate-x-2 transition-transform"})]}),Y(Ry)]}),i==="PSIKOTEST"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("button",{onClick:()=>{le.play("click"),r()},className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group shadow-sm",children:[c.jsx(A_,{size:48,className:"mx-auto mb-4 text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Tes Koran (Pauli/Kraepelin)"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Uji kecepatan, ketelitian, dan stabilitas emosi dengan menjumlahkan angka."})]}),c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group shadow-sm",children:[c.jsx(Ei,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Psikotes Logika & IQ"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Analogi, Deret Angka, dan Penalaran Logis (HOTS)."})]})]}),c.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Latihan Per Subtes"}),Y(Iy)]})]}),i==="INTERVIEW"&&Y(Dy),i==="SKD"&&(w?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-slate-600 dark:text-slate-300",children:[c.jsx("button",{onClick:()=>M(null),className:"underline",children:"Ubah Jalur"})," ",c.jsx(Fi,{size:14})," ",c.jsx("b",{children:w})]}),c.jsxs("button",{onClick:()=>{le.play("click"),s()},className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center shadow-lg shadow-indigo-200 dark:shadow-none",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(zl,{size:24,className:"text-rose-400"})," Simulasi SKD CAT (110 Soal)"]}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"TWK, TIU, TKP. Durasi 100 Menit. Scoring Resmi."})]}),c.jsx(Fi,{className:"group-hover:translate-x-2 transition-transform"})]}),Y(My)]}):c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("button",{onClick:()=>{le.play("click"),M("KEDINASAN")},className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[c.jsx(Y_,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Sekolah Kedinasan"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"STAN, STIS, IPDN, dll"})]}),c.jsxs("button",{onClick:()=>{le.play("click"),M("CPNS")},className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[c.jsx(E_,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"CPNS Umum"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Kementerian & Lembaga"})]})]})),i!=="GENERAL"&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&i!=="PSIKOTEST"&&i!=="KECERMATAN"&&c.jsxs("div",{className:"mt-8 animate-fade-in-up delay-100",children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Mode Belajar Lainnya"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.DRILL)},className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[c.jsx(Fa,{className:"text-amber-500 mb-2"}),c.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Learn & Drill"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Materi + 1 Soal"})]}),c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.ACTIVE_RECALL)},className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[c.jsx(Ei,{className:"text-emerald-500 mb-2"}),c.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Active Recall"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Isian Singkat"})]}),A>0&&c.jsxs("button",{onClick:()=>{le.play("click"),l(Ne.WEAKNESS)},className:"p-4 bg-white dark:bg-slate-800 border border-rose-200 dark:border-rose-900 rounded-xl hover:border-rose-500 hover:shadow-md transition text-left",children:[c.jsx(wc,{className:"text-rose-500 mb-2"}),c.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Weakness Attack"}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[A," Topik Lemah"]})]})]})]})]})]})]})};function fk(){var Qa;const[i,t]=V.useState("SPLASH"),[l,s]=V.useState(null),[r,d]=V.useState(!1),[h,x]=V.useState({soundEnabled:!0,musicEnabled:!0,volume:.5,funnyNotifications:!0,confirmActions:!0,darkMode:!1}),[v,g]=V.useState(null),[y,S]=V.useState(!1),[T,A]=V.useState(""),[N,w]=V.useState(null),[M,U]=V.useState(null),[X,j]=V.useState(new Set),[K,ne]=V.useState("ANGKA"),[se,$]=V.useState(null),[pe,te]=V.useState([]),[ee,me]=V.useState(null),[Ee,ge]=V.useState(null),[we,ze]=V.useState(""),[G,Q]=V.useState([]),[re,ye]=V.useState(null),[ie,_]=V.useState([]),[q,H]=V.useState(!1),[I,B]=V.useState(""),[Y,W]=V.useState([]),[xe,ue]=V.useState(null),[Je,Ze]=V.useState(null),be=(Z,de)=>Ze({msg:Z,type:de}),[pt,mt]=V.useState([]);V.useEffect(()=>{const Z=localStorage.getItem("fajmuls_username"),de=localStorage.getItem("fajmuls_settings"),Ce=localStorage.getItem("fajmuls_packages");if(de?x(JSON.parse(de)):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&x(Te=>({...Te,darkMode:!0})),Ce){const Te=JSON.parse(Ce),Ie=new Set([...ec,...tc,...nc,...ac,...oc,...ic,...lc,...sc].map(Me=>Me.id)),rt=Te.filter(Me=>!Ie.has(Me.id));mt([...ec,...tc,...nc,...ac,...oc,...ic,...lc,...sc,...rt])}else mt([...ec,...tc,...nc,...ac,...oc,...ic,...lc,...sc]);Z&&Qt(Z,!1)},[]),V.useEffect(()=>{localStorage.setItem("fajmuls_settings",JSON.stringify(h)),h.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),le.syncSettings(h)},[h]),V.useEffect(()=>{pt.length>0&&localStorage.setItem("fajmuls_packages",JSON.stringify(pt))},[pt]);const Qt=async(Z,de=!0)=>{const Ce=Z.trim();if(!Ce)return;le.play("click"),B(Ce),localStorage.setItem("fajmuls_username",Ce),de&&t("HOME");const Te=localStorage.getItem(`fajmuls_history_${Ce}`);let Ie=[];if(Te)try{Ie=JSON.parse(Te)}catch{console.error("History parse fail")}W(Ie)},_t=()=>{le.play("click"),localStorage.removeItem("fajmuls_username"),B(""),W([]),t("LOGIN")},Ut=async Z=>{const de=[Z,...Y];W(de),localStorage.setItem(`fajmuls_history_${I}`,JSON.stringify(de))},Ka=Z=>{const de=Y.filter(Ce=>Ce.id!==Z);W(de),localStorage.setItem(`fajmuls_history_${I}`,JSON.stringify(de)),be("Riwayat berhasil dihapus secara permanen.","success"),le.play("click")},Fl=async Z=>{H(!0);try{const de=await ZA(Z);g({...Z,extractedText:de}),S(!0)}catch{be("Gagal memproses materi. Coba lagi.","error")}finally{H(!1)}},Kl=async(Z,de)=>{if(!de.trim()){be("Mohon isi judul atau topik.","error");return}H(!0),ge(Z);try{const Ce=await WA(de,Z);ze(Ce),t("SESSION")}catch{be("Gagal generate konten skripsi.","error")}finally{H(!1)}},Jl=async Z=>{if(!v){be("Materi hilang. Silakan input ulang.","error");return}H(!0),$(Z),w(Ne.DRILL);try{if(Z==="ACTIVE_RECALL"||Z==="PBL"||Z==="PRACTICE"||Z==="TEACHING"){const de=await It(Ne.DRILL,"GENERAL",v,5,[],void 0,Z);Q(de)}else if(Z==="SPACED_REPETITION"){const de=await e_(v);te(de)}else if(Z==="MIND_MAP"){const de=await t_(v);me(de)}t("SESSION")}catch{be("Gagal memuat materi AI.","error")}finally{H(!1)}},Ja=async(Z,de,Ce)=>{if(l){if(["UTBK","SKD","TPA","PSIKOTEST","INTERVIEW"].includes(l)&&!T&&Z!==Ne.SIMULATION&&Z!==Ne.WEAKNESS){be(`Harap pilih topik/subtes untuk ${l}.`,"error");return}if(l==="SKD"&&!M){be("Harap pilih jalur (CPNS / Kedinasan).","error");return}H(!0),w(Z),_([]),Q([]),ye(null);try{const Te=T;if(Z===Ne.DRILL){const Ie=await n_(l,Te,M||void 0);ye(Ie),Ie&&Ie.question&&Q([Ie.question])}else if(Z===Ne.SIMULATION&&l==="SKD"&&M){const Ie=await Ip(M);Q(Ie||[])}else if(Z===Ne.SIMULATION&&l==="UTBK"){const Ie=await Dp();Q(Ie||[])}else if(Z===Ne.SIMULATION&&l==="TPA"){const Ie=await i_();Q(Ie||[])}else if(Z===Ne.SIMULATION&&l==="PSIKOTEST"){const Ie=await l_();Q(Ie||[])}else{let Ie=Ce||5;l==="PSIKOTEST"&&Z===Ne.SIMULATION&&(Ie=40),l==="INTERVIEW"&&(Ie=3);const rt=await It(Z,l,Te,Ie,Array.from(X),M||void 0,void 0,de);Q(rt||[])}t("SESSION")}catch(Te){console.error(Te),be("Gagal memuat soal. Kemungkinan traffic AI sedang tinggi. Coba lagi.","error")}finally{H(!1)}}},Ai=(Z,de,Ce=!1)=>{if(de){const Me={...de,isAborted:Ce};Ut(Me),t("HOME");return}_(Z);let Te=0,Ie=0,rt;if(l==="SKD"&&N===Ne.SIMULATION){let Me=0,He=0,Ve=0;Z.forEach(Ye=>{var kt,wt,hn,pn,Zt,Lt;const it=G.find($n=>$n.id===Ye.questionId);it&&((wt=(kt=it.metadata)==null?void 0:kt.subtest)!=null&&wt.includes("TWK")&&(Me+=Ye.scoreEarned),(pn=(hn=it.metadata)==null?void 0:hn.subtest)!=null&&pn.includes("TIU")&&(He+=Ye.scoreEarned),(Lt=(Zt=it.metadata)==null?void 0:Zt.subtest)!=null&&Lt.includes("TKP")&&(Ve+=Ye.scoreEarned))}),Te=Me+He+Ve,Ie=550,rt={twk:Me,tiu:He,tkp:Ve,total:Te,passed:Me>=65&&He>=80&&Ve>=166}}else if(l==="UTBK"&&N===Ne.SIMULATION){const Me=Zt=>{const Lt=G.filter(Cn=>{var Xn,Qn;return(Qn=(Xn=Cn.metadata)==null?void 0:Xn.subtest)==null?void 0:Qn.includes(Zt)});if(!Lt.length)return 0;const $n=Z.filter(Cn=>{var Xn,Qn,$i;return Cn.isCorrect&&(($i=(Qn=(Xn=G.find(Yl=>Yl.id===Cn.questionId))==null?void 0:Xn.metadata)==null?void 0:Qn.subtest)==null?void 0:$i.includes(Zt))}).length;return Math.round(200+$n/Lt.length*600)},He=Me("Penalaran Umum"),Ve=Me("PPU"),Ye=Me("PBM"),it=Me("Kuantitatif"),kt=Me("Literasi B.Indo"),wt=Me("Literasi B.Inggris"),hn=Me("Penalaran Matematika"),pn=Math.round((He+Ve+Ye+it+kt+wt+hn)/7);Te=pn,Ie=1e3,rt={pu:He,ppu:Ve,pbm:Ye,pk:it,lbi:kt,lbe:wt,pm:hn,average:pn}}else if(l==="TPA"&&N===Ne.SIMULATION){let Me=0,He=0,Ve=0,Ye=0;Z.forEach(wt=>{var pn,Zt,Lt,$n;const hn=G.find(Cn=>Cn.id===wt.questionId);hn&&((Zt=(pn=hn.metadata)==null?void 0:pn.subtest)!=null&&Zt.includes("TBI")||($n=(Lt=hn.metadata)==null?void 0:Lt.subtest)!=null&&$n.includes("Inggris")?(Ye++,wt.isCorrect&&He++):(Ve++,wt.isCorrect&&Me++))});const it=Math.round(200+Me/(Ve||1)*600),kt=Math.round(He/(Ye||1)*100);Te=it+kt,Ie=900,rt={tpaScore:it,tbiScore:kt,tpaCorrect:Me,tbiCorrect:He}}else if(l==="INTERVIEW"){const Me=Z.map(He=>{var Ve;return((Ve=He.interviewFeedback)==null?void 0:Ve.score)||0});Te=Math.round(Me.reduce((He,Ve)=>He+Ve,0)/(Me.length||1)),Ie=100}else if(l==="PSIKOTEST"&&N===Ne.SIMULATION){const Me=Z.filter(kt=>kt.isCorrect).length,He=G.length,Ve=Me/He,Ye=Math.round(70+Ve*75);let it=Ye>=130?"Very Superior":Ye>=120?"Superior":Ye>=110?"High Average":Ye>=90?"Average":"Low Average";Te=Ye,Ie=160,rt={iqScore:Ye,classification:it}}else if(l==="GENERAL"){const Me=Z.reduce((He,Ve)=>He+(Ve.scoreEarned||0),0);Te=Math.round(Me/(Z.length||1)),Ie=100}else{const Me=Z.filter(He=>He.isCorrect).length;Te=Math.round(Me/G.length*100),Ie=100}Ut({id:`h-${Date.now()}`,date:new Date().toISOString(),category:l,skdStream:M||void 0,score:Te,maxScore:Ie,details:rt,questions:G,answers:Z,isAborted:Ce}),t("RESULTS")},Ct=Z=>{le.play("click"),s(Z),Z==="BUTAWRNA"?t("COLORBLIND"):(t("DASHBOARD"),g(null),S(!1),A(""),U(null),$(null),ge(null),ze(""))},Go=Z=>{ne(Z),t("TES_KECERMATAN")},Ya=()=>{if(Y.length===0){be("Belum ada riwayat untuk disimpan.","info");return}const Z=JSON.stringify(Y,null,2),de=new Blob([Z],{type:"application/json"}),Ce=URL.createObjectURL(de),Te=document.createElement("a");Te.href=Ce,Te.download=`Fajmuls_History_${I}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Ce),be("Export berhasil!","success")},$a=Z=>{const de=new FileReader;de.onload=Ce=>{var Te;try{const Ie=(Te=Ce.target)==null?void 0:Te.result,rt=JSON.parse(Ie);if(!Array.isArray(rt))throw new Error("Format salah");const Me=new Set(Y.map(Ye=>Ye.id)),He=rt.filter(Ye=>!Me.has(Ye.id)),Ve=[...Y,...He].sort((Ye,it)=>new Date(it.date).getTime()-new Date(Ye.date).getTime());W(Ve),localStorage.setItem(`fajmuls_history_${I}`,JSON.stringify(Ve)),be(`Berhasil memuat ${He.length} riwayat baru.`,"success")}catch{be("Gagal membaca file JSON.","error")}},de.readAsText(Z)},Yi=Z=>{Q(Z.questions),w(Ne.SIMULATION),t("SESSION")},Po=async Z=>{if(l)try{let de=[],Ce=`Paket Latihan ${l} ${new Date().toLocaleDateString()}`,Te=60;l==="SKD"?(de=await Ip(M||"CPNS"),Ce=`Try Out SKD ${M} AI-Gen`,Te=100):l==="UTBK"?(de=await Dp(),Ce="Try Out UTBK AI-Gen",Te=195):(de=await It(Ne.SIMULATION,l,"SIMULATION",20,[],M||void 0),Ce=`Latihan ${l} AI-Gen`);const Ie={id:`pkg-${Date.now()}`,title:Ce,category:l,skdStream:M||void 0,questions:de,durationMinutes:Te,isAiGenerated:!0,createdAt:new Date().toISOString()};mt(rt=>[Ie,...rt]),be("Paket baru berhasil dibuat!","success")}catch{be("Gagal membuat paket soal.","error")}},Xa=Z=>{mt(de=>de.filter(Ce=>Ce.id!==Z)),be("Paket dihapus.","success")},Ho=Z=>{Array.from(Z).forEach(de=>{const Ce=new FileReader;Ce.onload=Te=>{var Ie;try{const rt=(Ie=Te.target)==null?void 0:Ie.result,Me=JSON.parse(rt);Me.id&&Me.questions&&(mt(He=>He.find(Ve=>Ve.id===Me.id)?He:[Me,...He]),be(`Paket "${Me.title}" diimpor.`,"success"))}catch{be("File tidak valid.","error")}},Ce.readAsText(de)})};return i==="SPLASH"?c.jsx(jC,{onComplete:()=>t(I?"HOME":"LOGIN")}):i==="LOGIN"?c.jsx(ak,{onLogin:Z=>Qt(Z)}):c.jsxs(c.Fragment,{children:[Je&&c.jsx(lk,{message:Je.msg,type:Je.type,onClose:()=>Ze(null)}),c.jsx(qC,{isOpen:r,onClose:()=>d(!1),settings:h,onUpdate:x}),i!=="SESSION"&&i!=="TES_KORAN"&&i!=="TES_KECERMATAN"&&c.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md z-40 border-b border-slate-200 dark:border-slate-700 px-6 py-3 flex justify-between items-center animate-fade-in-down",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{le.play("click"),t("HOME")},children:[c.jsx("img",{src:yo,alt:"Logo",className:"w-8 h-8 object-contain"}),c.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white hidden sm:block",children:"Fajmuls Learning"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[c.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:I}),c.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Ready to learn"})]}),c.jsx("button",{onClick:()=>{le.play("click"),d(!0)},className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition",children:c.jsx(Zg,{size:20,className:"text-slate-600 dark:text-slate-300"})})]})]}),c.jsxs("div",{className:`${i!=="SESSION"&&i!=="TES_KORAN"&&i!=="TES_KECERMATAN"?"pt-20":""}`,children:[i==="HOME"&&c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center relative transition-colors duration-300",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("img",{src:yo,alt:"Logo",className:"w-32 h-32 object-contain mx-auto mb-6 animate-float"}),c.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Pilih Jalur Belajarmu"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Sistem belajar adaptif untuk persiapan ujian."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-6xl",children:Yp.map(Z=>c.jsxs("button",{onClick:()=>Ct(Z.id),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all group text-left flex flex-col items-start relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-indigo-50 dark:bg-indigo-900/20 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),c.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-slate-700 rounded-lg flex items-center justify-center mb-6 group-hover:bg-indigo-600 transition-colors relative z-10",children:Z.id==="GENERAL"?c.jsx(Oa,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="SKD"?c.jsx(Vg,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="INTERVIEW"?c.jsx(Lo,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="BUTAWRNA"?c.jsx(Xg,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="PSIKOTEST"?c.jsx(Ei,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="SKRIPSI"?c.jsx(Uo,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="KECERMATAN"?c.jsx(Fc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):c.jsx(Kc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2 relative z-10",children:Z.name}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed relative z-10",children:Z.desc})]},Z.id))}),c.jsxs("div",{className:"mt-12 flex gap-4",children:[c.jsxs("button",{onClick:()=>{le.play("click"),t("HISTORY")},className:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition",children:[c.jsx(Jg,{size:18})," Riwayat Belajar"]}),c.jsxs("button",{onClick:_t,className:"flex items-center gap-2 px-6 py-3 bg-rose-50 dark:bg-rose-900/20 rounded-xl shadow-sm border border-rose-100 dark:border-rose-900 font-bold text-rose-700 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/40 transition",children:[c.jsx(Z_,{size:18})," Keluar"]})]})]}),i==="DASHBOARD"&&c.jsx(dk,{category:l,onBack:()=>{le.play("back"),t("HOME")},onStartSession:Ja,onOpenTOSelection:()=>{le.play("click"),t("TO_SELECTION")},onStartTesKoran:()=>{le.play("click"),t("TES_KORAN")},onStartTesKecermatan:Go,onGeneralInputSubmit:Fl,generalInput:v,setGeneralInput:g,isReadingMaterial:y,onResetMaterial:()=>{S(!1),g(null)},onSubtestSelect:A,selectedSubtest:T,weakTopicsCount:X.size,loading:q,skdStream:M,onSkdStreamSelect:U,onHistory:()=>{le.play("click"),t("HISTORY")},onStartGeneralSession:Jl,onStartSkripsiSession:Kl,username:I,isDarkMode:h.darkMode,onToggleDarkMode:()=>{x(Z=>({...Z,darkMode:!Z.darkMode}))}}),i==="TO_SELECTION"&&c.jsx(OC,{category:l,skdStream:M||void 0,availablePackages:pt,history:Y,onSelectPackage:Yi,onGenerateNew:Po,onDeletePackage:Xa,onImportPackage:Ho,onBack:()=>{le.play("back"),t("DASHBOARD")},showToast:be,confirmEnabled:h.confirmActions}),i==="SESSION"&&(l==="SKRIPSI"?c.jsx(sk,{result:we,feature:Ee,onBack:()=>{le.play("back"),t("DASHBOARD")}}):l==="INTERVIEW"?c.jsx(ok,{questions:G,onComplete:Z=>Ai(Z)}):l==="GENERAL"&&se==="SPACED_REPETITION"?c.jsx(rk,{flashcards:pe,onFinish:()=>{le.play("back"),t("DASHBOARD")}}):l==="GENERAL"&&se==="MIND_MAP"?c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col transition-colors duration-300",children:[" ",c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[" ",c.jsxs("button",{onClick:()=>{le.play("back"),t("DASHBOARD")},className:"flex items-center text-slate-500 dark:text-slate-400",children:[c.jsx(dn,{size:18})," Kembali"]})," ",c.jsx("h2",{className:"font-bold text-slate-800 dark:text-white",children:"Mind Mapping"})," "]})," ",c.jsx(zC,{data:ee})," "]}):l==="GENERAL"&&se==="FEYNMAN"?c.jsx(uk,{topic:(v==null?void 0:v.content)||"",onFinish:()=>{le.play("back"),t("DASHBOARD")}}):l==="GENERAL"&&se==="SQ3R"?c.jsx(ck,{topic:(v==null?void 0:v.content)||"",onFinish:()=>{le.play("back"),t("DASHBOARD")}}):c.jsx(XC,{mode:N,questions:G,drillContent:re,onComplete:(Z,de,Ce)=>Ai(Z,de,Ce),isSkdSimulation:N===Ne.SIMULATION&&l==="SKD",isUtbkSimulation:N===Ne.SIMULATION&&l==="UTBK",category:l,showToast:be})),i==="TES_KORAN"&&c.jsx(ek,{onBack:()=>t("DASHBOARD"),onComplete:Z=>Ai([],Z)}),i==="TES_KECERMATAN"&&c.jsx(tk,{initialMode:K,onBack:()=>t("DASHBOARD"),onComplete:Z=>Ai([],Z)}),i==="RESULTS"&&c.jsx(FC,{answers:ie,questions:G,onHome:()=>{le.play("back"),t("HOME")},onRetry:()=>{le.play("click"),Ja(N)},category:l,details:(Qa=Y[0])==null?void 0:Qa.details}),i==="HISTORY"&&c.jsx(JC,{history:Y,onBack:()=>{le.play("back"),t("HOME")},onReview:Z=>{le.play("click"),ue(Z),t("REVIEW")},username:I,onExport:Ya,onImport:$a,isDarkMode:h.darkMode,onDelete:Ka}),i==="REVIEW"&&c.jsx(YC,{item:xe,onBack:()=>{le.play("back"),t("HISTORY")}}),i==="COLORBLIND"&&c.jsx(ik,{onBack:()=>{le.play("back"),t("HOME")},onComplete:Z=>Ai([],Z)})]})]})}const lx=document.getElementById("root");if(!lx)throw new Error("Could not find root element to mount to");const mk=Cy.createRoot(lx);mk.render(c.jsx(yy.StrictMode,{children:c.jsx(fk,{})}));
