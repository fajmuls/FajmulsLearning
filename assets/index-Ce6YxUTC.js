(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}})();function c0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ku={exports:{}},Ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function Rv(){if(hp)return Ro;hp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,d){var m=null;if(d!==void 0&&(m=""+d),r.key!==void 0&&(m=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:a,key:m,ref:r!==void 0?r:null,props:d}}return Ro.Fragment=t,Ro.jsx=l,Ro.jsxs=l,Ro}var gp;function Mv(){return gp||(gp=1,ku.exports=Rv()),ku.exports}var T=Mv(),Du={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function wv(){if(yp)return he;yp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,w={};function q(N,H,Y){this.props=N,this.context=H,this.refs=w,this.updater=Y||b}q.prototype.isReactComponent={},q.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=q.prototype;function V(N,H,Y){this.props=N,this.context=H,this.refs=w,this.updater=Y||b}var J=V.prototype=new K;J.constructor=V,I(J,q.prototype),J.isPureReactComponent=!0;var te=Array.isArray;function ne(){}var F={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function ie(N,H,Y){var $=Y.ref;return{$$typeof:i,type:N,key:H,ref:$!==void 0?$:null,props:Y}}function se(N,H){return ie(N.type,H,N.props)}function ge(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function re(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Y){return H[Y]})}var Q=/\/+/g;function ye(N,H){return typeof N=="object"&&N!==null&&N.key!=null?re(""+N.key):H.toString(36)}function be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ne,ne):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function U(N,H,Y,$,de){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var Me=!1;if(N===null)Me=!0;else switch(ve){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(N.$$typeof){case i:case t:Me=!0;break;case v:return Me=N._init,U(Me(N._payload),H,Y,$,de)}}if(Me)return de=de(N),Me=$===""?"."+ye(N,0):$,te(de)?(Y="",Me!=null&&(Y=Me.replace(Q,"$&/")+"/"),U(de,H,Y,"",function(ui){return ui})):de!=null&&(ge(de)&&(de=se(de,Y+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(Q,"$&/")+"/")+Me)),H.push(de)),1;Me=0;var tt=$===""?".":$+":";if(te(N))for(var Ze=0;Ze<N.length;Ze++)$=N[Ze],ve=tt+ye($,Ze),Me+=U($,H,Y,ve,de);else if(Ze=A(N),typeof Ze=="function")for(N=Ze.call(N),Ze=0;!($=N.next()).done;)$=$.value,ve=tt+ye($,Ze++),Me+=U($,H,Y,ve,de);else if(ve==="object"){if(typeof N.then=="function")return U(be(N),H,Y,$,de);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Me}function O(N,H,Y){if(N==null)return N;var $=[],de=0;return U(N,$,"","",function(ve){return H.call(Y,ve,de++)}),$}function ee(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(Y){(N._status===0||N._status===-1)&&(N._status=1,N._result=Y)},function(Y){(N._status===0||N._status===-1)&&(N._status=2,N._result=Y)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var Ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},fe={map:O,forEach:function(N,H,Y){O(N,function(){H.apply(this,arguments)},Y)},count:function(N){var H=0;return O(N,function(){H++}),H},toArray:function(N){return O(N,function(H){return H})||[]},only:function(N){if(!ge(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return he.Activity=x,he.Children=fe,he.Component=q,he.Fragment=l,he.Profiler=r,he.PureComponent=V,he.StrictMode=a,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,he.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},he.cache=function(N){return function(){return N.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(N,H,Y){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var $=I({},N.props),de=N.key;if(H!=null)for(ve in H.key!==void 0&&(de=""+H.key),H)!ae.call(H,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&H.ref===void 0||($[ve]=H[ve]);var ve=arguments.length-2;if(ve===1)$.children=Y;else if(1<ve){for(var Me=Array(ve),tt=0;tt<ve;tt++)Me[tt]=arguments[tt+2];$.children=Me}return ie(N.type,de,$)},he.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},he.createElement=function(N,H,Y){var $,de={},ve=null;if(H!=null)for($ in H.key!==void 0&&(ve=""+H.key),H)ae.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(de[$]=H[$]);var Me=arguments.length-2;if(Me===1)de.children=Y;else if(1<Me){for(var tt=Array(Me),Ze=0;Ze<Me;Ze++)tt[Ze]=arguments[Ze+2];de.children=tt}if(N&&N.defaultProps)for($ in Me=N.defaultProps,Me)de[$]===void 0&&(de[$]=Me[$]);return ie(N,ve,de)},he.createRef=function(){return{current:null}},he.forwardRef=function(N){return{$$typeof:g,render:N}},he.isValidElement=ge,he.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ee}},he.memo=function(N,H){return{$$typeof:h,type:N,compare:H===void 0?null:H}},he.startTransition=function(N){var H=F.T,Y={};F.T=Y;try{var $=N(),de=F.S;de!==null&&de(Y,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ne,Ne)}catch(ve){Ne(ve)}finally{H!==null&&Y.types!==null&&(H.types=Y.types),F.T=H}},he.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},he.use=function(N){return F.H.use(N)},he.useActionState=function(N,H,Y){return F.H.useActionState(N,H,Y)},he.useCallback=function(N,H){return F.H.useCallback(N,H)},he.useContext=function(N){return F.H.useContext(N)},he.useDebugValue=function(){},he.useDeferredValue=function(N,H){return F.H.useDeferredValue(N,H)},he.useEffect=function(N,H){return F.H.useEffect(N,H)},he.useEffectEvent=function(N){return F.H.useEffectEvent(N)},he.useId=function(){return F.H.useId()},he.useImperativeHandle=function(N,H,Y){return F.H.useImperativeHandle(N,H,Y)},he.useInsertionEffect=function(N,H){return F.H.useInsertionEffect(N,H)},he.useLayoutEffect=function(N,H){return F.H.useLayoutEffect(N,H)},he.useMemo=function(N,H){return F.H.useMemo(N,H)},he.useOptimistic=function(N,H){return F.H.useOptimistic(N,H)},he.useReducer=function(N,H,Y){return F.H.useReducer(N,H,Y)},he.useRef=function(N){return F.H.useRef(N)},he.useState=function(N){return F.H.useState(N)},he.useSyncExternalStore=function(N,H,Y){return F.H.useSyncExternalStore(N,H,Y)},he.useTransition=function(){return F.H.useTransition()},he.version="19.2.3",he}var vp;function nc(){return vp||(vp=1,Du.exports=wv()),Du.exports}var Z=nc();const Iv=c0(Z);var Uu={exports:{}},Mo={},Lu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function kv(){return Tp||(Tp=1,(function(i){function t(U,O){var ee=U.length;U.push(O);e:for(;0<ee;){var Ne=ee-1>>>1,fe=U[Ne];if(0<r(fe,O))U[Ne]=O,U[ee]=fe,ee=Ne;else break e}}function l(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var O=U[0],ee=U.pop();if(ee!==O){U[0]=ee;e:for(var Ne=0,fe=U.length,N=fe>>>1;Ne<N;){var H=2*(Ne+1)-1,Y=U[H],$=H+1,de=U[$];if(0>r(Y,ee))$<fe&&0>r(de,Y)?(U[Ne]=de,U[$]=ee,Ne=$):(U[Ne]=Y,U[H]=ee,Ne=H);else if($<fe&&0>r(de,ee))U[Ne]=de,U[$]=ee,Ne=$;else break e}}return O}function r(U,O){var ee=U.sortIndex-O.sortIndex;return ee!==0?ee:U.id-O.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,x=null,E=3,A=!1,b=!1,I=!1,w=!1,q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function J(U){for(var O=l(h);O!==null;){if(O.callback===null)a(h);else if(O.startTime<=U)a(h),O.sortIndex=O.expirationTime,t(y,O);else break;O=l(h)}}function te(U){if(I=!1,J(U),!b)if(l(y)!==null)b=!0,ne||(ne=!0,re());else{var O=l(h);O!==null&&be(te,O.startTime-U)}}var ne=!1,F=-1,ae=5,ie=-1;function se(){return w?!0:!(i.unstable_now()-ie<ae)}function ge(){if(w=!1,ne){var U=i.unstable_now();ie=U;var O=!0;try{e:{b=!1,I&&(I=!1,K(F),F=-1),A=!0;var ee=E;try{t:{for(J(U),x=l(y);x!==null&&!(x.expirationTime>U&&se());){var Ne=x.callback;if(typeof Ne=="function"){x.callback=null,E=x.priorityLevel;var fe=Ne(x.expirationTime<=U);if(U=i.unstable_now(),typeof fe=="function"){x.callback=fe,J(U),O=!0;break t}x===l(y)&&a(y),J(U)}else a(y);x=l(y)}if(x!==null)O=!0;else{var N=l(h);N!==null&&be(te,N.startTime-U),O=!1}}break e}finally{x=null,E=ee,A=!1}O=void 0}}finally{O?re():ne=!1}}}var re;if(typeof V=="function")re=function(){V(ge)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ye=Q.port2;Q.port1.onmessage=ge,re=function(){ye.postMessage(null)}}else re=function(){q(ge,0)};function be(U,O){F=q(function(){U(i.unstable_now())},O)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(U){switch(E){case 1:case 2:case 3:var O=3;break;default:O=E}var ee=E;E=O;try{return U()}finally{E=ee}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(U,O){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=E;E=U;try{return O()}finally{E=ee}},i.unstable_scheduleCallback=function(U,O,ee){var Ne=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ne+ee:Ne):ee=Ne,U){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ee+fe,U={id:v++,callback:O,priorityLevel:U,startTime:ee,expirationTime:fe,sortIndex:-1},ee>Ne?(U.sortIndex=ee,t(h,U),l(y)===null&&U===l(h)&&(I?(K(F),F=-1):I=!0,be(te,ee-Ne))):(U.sortIndex=fe,t(y,U),b||A||(b=!0,ne||(ne=!0,re()))),U},i.unstable_shouldYield=se,i.unstable_wrapCallback=function(U){var O=E;return function(){var ee=E;E=O;try{return U.apply(this,arguments)}finally{E=ee}}}})(Gu)),Gu}var Sp;function Dv(){return Sp||(Sp=1,Lu.exports=kv()),Lu.exports}var Hu={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function Uv(){if(xp)return xt;xp=1;var i=nc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,v)},xt.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},xt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},xt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},xt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,x=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:x,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},xt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,x=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},xt.requestFormReset=function(y){a.d.r(y)},xt.unstable_batchedUpdates=function(y,h){return y(h)},xt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},xt.useFormStatus=function(){return m.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var Ep;function Lv(){if(Ep)return Hu.exports;Ep=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Hu.exports=Uv(),Hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Gv(){if(_p)return Mo;_p=1;var i=Dv(),t=nc(),l=Lv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(s=f.return,s!==null){o=s;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return y(f),e;if(p===s)return y(f),n;p=p.sibling}throw Error(a(188))}if(o.return!==s.return)o=f,s=p;else{for(var S=!1,_=f.child;_;){if(_===o){S=!0,o=f,s=p;break}if(_===s){S=!0,s=f,o=p;break}_=_.sibling}if(!S){for(_=p.child;_;){if(_===o){S=!0,o=p,s=f;break}if(_===s){S=!0,s=p,o=f;break}_=_.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),V=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case q:return"Profiler";case w:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case V:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:ye(e.type)||"Memo";case ae:n=e._payload,e=e._init;try{return ye(e(n))}catch{}}return null}var be=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ne=[],fe=-1;function N(e){return{current:e}}function H(e){0>fe||(e.current=Ne[fe],Ne[fe]=null,fe--)}function Y(e,n){fe++,Ne[fe]=e.current,e.current=n}var $=N(null),de=N(null),ve=N(null),Me=N(null);function tt(e,n){switch(Y(ve,n),Y(de,e),Y($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Pm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Pm(n),e=qm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H($),Y($,e)}function Ze(){H($),H(de),H(ve)}function ui(e){e.memoizedState!==null&&Y(Me,e);var n=$.current,o=qm(n,e.type);n!==o&&(Y(de,e),Y($,o))}function Hi(e){de.current===e&&(H($),H(de)),Me.current===e&&(H(Me),Ao._currentValue=ee)}var Ll,Uo;function pn(e){if(Ll===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ll=n&&n[1]||"",Uo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ll+e+Uo}var Pi=!1;function ci(e,n){if(!e||Pi)return"";Pi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(G){var L=G}Reflect.construct(e,[],B)}else{try{B.call()}catch(G){L=G}e.call(B.prototype)}}else{try{throw Error()}catch(G){L=G}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(G){if(G&&L&&typeof G.stack=="string")return[G.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),S=p[0],_=p[1];if(S&&_){var C=S.split(`
`),D=_.split(`
`);for(f=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(s===C.length||f===D.length)for(s=C.length-1,f=D.length-1;1<=s&&0<=f&&C[s]!==D[f];)f--;for(;1<=s&&0<=f;s--,f--)if(C[s]!==D[f]){if(s!==1||f!==1)do if(s--,f--,0>f||C[s]!==D[f]){var P=`
`+C[s].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=s&&0<=f);break}}}finally{Pi=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?pn(o):""}function Lo(e,n){switch(e.tag){case 26:case 27:case 5:return pn(e.type);case 16:return pn("Lazy");case 13:return e.child!==n&&n!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return ci(e.type,!1);case 11:return ci(e.type.render,!1);case 1:return ci(e.type,!0);case 31:return pn("Activity");default:return""}}function Go(e){try{var n="",o=null;do n+=Lo(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var qi=Object.prototype.hasOwnProperty,j=i.unstable_scheduleCallback,we=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ve=i.unstable_requestPaint,xe=i.unstable_now,ke=i.unstable_getCurrentPriorityLevel,Fe=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,Ye=i.unstable_NormalPriority,lt=i.unstable_LowPriority,_t=i.unstable_IdlePriority,en=i.log,tn=i.unstable_setDisableYieldValue,Nt=null,We=null;function ht(e){if(typeof en=="function"&&tn(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Nt,e)}catch{}}var ot=Math.clz32?Math.clz32:fi,Hn=Math.log,di=Math.LN2;function fi(e){return e>>>=0,e===0?32:31-(Hn(e)/di|0)|0}var mi=256,zi=262144,Ho=4194304;function pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Po(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var f=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~p,s!==0?f=pi(s):(S&=_,S!==0?f=pi(S):o||(o=_&~e,o!==0&&(f=pi(o))))):(_=s&~p,_!==0?f=pi(_):S!==0?f=pi(S):o||(o=s&~e,o!==0&&(f=pi(o)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,o=n&-n,p>=o||p===32&&(o&4194048)!==0)?n:f}function Gl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function hg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var e=Ho;return Ho<<=1,(Ho&62914560)===0&&(Ho=4194304),e}function Ss(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Hl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gg(e,n,o,s,f,p){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(o=S&~o;0<o;){var P=31-ot(o),B=1<<P;_[P]=0,C[P]=-1;var L=D[P];if(L!==null)for(D[P]=null,P=0;P<L.length;P++){var G=L[P];G!==null&&(G.lane&=-536870913)}o&=~B}s!==0&&Tc(e,s,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function Tc(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-ot(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Sc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-ot(o),f=1<<s;f&n|e[s]&n&&(e[s]|=n),o&=~f}}function xc(e,n){var o=n&-n;return o=(o&42)!==0?1:xs(o),(o&(e.suspendedLanes|n))!==0?0:o}function xs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Es(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ec(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:rp(e.type))}function _c(e,n){var o=O.p;try{return O.p=e,n()}finally{O.p=o}}var Pn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Pn,Rt="__reactProps$"+Pn,Bi="__reactContainer$"+Pn,_s="__reactEvents$"+Pn,yg="__reactListeners$"+Pn,vg="__reactHandles$"+Pn,Ac="__reactResources$"+Pn,Pl="__reactMarker$"+Pn;function As(e){delete e[gt],delete e[Rt],delete e[_s],delete e[yg],delete e[vg]}function Vi(e){var n=e[gt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Bi]||o[gt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Ym(e);e!==null;){if(o=e[gt])return o;e=Ym(e)}return n}e=o,o=e.parentNode}return null}function Oi(e){if(e=e[gt]||e[Bi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ql(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Fi(e){var n=e[Ac];return n||(n=e[Ac]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function dt(e){e[Pl]=!0}var Cc=new Set,bc={};function hi(e,n){Ji(e,n),Ji(e+"Capture",n)}function Ji(e,n){for(bc[e]=n,e=0;e<n.length;e++)Cc.add(n[e])}var Tg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nc={},Rc={};function Sg(e){return qi.call(Rc,e)?!0:qi.call(Nc,e)?!1:Tg.test(e)?Rc[e]=!0:(Nc[e]=!0,!1)}function qo(e,n,o){if(Sg(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function zo(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function hn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xg(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Cs(e){if(!e._valueTracker){var n=Mc(e)?"checked":"value";e._valueTracker=xg(e,n,""+e[n])}}function wc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Mc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eg=/[\n"\\]/g;function Ot(e){return e.replace(Eg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bs(e,n,o,s,f,p,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Vt(n)):e.value!==""+Vt(n)&&(e.value=""+Vt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Ns(e,S,Vt(n)):o!=null?Ns(e,S,Vt(o)):s!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Vt(_):e.removeAttribute("name")}function Ic(e,n,o,s,f,p,S,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Cs(e);return}o=o!=null?""+Vt(o):"",n=n!=null?""+Vt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Cs(e)}function Ns(e,n,o){n==="number"&&Bo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Yi(e,n,o,s){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Vt(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function kc(e,n,o){if(n!=null&&(n=""+Vt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Vt(o):""}function Dc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(be(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Vt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),Cs(e)}function Ki(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var _g=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||_g.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Lc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&o[f]!==s&&Uc(e,f,s)}else for(var p in n)n.hasOwnProperty(p)&&Uc(e,p,n[p])}function Rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(e){return Cg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function gn(){}var Ms=null;function ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,Xi=null;function Gc(e){var n=Oi(e);if(n&&(e=n.stateNode)){var o=e[Rt]||null;e:switch(e=n.stateNode,n.type){case"input":if(bs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ot(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var f=s[Rt]||null;if(!f)throw Error(a(90));bs(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&wc(s)}break e;case"textarea":kc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&Yi(e,!!o.multiple,n,!1)}}}var Is=!1;function Hc(e,n,o){if(Is)return e(n,o);Is=!0;try{var s=e(n);return s}finally{if(Is=!1,(Qi!==null||Xi!==null)&&(Ma(),Qi&&(n=Qi,e=Xi,Xi=Qi=null,Gc(n),e)))for(n=0;n<e.length;n++)Gc(e[n])}}function zl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Rt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(yn)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{ks=!1}var qn=null,Ds=null,Oo=null;function Pc(){if(Oo)return Oo;var e,n=Ds,o=n.length,s,f="value"in qn?qn.value:qn.textContent,p=f.length;for(e=0;e<o&&n[e]===f[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===f[p-s];s++);return Oo=f.slice(e,1<s?1-s:void 0)}function Fo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jo(){return!0}function qc(){return!1}function Mt(e){function n(o,s,f,p,S){this._reactName=o,this._targetInst=f,this.type=s,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Jo:qc,this.isPropagationStopped=qc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),n}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Mt(gi),Vl=x({},gi,{view:0,detail:0}),bg=Mt(Vl),Us,Ls,Ol,Ko=x({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ol&&(Ol&&e.type==="mousemove"?(Us=e.screenX-Ol.screenX,Ls=e.screenY-Ol.screenY):Ls=Us=0,Ol=e),Us)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),zc=Mt(Ko),Ng=x({},Ko,{dataTransfer:0}),Rg=Mt(Ng),Mg=x({},Vl,{relatedTarget:0}),Gs=Mt(Mg),wg=x({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=Mt(wg),kg=x({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dg=Mt(kg),Ug=x({},gi,{data:0}),Bc=Mt(Ug),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Hg[e])?!!n[e]:!1}function Hs(){return Pg}var qg=x({},Vl,{key:function(e){if(e.key){var n=Lg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=Mt(qg),Bg=x({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=Mt(Bg),Vg=x({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),Og=Mt(Vg),Fg=x({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jg=Mt(Fg),Yg=x({},Ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kg=Mt(Yg),Qg=x({},gi,{newState:0,oldState:0}),Xg=Mt(Qg),$g=[9,13,27,32],Ps=yn&&"CompositionEvent"in window,Fl=null;yn&&"documentMode"in document&&(Fl=document.documentMode);var Zg=yn&&"TextEvent"in window&&!Fl,Oc=yn&&(!Ps||Fl&&8<Fl&&11>=Fl),Fc=" ",Jc=!1;function Yc(e,n){switch(e){case"keyup":return $g.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function Wg(e,n){switch(e){case"compositionend":return Kc(n);case"keypress":return n.which!==32?null:(Jc=!0,Fc);case"textInput":return e=n.data,e===Fc&&Jc?null:e;default:return null}}function jg(e,n){if($i)return e==="compositionend"||!Ps&&Yc(e,n)?(e=Pc(),Oo=Ds=qn=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oc&&n.locale!=="ko"?null:n.data;default:return null}}var ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ey[e.type]:n==="textarea"}function Xc(e,n,o,s){Qi?Xi?Xi.push(s):Xi=[s]:Qi=s,n=Ga(n,"onChange"),0<n.length&&(o=new Yo("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Jl=null,Yl=null;function ty(e){km(e,0)}function Qo(e){var n=ql(e);if(wc(n))return e}function $c(e,n){if(e==="change")return n}var Zc=!1;if(yn){var qs;if(yn){var zs="oninput"in document;if(!zs){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),zs=typeof Wc.oninput=="function"}qs=zs}else qs=!1;Zc=qs&&(!document.documentMode||9<document.documentMode)}function jc(){Jl&&(Jl.detachEvent("onpropertychange",ed),Yl=Jl=null)}function ed(e){if(e.propertyName==="value"&&Qo(Yl)){var n=[];Xc(n,Yl,e,ws(e)),Hc(ty,n)}}function ny(e,n,o){e==="focusin"?(jc(),Jl=n,Yl=o,Jl.attachEvent("onpropertychange",ed)):e==="focusout"&&jc()}function iy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(Yl)}function ly(e,n){if(e==="click")return Qo(n)}function oy(e,n){if(e==="input"||e==="change")return Qo(n)}function ay(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Lt=typeof Object.is=="function"?Object.is:ay;function Kl(e,n){if(Lt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var f=o[s];if(!qi.call(n,f)||!Lt(e[f],n[f]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,n){var o=td(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=td(o)}}function id(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?id(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Bo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Bo(e.document)}return n}function Bs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var sy=yn&&"documentMode"in document&&11>=document.documentMode,Zi=null,Vs=null,Ql=null,Os=!1;function od(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Os||Zi==null||Zi!==Bo(s)||(s=Zi,"selectionStart"in s&&Bs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ql&&Kl(Ql,s)||(Ql=s,s=Ga(Vs,"onSelect"),0<s.length&&(n=new Yo("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Zi)))}function yi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Wi={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},Fs={},ad={};yn&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function vi(e){if(Fs[e])return Fs[e];if(!Wi[e])return e;var n=Wi[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in ad)return Fs[e]=n[o];return e}var sd=vi("animationend"),rd=vi("animationiteration"),ud=vi("animationstart"),ry=vi("transitionrun"),uy=vi("transitionstart"),cy=vi("transitioncancel"),cd=vi("transitionend"),dd=new Map,Js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Js.push("scrollEnd");function nn(e,n){dd.set(e,n),hi(n,[e])}var Xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],ji=0,Ys=0;function $o(){for(var e=ji,n=Ys=ji=0;n<e;){var o=Ft[n];Ft[n++]=null;var s=Ft[n];Ft[n++]=null;var f=Ft[n];Ft[n++]=null;var p=Ft[n];if(Ft[n++]=null,s!==null&&f!==null){var S=s.pending;S===null?f.next=f:(f.next=S.next,S.next=f),s.pending=f}p!==0&&fd(o,f,p)}}function Zo(e,n,o,s){Ft[ji++]=e,Ft[ji++]=n,Ft[ji++]=o,Ft[ji++]=s,Ys|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ks(e,n,o,s){return Zo(e,n,o,s),Wo(e)}function Ti(e,n){return Zo(e,null,null,n),Wo(e)}function fd(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var f=!1,p=e.return;p!==null;)p.childLanes|=o,s=p.alternate,s!==null&&(s.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-ot(o),e=p.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=o|536870912),p):null}function Wo(e){if(50<yo)throw yo=0,nu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var el={};function dy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,n,o,s){return new dy(e,n,o,s)}function Qs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,n){var o=e.alternate;return o===null?(o=Gt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function md(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function jo(e,n,o,s,f,p){var S=0;if(s=e,typeof e=="function")Qs(e)&&(S=1);else if(typeof e=="string")S=gv(e,o,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=Gt(31,o,n,f),e.elementType=ie,e.lanes=p,e;case I:return Si(o.children,f,p,n);case w:S=8,f|=24;break;case q:return e=Gt(12,o,n,f|2),e.elementType=q,e.lanes=p,e;case te:return e=Gt(13,o,n,f),e.elementType=te,e.lanes=p,e;case ne:return e=Gt(19,o,n,f),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:S=10;break e;case K:S=9;break e;case J:S=11;break e;case F:S=14;break e;case ae:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Gt(S,o,n,f),n.elementType=e,n.type=s,n.lanes=p,n}function Si(e,n,o,s){return e=Gt(7,e,s,n),e.lanes=o,e}function Xs(e,n,o){return e=Gt(6,e,null,n),e.lanes=o,e}function pd(e){var n=Gt(18,null,null,0);return n.stateNode=e,n}function $s(e,n,o){return n=Gt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hd=new WeakMap;function Jt(e,n){if(typeof e=="object"&&e!==null){var o=hd.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Go(n)},hd.set(e,n),n)}return{value:e,source:n,stack:Go(n)}}var tl=[],nl=0,ea=null,Xl=0,Yt=[],Kt=0,zn=null,cn=1,dn="";function Tn(e,n){tl[nl++]=Xl,tl[nl++]=ea,ea=e,Xl=n}function gd(e,n,o){Yt[Kt++]=cn,Yt[Kt++]=dn,Yt[Kt++]=zn,zn=e;var s=cn;e=dn;var f=32-ot(s)-1;s&=~(1<<f),o+=1;var p=32-ot(n)+f;if(30<p){var S=f-f%5;p=(s&(1<<S)-1).toString(32),s>>=S,f-=S,cn=1<<32-ot(n)+f|o<<f|s,dn=p+e}else cn=1<<p|o<<f|s,dn=e}function Zs(e){e.return!==null&&(Tn(e,1),gd(e,1,0))}function Ws(e){for(;e===ea;)ea=tl[--nl],tl[nl]=null,Xl=tl[--nl],tl[nl]=null;for(;e===zn;)zn=Yt[--Kt],Yt[Kt]=null,dn=Yt[--Kt],Yt[Kt]=null,cn=Yt[--Kt],Yt[Kt]=null}function yd(e,n){Yt[Kt++]=cn,Yt[Kt++]=dn,Yt[Kt++]=zn,cn=n.id,dn=n.overflow,zn=e}var yt=null,Ke=null,Re=!1,Bn=null,Qt=!1,js=Error(a(519));function Vn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Jt(n,e)),js}function vd(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[gt]=e,n[Rt]=s,o){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(o=0;o<To.length;o++)_e(To[o],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),Ic(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),Dc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||Gm(n.textContent,o)?(s.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),s.onScroll!=null&&_e("scroll",n),s.onScrollEnd!=null&&_e("scrollend",n),s.onClick!=null&&(n.onclick=gn),n=!0):n=!1,n||Vn(e,!0)}function Td(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:yt=yt.return}}function il(e){if(e!==yt)return!1;if(!Re)return Td(e),Re=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||yu(e.type,e.memoizedProps)),o=!o),o&&Ke&&Vn(e),Td(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=Jm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ke=Jm(e)}else n===27?(n=Ke,ni(e.type)?(e=Eu,Eu=null,Ke=e):Ke=n):Ke=yt?$t(e.stateNode.nextSibling):null;return!0}function xi(){Ke=yt=null,Re=!1}function er(){var e=Bn;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Bn=null),e}function $l(e){Bn===null?Bn=[e]:Bn.push(e)}var tr=N(null),Ei=null,Sn=null;function On(e,n,o){Y(tr,n._currentValue),n._currentValue=o}function xn(e){e._currentValue=tr.current,H(tr)}function nr(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function ir(e,n,o,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=f;for(var C=0;C<n.length;C++)if(_.context===n[C]){p.lanes|=o,_=p.alternate,_!==null&&(_.lanes|=o),nr(p.return,o,e),s||(S=null);break e}p=_.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(a(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),nr(S,o,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function ll(e,n,o,s){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=f.type;Lt(f.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(f===Me.current){if(S=f.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ao):e=[Ao])}f=f.return}e!==null&&ir(n,e,o,s),n.flags|=262144}function ta(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){Ei=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return Sd(Ei,e)}function na(e,n){return Ei===null&&_i(e),Sd(e,n)}function Sd(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Sn===null){if(e===null)throw Error(a(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return o}var fy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},my=i.unstable_scheduleCallback,py=i.unstable_NormalPriority,at={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lr(){return{controller:new fy,data:new Map,refCount:0}}function Zl(e){e.refCount--,e.refCount===0&&my(py,function(){e.controller.abort()})}var Wl=null,or=0,ol=0,al=null;function hy(e,n){if(Wl===null){var o=Wl=[];or=0,ol=ru(),al={status:"pending",value:void 0,then:function(s){o.push(s)}}}return or++,n.then(xd,xd),n}function xd(){if(--or===0&&Wl!==null){al!==null&&(al.status="fulfilled");var e=Wl;Wl=null,ol=0,al=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<o.length;f++)(0,o[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),s}var Ed=U.S;U.S=function(e,n){am=xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hy(e,n),Ed!==null&&Ed(e,n)};var Ai=N(null);function ar(){var e=Ai.current;return e!==null?e:Oe.pooledCache}function ia(e,n){n===null?Y(Ai,Ai.current):Y(Ai,n.pool)}function _d(){var e=ar();return e===null?null:{parent:at._currentValue,pool:e}}var sl=Error(a(460)),sr=Error(a(474)),la=Error(a(542)),oa={then:function(){}};function Ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cd(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(gn,gn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nd(e),e;default:if(typeof n.status=="string")n.then(gn,gn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nd(e),e}throw bi=n,sl}}function Ci(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(bi=o,sl):o}}var bi=null;function bd(){if(bi===null)throw Error(a(459));var e=bi;return bi=null,e}function Nd(e){if(e===sl||e===la)throw Error(a(483))}var rl=null,jl=0;function aa(e){var n=jl;return jl+=1,rl===null&&(rl=[]),Cd(rl,e,n)}function eo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function sa(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Rd(e){function n(M,R){if(e){var k=M.deletions;k===null?(M.deletions=[R],M.flags|=16):k.push(R)}}function o(M,R){if(!e)return null;for(;R!==null;)n(M,R),R=R.sibling;return null}function s(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function f(M,R){return M=vn(M,R),M.index=0,M.sibling=null,M}function p(M,R,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<R?(M.flags|=67108866,R):k):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function S(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function _(M,R,k,z){return R===null||R.tag!==6?(R=Xs(k,M.mode,z),R.return=M,R):(R=f(R,k),R.return=M,R)}function C(M,R,k,z){var ue=k.type;return ue===I?P(M,R,k.props.children,z,k.key):R!==null&&(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ae&&Ci(ue)===R.type)?(R=f(R,k.props),eo(R,k),R.return=M,R):(R=jo(k.type,k.key,k.props,null,M.mode,z),eo(R,k),R.return=M,R)}function D(M,R,k,z){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=$s(k,M.mode,z),R.return=M,R):(R=f(R,k.children||[]),R.return=M,R)}function P(M,R,k,z,ue){return R===null||R.tag!==7?(R=Si(k,M.mode,z,ue),R.return=M,R):(R=f(R,k),R.return=M,R)}function B(M,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Xs(""+R,M.mode,k),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return k=jo(R.type,R.key,R.props,null,M.mode,k),eo(k,R),k.return=M,k;case b:return R=$s(R,M.mode,k),R.return=M,R;case ae:return R=Ci(R),B(M,R,k)}if(be(R)||re(R))return R=Si(R,M.mode,k,null),R.return=M,R;if(typeof R.then=="function")return B(M,aa(R),k);if(R.$$typeof===V)return B(M,na(M,R),k);sa(M,R)}return null}function L(M,R,k,z){var ue=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ue!==null?null:_(M,R,""+k,z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return k.key===ue?C(M,R,k,z):null;case b:return k.key===ue?D(M,R,k,z):null;case ae:return k=Ci(k),L(M,R,k,z)}if(be(k)||re(k))return ue!==null?null:P(M,R,k,z,null);if(typeof k.then=="function")return L(M,R,aa(k),z);if(k.$$typeof===V)return L(M,R,na(M,k),z);sa(M,k)}return null}function G(M,R,k,z,ue){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return M=M.get(k)||null,_(R,M,""+z,ue);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return M=M.get(z.key===null?k:z.key)||null,C(R,M,z,ue);case b:return M=M.get(z.key===null?k:z.key)||null,D(R,M,z,ue);case ae:return z=Ci(z),G(M,R,k,z,ue)}if(be(z)||re(z))return M=M.get(k)||null,P(R,M,z,ue,null);if(typeof z.then=="function")return G(M,R,k,aa(z),ue);if(z.$$typeof===V)return G(M,R,k,na(R,z),ue);sa(R,z)}return null}function le(M,R,k,z){for(var ue=null,De=null,oe=R,Se=R=0,Ce=null;oe!==null&&Se<k.length;Se++){oe.index>Se?(Ce=oe,oe=null):Ce=oe.sibling;var Ue=L(M,oe,k[Se],z);if(Ue===null){oe===null&&(oe=Ce);break}e&&oe&&Ue.alternate===null&&n(M,oe),R=p(Ue,R,Se),De===null?ue=Ue:De.sibling=Ue,De=Ue,oe=Ce}if(Se===k.length)return o(M,oe),Re&&Tn(M,Se),ue;if(oe===null){for(;Se<k.length;Se++)oe=B(M,k[Se],z),oe!==null&&(R=p(oe,R,Se),De===null?ue=oe:De.sibling=oe,De=oe);return Re&&Tn(M,Se),ue}for(oe=s(oe);Se<k.length;Se++)Ce=G(oe,M,Se,k[Se],z),Ce!==null&&(e&&Ce.alternate!==null&&oe.delete(Ce.key===null?Se:Ce.key),R=p(Ce,R,Se),De===null?ue=Ce:De.sibling=Ce,De=Ce);return e&&oe.forEach(function(si){return n(M,si)}),Re&&Tn(M,Se),ue}function ce(M,R,k,z){if(k==null)throw Error(a(151));for(var ue=null,De=null,oe=R,Se=R=0,Ce=null,Ue=k.next();oe!==null&&!Ue.done;Se++,Ue=k.next()){oe.index>Se?(Ce=oe,oe=null):Ce=oe.sibling;var si=L(M,oe,Ue.value,z);if(si===null){oe===null&&(oe=Ce);break}e&&oe&&si.alternate===null&&n(M,oe),R=p(si,R,Se),De===null?ue=si:De.sibling=si,De=si,oe=Ce}if(Ue.done)return o(M,oe),Re&&Tn(M,Se),ue;if(oe===null){for(;!Ue.done;Se++,Ue=k.next())Ue=B(M,Ue.value,z),Ue!==null&&(R=p(Ue,R,Se),De===null?ue=Ue:De.sibling=Ue,De=Ue);return Re&&Tn(M,Se),ue}for(oe=s(oe);!Ue.done;Se++,Ue=k.next())Ue=G(oe,M,Se,Ue.value,z),Ue!==null&&(e&&Ue.alternate!==null&&oe.delete(Ue.key===null?Se:Ue.key),R=p(Ue,R,Se),De===null?ue=Ue:De.sibling=Ue,De=Ue);return e&&oe.forEach(function(Nv){return n(M,Nv)}),Re&&Tn(M,Se),ue}function Be(M,R,k,z){if(typeof k=="object"&&k!==null&&k.type===I&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case A:e:{for(var ue=k.key;R!==null;){if(R.key===ue){if(ue=k.type,ue===I){if(R.tag===7){o(M,R.sibling),z=f(R,k.props.children),z.return=M,M=z;break e}}else if(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ae&&Ci(ue)===R.type){o(M,R.sibling),z=f(R,k.props),eo(z,k),z.return=M,M=z;break e}o(M,R);break}else n(M,R);R=R.sibling}k.type===I?(z=Si(k.props.children,M.mode,z,k.key),z.return=M,M=z):(z=jo(k.type,k.key,k.props,null,M.mode,z),eo(z,k),z.return=M,M=z)}return S(M);case b:e:{for(ue=k.key;R!==null;){if(R.key===ue)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){o(M,R.sibling),z=f(R,k.children||[]),z.return=M,M=z;break e}else{o(M,R);break}else n(M,R);R=R.sibling}z=$s(k,M.mode,z),z.return=M,M=z}return S(M);case ae:return k=Ci(k),Be(M,R,k,z)}if(be(k))return le(M,R,k,z);if(re(k)){if(ue=re(k),typeof ue!="function")throw Error(a(150));return k=ue.call(k),ce(M,R,k,z)}if(typeof k.then=="function")return Be(M,R,aa(k),z);if(k.$$typeof===V)return Be(M,R,na(M,k),z);sa(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(o(M,R.sibling),z=f(R,k),z.return=M,M=z):(o(M,R),z=Xs(k,M.mode,z),z.return=M,M=z),S(M)):o(M,R)}return function(M,R,k,z){try{jl=0;var ue=Be(M,R,k,z);return rl=null,ue}catch(oe){if(oe===sl||oe===la)throw oe;var De=Gt(29,oe,null,M.mode);return De.lanes=z,De.return=M,De}finally{}}}var Ni=Rd(!0),Md=Rd(!1),Fn=!1;function rr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ur(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=Wo(e),fd(e,null,o),n}return Zo(e,s,n,o),Wo(e)}function to(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Sc(e,o)}}function cr(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?f=p=n:p=p.next=n}else f=p=n;o={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var dr=!1;function no(){if(dr){var e=al;if(e!==null)throw e}}function io(e,n,o,s){dr=!1;var f=e.updateQueue;Fn=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var C=_,D=C.next;C.next=null,S===null?p=D:S.next=D,S=C;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==S&&(_===null?P.firstBaseUpdate=D:_.next=D,P.lastBaseUpdate=C))}if(p!==null){var B=f.baseState;S=0,P=D=C=null,_=p;do{var L=_.lane&-536870913,G=L!==_.lane;if(G?(Ae&L)===L:(s&L)===L){L!==0&&L===ol&&(dr=!0),P!==null&&(P=P.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=e,ce=_;L=n;var Be=o;switch(ce.tag){case 1:if(le=ce.payload,typeof le=="function"){B=le.call(Be,B,L);break e}B=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,L=typeof le=="function"?le.call(Be,B,L):le,L==null)break e;B=x({},B,L);break e;case 2:Fn=!0}}L=_.callback,L!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[L]:G.push(L))}else G={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(D=P=G,C=B):P=P.next=G,S|=L;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;G=_,_=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);P===null&&(C=B),f.baseState=C,f.firstBaseUpdate=D,f.lastBaseUpdate=P,p===null&&(f.shared.lanes=0),Zn|=S,e.lanes=S,e.memoizedState=B}}function wd(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Id(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)wd(o[e],n)}var ul=N(null),ra=N(0);function kd(e,n){e=wn,Y(ra,e),Y(ul,n),wn=e|n.baseLanes}function fr(){Y(ra,wn),Y(ul,ul.current)}function mr(){wn=ra.current,H(ul),H(ra)}var Ht=N(null),Xt=null;function Kn(e){var n=e.alternate;Y(nt,nt.current&1),Y(Ht,e),Xt===null&&(n===null||ul.current!==null||n.memoizedState!==null)&&(Xt=e)}function pr(e){Y(nt,nt.current),Y(Ht,e),Xt===null&&(Xt=e)}function Dd(e){e.tag===22?(Y(nt,nt.current),Y(Ht,e),Xt===null&&(Xt=e)):Qn()}function Qn(){Y(nt,nt.current),Y(Ht,Ht.current)}function Pt(e){H(Ht),Xt===e&&(Xt=null),H(nt)}var nt=N(0);function ua(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Su(o)||xu(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var En=0,Te=null,qe=null,st=null,ca=!1,cl=!1,Ri=!1,da=0,lo=0,dl=null,yy=0;function je(){throw Error(a(321))}function hr(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Lt(e[o],n[o]))return!1;return!0}function gr(e,n,o,s,f,p){return En=p,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?yf:Ir,Ri=!1,p=o(s,f),Ri=!1,cl&&(p=Ld(n,o,s,f)),Ud(e),p}function Ud(e){U.H=so;var n=qe!==null&&qe.next!==null;if(En=0,st=qe=Te=null,ca=!1,lo=0,dl=null,n)throw Error(a(300));e===null||rt||(e=e.dependencies,e!==null&&ta(e)&&(rt=!0))}function Ld(e,n,o,s){Te=e;var f=0;do{if(cl&&(dl=null),lo=0,cl=!1,25<=f)throw Error(a(301));if(f+=1,st=qe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=vf,p=n(o,s)}while(cl);return p}function vy(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?oo(n):n,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Te.flags|=1024),n}function yr(){var e=da!==0;return da=0,e}function vr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Tr(e){if(ca){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ca=!1}En=0,st=qe=Te=null,cl=!1,lo=da=0,dl=null}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Te.memoizedState=st=e:st=st.next=e,st}function it(){if(qe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var n=st===null?Te.memoizedState:st.next;if(n!==null)st=n,qe=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},st===null?Te.memoizedState=st=e:st=st.next=e}return st}function fa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(e){var n=lo;return lo+=1,dl===null&&(dl=[]),e=Cd(dl,e,n),n=Te,(st===null?n.memoizedState:st.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?yf:Ir),e}function ma(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return oo(e);if(e.$$typeof===V)return vt(e)}throw Error(a(438,String(e)))}function Sr(e){var n=null,o=Te.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=fa(),Te.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=se;return n.index++,o}function _n(e,n){return typeof n=="function"?n(e):n}function pa(e){var n=it();return xr(n,qe,e)}function xr(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var f=e.baseQueue,p=s.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}n.baseQueue=f=p,s.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var _=S=null,C=null,D=n,P=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(Ae&B)===B:(En&B)===B){var L=D.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===ol&&(P=!0);else if((En&L)===L){D=D.next,L===ol&&(P=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=B,S=p):C=C.next=B,Te.lanes|=L,Zn|=L;B=D.action,Ri&&o(p,B),p=D.hasEagerState?D.eagerState:o(p,B)}else L={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=L,S=p):C=C.next=L,Te.lanes|=B,Zn|=B;D=D.next}while(D!==null&&D!==n);if(C===null?S=p:C.next=_,!Lt(p,e.memoizedState)&&(rt=!0,P&&(o=al,o!==null)))throw o;e.memoizedState=p,e.baseState=S,e.baseQueue=C,s.lastRenderedState=p}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Er(e){var n=it(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,f=o.pending,p=n.memoizedState;if(f!==null){o.pending=null;var S=f=f.next;do p=e(p,S.action),S=S.next;while(S!==f);Lt(p,n.memoizedState)||(rt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,s]}function Gd(e,n,o){var s=Te,f=it(),p=Re;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!Lt((qe||f).memoizedState,o);if(S&&(f.memoizedState=o,rt=!0),f=f.queue,Cr(qd.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,fl(9,{destroy:void 0},Pd.bind(null,s,f,o,n),null),Oe===null)throw Error(a(349));p||(En&127)!==0||Hd(s,n,o)}return o}function Hd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Te.updateQueue,n===null?(n=fa(),Te.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Pd(e,n,o,s){n.value=o,n.getSnapshot=s,zd(n)&&Bd(e)}function qd(e,n,o){return o(function(){zd(n)&&Bd(e)})}function zd(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Lt(e,o)}catch{return!0}}function Bd(e){var n=Ti(e,2);n!==null&&Ut(n,e,2)}function _r(e){var n=At();if(typeof e=="function"){var o=e;if(e=o(),Ri){ht(!0);try{o()}finally{ht(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},n}function Vd(e,n,o,s){return e.baseState=o,xr(e,qe,typeof s=="function"?s:_n)}function Ty(e,n,o,s,f){if(ya(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};U.T!==null?o(!0):p.isTransition=!1,s(p),o=n.pending,o===null?(p.next=n.pending=p,Od(n,p)):(p.next=o.next,n.pending=o.next=p)}}function Od(e,n){var o=n.action,s=n.payload,f=e.state;if(n.isTransition){var p=U.T,S={};U.T=S;try{var _=o(f,s),C=U.S;C!==null&&C(S,_),Fd(e,n,_)}catch(D){Ar(e,n,D)}finally{p!==null&&S.types!==null&&(p.types=S.types),U.T=p}}else try{p=o(f,s),Fd(e,n,p)}catch(D){Ar(e,n,D)}}function Fd(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Jd(e,n,s)},function(s){return Ar(e,n,s)}):Jd(e,n,o)}function Jd(e,n,o){n.status="fulfilled",n.value=o,Yd(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Od(e,o)))}function Ar(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Yd(n),n=n.next;while(n!==s)}e.action=null}function Yd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kd(e,n){return n}function Qd(e,n){if(Re){var o=Oe.formState;if(o!==null){e:{var s=Te;if(Re){if(Ke){t:{for(var f=Ke,p=Qt;f.nodeType!==8;){if(!p){f=null;break t}if(f=$t(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ke=$t(f.nextSibling),s=f.data==="F!";break e}}Vn(s)}s=!1}s&&(n=o[0])}}return o=At(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:n},o.queue=s,o=pf.bind(null,Te,s),s.dispatch=o,s=_r(!1),p=wr.bind(null,Te,!1,s.queue),s=At(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,o=Ty.bind(null,Te,f,p,o),f.dispatch=o,s.memoizedState=e,[n,o,!1]}function Xd(e){var n=it();return $d(n,qe,e)}function $d(e,n,o){if(n=xr(e,n,Kd)[0],e=pa(_n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=oo(n)}catch(S){throw S===sl?la:S}else s=n;n=it();var f=n.queue,p=f.dispatch;return o!==n.memoizedState&&(Te.flags|=2048,fl(9,{destroy:void 0},Sy.bind(null,f,o),null)),[s,p,e]}function Sy(e,n){e.action=n}function Zd(e){var n=it(),o=qe;if(o!==null)return $d(n,o,e);it(),n=n.memoizedState,o=it();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function fl(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Te.updateQueue,n===null&&(n=fa(),Te.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Wd(){return it().memoizedState}function ha(e,n,o,s){var f=At();Te.flags|=e,f.memoizedState=fl(1|n,{destroy:void 0},o,s===void 0?null:s)}function ga(e,n,o,s){var f=it();s=s===void 0?null:s;var p=f.memoizedState.inst;qe!==null&&s!==null&&hr(s,qe.memoizedState.deps)?f.memoizedState=fl(n,p,o,s):(Te.flags|=e,f.memoizedState=fl(1|n,p,o,s))}function jd(e,n){ha(8390656,8,e,n)}function Cr(e,n){ga(2048,8,e,n)}function xy(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=fa(),Te.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function ef(e){var n=it().memoizedState;return xy({ref:n,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function tf(e,n){return ga(4,2,e,n)}function nf(e,n){return ga(4,4,e,n)}function lf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function of(e,n,o){o=o!=null?o.concat([e]):null,ga(4,4,lf.bind(null,n,e),o)}function br(){}function af(e,n){var o=it();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&hr(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function sf(e,n){var o=it();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&hr(n,s[1]))return s[0];if(s=e(),Ri){ht(!0);try{e()}finally{ht(!1)}}return o.memoizedState=[s,n],s}function Nr(e,n,o){return o===void 0||(En&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=rm(),Te.lanes|=e,Zn|=e,o)}function rf(e,n,o,s){return Lt(o,n)?o:ul.current!==null?(e=Nr(e,o,s),Lt(e,n)||(rt=!0),e):(En&42)===0||(En&1073741824)!==0&&(Ae&261930)===0?(rt=!0,e.memoizedState=o):(e=rm(),Te.lanes|=e,Zn|=e,n)}function uf(e,n,o,s,f){var p=O.p;O.p=p!==0&&8>p?p:8;var S=U.T,_={};U.T=_,wr(e,!1,n,o);try{var C=f(),D=U.S;if(D!==null&&D(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var P=gy(C,s);ao(e,n,P,Bt(e))}else ao(e,n,s,Bt(e))}catch(B){ao(e,n,{then:function(){},status:"rejected",reason:B},Bt())}finally{O.p=p,S!==null&&_.types!==null&&(S.types=_.types),U.T=S}}function Ey(){}function Rr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var f=cf(e).queue;uf(e,f,n,ee,o===null?Ey:function(){return df(e),o(s)})}function cf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:ee},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function df(e){var n=cf(e);n.next===null&&(n=e.alternate.memoizedState),ao(e,n.next.queue,{},Bt())}function Mr(){return vt(Ao)}function ff(){return it().memoizedState}function mf(){return it().memoizedState}function _y(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Bt();e=Jn(o);var s=Yn(n,e,o);s!==null&&(Ut(s,n,o),to(s,n,o)),n={cache:lr()},e.payload=n;return}n=n.return}}function Ay(e,n,o){var s=Bt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ya(e)?hf(n,o):(o=Ks(e,n,o,s),o!==null&&(Ut(o,e,s),gf(o,n,s)))}function pf(e,n,o){var s=Bt();ao(e,n,o,s)}function ao(e,n,o,s){var f={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ya(e))hf(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,_=p(S,o);if(f.hasEagerState=!0,f.eagerState=_,Lt(_,S))return Zo(e,n,f,0),Oe===null&&$o(),!1}catch{}finally{}if(o=Ks(e,n,f,s),o!==null)return Ut(o,e,s),gf(o,n,s),!0}return!1}function wr(e,n,o,s){if(s={lane:2,revertLane:ru(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ya(e)){if(n)throw Error(a(479))}else n=Ks(e,o,s,2),n!==null&&Ut(n,e,2)}function ya(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function hf(e,n){cl=ca=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function gf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Sc(e,o)}}var so={readContext:vt,use:ma,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};so.useEffectEvent=je;var yf={readContext:vt,use:ma,useCallback:function(e,n){return At().memoizedState=[e,n===void 0?null:n],e},useContext:vt,useEffect:jd,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,ha(4194308,4,lf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return ha(4194308,4,e,n)},useInsertionEffect:function(e,n){ha(4,2,e,n)},useMemo:function(e,n){var o=At();n=n===void 0?null:n;var s=e();if(Ri){ht(!0);try{e()}finally{ht(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=At();if(o!==void 0){var f=o(n);if(Ri){ht(!0);try{o(n)}finally{ht(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=Ay.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var n=At();return e={current:e},n.memoizedState=e},useState:function(e){e=_r(e);var n=e.queue,o=pf.bind(null,Te,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:br,useDeferredValue:function(e,n){var o=At();return Nr(o,e,n)},useTransition:function(){var e=_r(!1);return e=uf.bind(null,Te,e.queue,!0,!1),At().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Te,f=At();if(Re){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Oe===null)throw Error(a(349));(Ae&127)!==0||Hd(s,n,o)}f.memoizedState=o;var p={value:o,getSnapshot:n};return f.queue=p,jd(qd.bind(null,s,p,e),[e]),s.flags|=2048,fl(9,{destroy:void 0},Pd.bind(null,s,p,o,n),null),o},useId:function(){var e=At(),n=Oe.identifierPrefix;if(Re){var o=dn,s=cn;o=(s&~(1<<32-ot(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=da++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=yy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mr,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var n=At();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=wr.bind(null,Te,!0,o),o.dispatch=n,[e,n]},useMemoCache:Sr,useCacheRefresh:function(){return At().memoizedState=_y.bind(null,Te)},useEffectEvent:function(e){var n=At(),o={impl:e};return n.memoizedState=o,function(){if((Ge&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Ir={readContext:vt,use:ma,useCallback:af,useContext:vt,useEffect:Cr,useImperativeHandle:of,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:sf,useReducer:pa,useRef:Wd,useState:function(){return pa(_n)},useDebugValue:br,useDeferredValue:function(e,n){var o=it();return rf(o,qe.memoizedState,e,n)},useTransition:function(){var e=pa(_n)[0],n=it().memoizedState;return[typeof e=="boolean"?e:oo(e),n]},useSyncExternalStore:Gd,useId:ff,useHostTransitionStatus:Mr,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,n){var o=it();return Vd(o,qe,e,n)},useMemoCache:Sr,useCacheRefresh:mf};Ir.useEffectEvent=ef;var vf={readContext:vt,use:ma,useCallback:af,useContext:vt,useEffect:Cr,useImperativeHandle:of,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:sf,useReducer:Er,useRef:Wd,useState:function(){return Er(_n)},useDebugValue:br,useDeferredValue:function(e,n){var o=it();return qe===null?Nr(o,e,n):rf(o,qe.memoizedState,e,n)},useTransition:function(){var e=Er(_n)[0],n=it().memoizedState;return[typeof e=="boolean"?e:oo(e),n]},useSyncExternalStore:Gd,useId:ff,useHostTransitionStatus:Mr,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,n){var o=it();return qe!==null?Vd(o,qe,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Sr,useCacheRefresh:mf};vf.useEffectEvent=ef;function kr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:x({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Dr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Bt(),f=Jn(s);f.payload=n,o!=null&&(f.callback=o),n=Yn(e,f,s),n!==null&&(Ut(n,e,s),to(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Bt(),f=Jn(s);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=Yn(e,f,s),n!==null&&(Ut(n,e,s),to(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Bt(),s=Jn(o);s.tag=2,n!=null&&(s.callback=n),n=Yn(e,s,o),n!==null&&(Ut(n,e,o),to(n,e,o))}};function Tf(e,n,o,s,f,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,S):n.prototype&&n.prototype.isPureReactComponent?!Kl(o,s)||!Kl(f,p):!0}function Sf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Dr.enqueueReplaceState(n,n.state,null)}function Mi(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=x({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function xf(e){Xo(e)}function Ef(e){console.error(e)}function _f(e){Xo(e)}function va(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Af(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ur(e,n,o){return o=Jn(o),o.tag=3,o.payload={element:null},o.callback=function(){va(e,n)},o}function Cf(e){return e=Jn(e),e.tag=3,e}function bf(e,n,o,s){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;e.payload=function(){return f(p)},e.callback=function(){Af(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Af(n,o,s),typeof f!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Cy(e,n,o,s,f){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&ll(n,o,f,!0),o=Ht.current,o!==null){switch(o.tag){case 31:case 13:return Xt===null?wa():o.alternate===null&&et===0&&(et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,s===oa?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),ou(e,s,f)),!1;case 22:return o.flags|=65536,s===oa?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),ou(e,s,f)),!1}throw Error(a(435,o.tag))}return ou(e,s,f),wa(),!1}if(Re)return n=Ht.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==js&&(e=Error(a(422),{cause:s}),$l(Jt(e,o)))):(s!==js&&(n=Error(a(423),{cause:s}),$l(Jt(n,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Jt(s,o),f=Ur(e.stateNode,s,f),cr(e,f),et!==4&&(et=2)),!1;var p=Error(a(520),{cause:s});if(p=Jt(p,o),go===null?go=[p]:go.push(p),et!==4&&(et=2),n===null)return!0;s=Jt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=Ur(o.stateNode,s,e),cr(o,e),!1;case 1:if(n=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wn===null||!Wn.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Cf(f),bf(f,e,o,s),cr(o,f),!1}o=o.return}while(o!==null);return!1}var Lr=Error(a(461)),rt=!1;function Tt(e,n,o,s){n.child=e===null?Md(n,null,o,s):Ni(n,e.child,o,s)}function Nf(e,n,o,s,f){o=o.render;var p=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return _i(n),s=gr(e,n,o,S,p,f),_=yr(),e!==null&&!rt?(vr(e,n,f),An(e,n,f)):(Re&&_&&Zs(n),n.flags|=1,Tt(e,n,s,f),n.child)}function Rf(e,n,o,s,f){if(e===null){var p=o.type;return typeof p=="function"&&!Qs(p)&&p.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=p,Mf(e,n,p,s,f)):(e=jo(o.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Or(e,f)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:Kl,o(S,s)&&e.ref===n.ref)return An(e,n,f)}return n.flags|=1,e=vn(p,s),e.ref=n.ref,e.return=n,n.child=e}function Mf(e,n,o,s,f){if(e!==null){var p=e.memoizedProps;if(Kl(p,s)&&e.ref===n.ref)if(rt=!1,n.pendingProps=s=p,Or(e,f))(e.flags&131072)!==0&&(rt=!0);else return n.lanes=e.lanes,An(e,n,f)}return Gr(e,n,o,s,f)}function wf(e,n,o,s){var f=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~p}else s=0,n.child=null;return If(e,n,p,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ia(n,p!==null?p.cachePool:null),p!==null?kd(n,p):fr(),Dd(n);else return s=n.lanes=536870912,If(e,n,p!==null?p.baseLanes|o:o,o,s)}else p!==null?(ia(n,p.cachePool),kd(n,p),Qn(),n.memoizedState=null):(e!==null&&ia(n,null),fr(),Qn());return Tt(e,n,f,o),n.child}function ro(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function If(e,n,o,s,f){var p=ar();return p=p===null?null:{parent:at._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},e!==null&&ia(n,null),fr(),Dd(n),e!==null&&ll(e,n,s,!0),n.childLanes=f,null}function Ta(e,n){return n=xa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function kf(e,n,o){return Ni(n,e.child,null,o),e=Ta(n,n.pendingProps),e.flags|=2,Pt(n),n.memoizedState=null,e}function by(e,n,o){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Re){if(s.mode==="hidden")return e=Ta(n,s),n.lanes=536870912,ro(null,e);if(pr(n),(e=Ke)?(e=Fm(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zn!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},o=pd(e),o.return=n,n.child=o,yt=n,Ke=null)):e=null,e===null)throw Vn(n);return n.lanes=536870912,null}return Ta(n,s)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(pr(n),f)if(n.flags&256)n.flags&=-257,n=kf(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(rt||ll(e,n,o,!1),f=(o&e.childLanes)!==0,rt||f){if(s=Oe,s!==null&&(S=xc(s,o),S!==0&&S!==p.retryLane))throw p.retryLane=S,Ti(e,S),Ut(s,e,S),Lr;wa(),n=kf(e,n,o)}else e=p.treeContext,Ke=$t(S.nextSibling),yt=n,Re=!0,Bn=null,Qt=!1,e!==null&&yd(n,e),n=Ta(n,s),n.flags|=4096;return n}return e=vn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Sa(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Gr(e,n,o,s,f){return _i(n),o=gr(e,n,o,s,void 0,f),s=yr(),e!==null&&!rt?(vr(e,n,f),An(e,n,f)):(Re&&s&&Zs(n),n.flags|=1,Tt(e,n,o,f),n.child)}function Df(e,n,o,s,f,p){return _i(n),n.updateQueue=null,o=Ld(n,s,o,f),Ud(e),s=yr(),e!==null&&!rt?(vr(e,n,p),An(e,n,p)):(Re&&s&&Zs(n),n.flags|=1,Tt(e,n,o,p),n.child)}function Uf(e,n,o,s,f){if(_i(n),n.stateNode===null){var p=el,S=o.contextType;typeof S=="object"&&S!==null&&(p=vt(S)),p=new o(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Dr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},rr(n),S=o.contextType,p.context=typeof S=="object"&&S!==null?vt(S):el,p.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(kr(n,o,S,s),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Dr.enqueueReplaceState(p,p.state,null),io(n,s,p,f),no(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var _=n.memoizedProps,C=Mi(o,_);p.props=C;var D=p.context,P=o.contextType;S=el,typeof P=="object"&&P!==null&&(S=vt(P));var B=o.getDerivedStateFromProps;P=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,P||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||D!==S)&&Sf(n,p,s,S),Fn=!1;var L=n.memoizedState;p.state=L,io(n,s,p,f),no(),D=n.memoizedState,_||L!==D||Fn?(typeof B=="function"&&(kr(n,o,B,s),D=n.memoizedState),(C=Fn||Tf(n,o,C,s,L,D,S))?(P||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),p.props=s,p.state=D,p.context=S,s=C):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,ur(e,n),S=n.memoizedProps,P=Mi(o,S),p.props=P,B=n.pendingProps,L=p.context,D=o.contextType,C=el,typeof D=="object"&&D!==null&&(C=vt(D)),_=o.getDerivedStateFromProps,(D=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==B||L!==C)&&Sf(n,p,s,C),Fn=!1,L=n.memoizedState,p.state=L,io(n,s,p,f),no();var G=n.memoizedState;S!==B||L!==G||Fn||e!==null&&e.dependencies!==null&&ta(e.dependencies)?(typeof _=="function"&&(kr(n,o,_,s),G=n.memoizedState),(P=Fn||Tf(n,o,P,s,L,G,C)||e!==null&&e.dependencies!==null&&ta(e.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,G,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,G,C)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=G),p.props=s,p.state=G,p.context=C,s=P):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,Sa(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=Ni(n,e.child,null,f),n.child=Ni(n,null,o,f)):Tt(e,n,o,f),n.memoizedState=p.state,e=n.child):e=An(e,n,f),e}function Lf(e,n,o,s){return xi(),n.flags|=256,Tt(e,n,o,s),n.child}var Hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pr(e){return{baseLanes:e,cachePool:_d()}}function qr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=zt),e}function Gf(e,n,o){var s=n.pendingProps,f=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Re){if(f?Kn(n):Qn(),(e=Ke)?(e=Fm(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zn!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},o=pd(e),o.return=n,n.child=o,yt=n,Ke=null)):e=null,e===null)throw Vn(n);return xu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,f?(Qn(),f=n.mode,_=xa({mode:"hidden",children:_},f),s=Si(s,f,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=Pr(o),s.childLanes=qr(e,S,o),n.memoizedState=Hr,ro(null,s)):(Kn(n),zr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(p)n.flags&256?(Kn(n),n.flags&=-257,n=Br(e,n,o)):n.memoizedState!==null?(Qn(),n.child=e.child,n.flags|=128,n=null):(Qn(),_=s.fallback,f=n.mode,s=xa({mode:"visible",children:s.children},f),_=Si(_,f,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,Ni(n,e.child,null,o),s=n.child,s.memoizedState=Pr(o),s.childLanes=qr(e,S,o),n.memoizedState=Hr,n=ro(null,s));else if(Kn(n),xu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(a(419)),s.stack="",s.digest=S,$l({value:s,source:null,stack:null}),n=Br(e,n,o)}else if(rt||ll(e,n,o,!1),S=(o&e.childLanes)!==0,rt||S){if(S=Oe,S!==null&&(s=xc(S,o),s!==0&&s!==C.retryLane))throw C.retryLane=s,Ti(e,s),Ut(S,e,s),Lr;Su(_)||wa(),n=Br(e,n,o)}else Su(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Ke=$t(_.nextSibling),yt=n,Re=!0,Bn=null,Qt=!1,e!==null&&yd(n,e),n=zr(n,s.children),n.flags|=4096);return n}return f?(Qn(),_=s.fallback,f=n.mode,C=e.child,D=C.sibling,s=vn(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,D!==null?_=vn(D,_):(_=Si(_,f,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,ro(null,s),s=n.child,_=e.child.memoizedState,_===null?_=Pr(o):(f=_.cachePool,f!==null?(C=at._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=_d(),_={baseLanes:_.baseLanes|o,cachePool:f}),s.memoizedState=_,s.childLanes=qr(e,S,o),n.memoizedState=Hr,ro(e.child,s)):(Kn(n),o=e.child,e=o.sibling,o=vn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function zr(e,n){return n=xa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xa(e,n){return e=Gt(22,e,null,n),e.lanes=0,e}function Br(e,n,o){return Ni(n,e.child,null,o),e=zr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hf(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),nr(e.return,n,o)}function Vr(e,n,o,s,f,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:f,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=f,S.treeForkCount=p)}function Pf(e,n,o){var s=n.pendingProps,f=s.revealOrder,p=s.tail;s=s.children;var S=nt.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,Y(nt,S),Tt(e,n,s,o),s=Re?Xl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,o,n);else if(e.tag===19)Hf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&ua(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),Vr(n,!1,f,o,p,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&ua(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}Vr(n,!0,o,null,p,s);break;case"together":Vr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function An(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Zn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(ll(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=vn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=vn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Or(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ta(e)))}function Ny(e,n,o){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),On(n,at,e.memoizedState.cache),xi();break;case 27:case 5:ui(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:On(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Kn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Gf(e,n,o):(Kn(n),e=An(e,n,o),e!==null?e.sibling:null);Kn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(ll(e,n,o,!1),s=(o&n.childLanes)!==0),f){if(s)return Pf(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(nt,nt.current),s)break;return null;case 22:return n.lanes=0,wf(e,n,o,n.pendingProps);case 24:On(n,at,e.memoizedState.cache)}return An(e,n,o)}function qf(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)rt=!0;else{if(!Or(e,o)&&(n.flags&128)===0)return rt=!1,Ny(e,n,o);rt=(e.flags&131072)!==0}else rt=!1,Re&&(n.flags&1048576)!==0&&gd(n,Xl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Ci(n.elementType),n.type=e,typeof e=="function")Qs(e)?(s=Mi(e,s),n.tag=1,n=Uf(null,n,e,s,o)):(n.tag=0,n=Gr(null,n,e,s,o));else{if(e!=null){var f=e.$$typeof;if(f===J){n.tag=11,n=Nf(null,n,e,s,o);break e}else if(f===F){n.tag=14,n=Rf(null,n,e,s,o);break e}}throw n=ye(e)||e,Error(a(306,n,""))}}return n;case 0:return Gr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,f=Mi(s,n.pendingProps),Uf(e,n,s,f,o);case 3:e:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var p=n.memoizedState;f=p.element,ur(e,n),io(n,s,null,o);var S=n.memoizedState;if(s=S.cache,On(n,at,s),s!==p.cache&&ir(n,[at],o,!0),no(),s=S.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Lf(e,n,s,o);break e}else if(s!==f){f=Jt(Error(a(424)),n),$l(f),n=Lf(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=$t(e.firstChild),yt=n,Re=!0,Bn=null,Qt=!0,o=Md(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xi(),s===f){n=An(e,n,o);break e}Tt(e,n,s,o)}n=n.child}return n;case 26:return Sa(e,n),e===null?(o=$m(n.type,null,n.pendingProps,null))?n.memoizedState=o:Re||(o=n.type,e=n.pendingProps,s=Ha(ve.current).createElement(o),s[gt]=n,s[Rt]=e,St(s,o,e),dt(s),n.stateNode=s):n.memoizedState=$m(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ui(n),e===null&&Re&&(s=n.stateNode=Km(n.type,n.pendingProps,ve.current),yt=n,Qt=!0,f=Ke,ni(n.type)?(Eu=f,Ke=$t(s.firstChild)):Ke=f),Tt(e,n,n.pendingProps.children,o),Sa(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Re&&((f=s=Ke)&&(s=iv(s,n.type,n.pendingProps,Qt),s!==null?(n.stateNode=s,yt=n,Ke=$t(s.firstChild),Qt=!1,f=!0):f=!1),f||Vn(n)),ui(n),f=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,s=p.children,yu(f,p)?s=null:S!==null&&yu(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=gr(e,n,vy,null,null,o),Ao._currentValue=f),Sa(e,n),Tt(e,n,s,o),n.child;case 6:return e===null&&Re&&((e=o=Ke)&&(o=lv(o,n.pendingProps,Qt),o!==null?(n.stateNode=o,yt=n,Ke=null,e=!0):e=!1),e||Vn(n)),null;case 13:return Gf(e,n,o);case 4:return tt(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Ni(n,null,s,o):Tt(e,n,s,o),n.child;case 11:return Nf(e,n,n.type,n.pendingProps,o);case 7:return Tt(e,n,n.pendingProps,o),n.child;case 8:return Tt(e,n,n.pendingProps.children,o),n.child;case 12:return Tt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,On(n,n.type,s.value),Tt(e,n,s.children,o),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,_i(n),f=vt(f),s=s(f),n.flags|=1,Tt(e,n,s,o),n.child;case 14:return Rf(e,n,n.type,n.pendingProps,o);case 15:return Mf(e,n,n.type,n.pendingProps,o);case 19:return Pf(e,n,o);case 31:return by(e,n,o);case 22:return wf(e,n,o,n.pendingProps);case 24:return _i(n),s=vt(at),e===null?(f=ar(),f===null&&(f=Oe,p=lr(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),n.memoizedState={parent:s,cache:f},rr(n),On(n,at,f)):((e.lanes&o)!==0&&(ur(e,n),io(n,null,null,o),no()),f=e.memoizedState,p=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),On(n,at,s)):(s=p.cache,On(n,at,s),s!==f.cache&&ir(n,[at],o,!0))),Tt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Cn(e){e.flags|=4}function Fr(e,n,o,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(fm())e.flags|=8192;else throw bi=oa,sr}else e.flags&=-16777217}function zf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tp(n))if(fm())e.flags|=8192;else throw bi=oa,sr}function Ea(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?vc():536870912,e.lanes|=n,gl|=n)}function uo(e,n){if(!Re)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function Ry(e,n,o){var s=n.pendingProps;switch(Ws(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(n),null;case 1:return Qe(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),xn(at),Ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(il(n)?Cn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,er())),Qe(n),null;case 26:var f=n.type,p=n.memoizedState;return e===null?(Cn(n),p!==null?(Qe(n),zf(n,p)):(Qe(n),Fr(n,f,null,s,o))):p?p!==e.memoizedState?(Cn(n),Qe(n),zf(n,p)):(Qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Cn(n),Qe(n),Fr(n,f,e,s,o)),null;case 27:if(Hi(n),o=ve.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Cn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Qe(n),null}e=$.current,il(n)?vd(n):(e=Km(f,s,o),n.stateNode=e,Cn(n))}return Qe(n),null;case 5:if(Hi(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Cn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Qe(n),null}if(p=$.current,il(n))vd(n);else{var S=Ha(ve.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?S.createElement(f,{is:s.is}):S.createElement(f)}}p[gt]=n,p[Rt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(St(p,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Cn(n)}}return Qe(n),Fr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Cn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ve.current,il(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,f=yt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[gt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Gm(e.nodeValue,o)),e||Vn(n,!0)}else e=Ha(e).createTextNode(s),e[gt]=n,n.stateNode=e}return Qe(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=il(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[gt]=n}else xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qe(n),e=!1}else o=er(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Pt(n),n):(Pt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Qe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=il(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[gt]=n}else xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qe(n),f=!1}else f=er(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Pt(n),n):(Pt(n),null)}return Pt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Ea(n,n.updateQueue),Qe(n),null);case 4:return Ze(),e===null&&fu(n.stateNode.containerInfo),Qe(n),null;case 10:return xn(n.type),Qe(n),null;case 19:if(H(nt),s=n.memoizedState,s===null)return Qe(n),null;if(f=(n.flags&128)!==0,p=s.rendering,p===null)if(f)uo(s,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=ua(e),p!==null){for(n.flags|=128,uo(s,!1),e=p.updateQueue,n.updateQueue=e,Ea(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)md(o,e),o=o.sibling;return Y(nt,nt.current&1|2),Re&&Tn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&xe()>Na&&(n.flags|=128,f=!0,uo(s,!1),n.lanes=4194304)}else{if(!f)if(e=ua(p),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Ea(n,e),uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Re)return Qe(n),null}else 2*xe()-s.renderingStartTime>Na&&o!==536870912&&(n.flags|=128,f=!0,uo(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,o=nt.current,Y(nt,f?o&1|2:o&1),Re&&Tn(n,s.treeForkCount),e):(Qe(n),null);case 22:case 23:return Pt(n),mr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Qe(n),n.subtreeFlags&6&&(n.flags|=8192)):Qe(n),o=n.updateQueue,o!==null&&Ea(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&H(Ai),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xn(at),Qe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function My(e,n){switch(Ws(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xn(at),Ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Hi(n),null;case 31:if(n.memoizedState!==null){if(Pt(n),n.alternate===null)throw Error(a(340));xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(nt),null;case 4:return Ze(),null;case 10:return xn(n.type),null;case 22:case 23:return Pt(n),mr(),e!==null&&H(Ai),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xn(at),null;case 25:return null;default:return null}}function Bf(e,n){switch(Ws(n),n.tag){case 3:xn(at),Ze();break;case 26:case 27:case 5:Hi(n);break;case 4:Ze();break;case 31:n.memoizedState!==null&&Pt(n);break;case 13:Pt(n);break;case 19:H(nt);break;case 10:xn(n.type);break;case 22:case 23:Pt(n),mr(),e!==null&&H(Ai);break;case 24:xn(at)}}function co(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var f=s.next;o=f;do{if((o.tag&e)===e){s=void 0;var p=o.create,S=o.inst;s=p(),S.destroy=s}o=o.next}while(o!==f)}}catch(_){Pe(n,n.return,_)}}function Xn(e,n,o){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var p=f.next;s=p;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,f=n;var C=o,D=_;try{D()}catch(P){Pe(f,C,P)}}}s=s.next}while(s!==p)}}catch(P){Pe(n,n.return,P)}}function Vf(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Id(n,o)}catch(s){Pe(e,e.return,s)}}}function Of(e,n,o){o.props=Mi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Pe(e,n,s)}}function fo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(f){Pe(e,n,f)}}function fn(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(f){Pe(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Pe(e,n,f)}else o.current=null}function Ff(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(f){Pe(e,e.return,f)}}function Jr(e,n,o){try{var s=e.stateNode;Zy(s,e.type,o,n),s[Rt]=n}catch(f){Pe(e,e.return,f)}}function Jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ni(e.type)||e.tag===4}function Yr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=gn));else if(s!==4&&(s===27&&ni(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Kr(e,n,o),e=e.sibling;e!==null;)Kr(e,n,o),e=e.sibling}function _a(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&ni(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(_a(e,n,o),e=e.sibling;e!==null;)_a(e,n,o),e=e.sibling}function Yf(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);St(n,s,o),n[gt]=e,n[Rt]=o}catch(p){Pe(e,e.return,p)}}var bn=!1,ut=!1,Qr=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,ft=null;function wy(e,n){if(e=e.containerInfo,hu=Fa,e=ld(e),Bs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var f=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,_=-1,C=-1,D=0,P=0,B=e,L=null;t:for(;;){for(var G;B!==o||f!==0&&B.nodeType!==3||(_=S+f),B!==p||s!==0&&B.nodeType!==3||(C=S+s),B.nodeType===3&&(S+=B.nodeValue.length),(G=B.firstChild)!==null;)L=B,B=G;for(;;){if(B===e)break t;if(L===o&&++D===f&&(_=S),L===p&&++P===s&&(C=S),(G=B.nextSibling)!==null)break;B=L,L=B.parentNode}B=G}o=_===-1||C===-1?null:{start:_,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(gu={focusedElem:e,selectionRange:o},Fa=!1,ft=n;ft!==null;)if(n=ft,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ft=e;else for(;ft!==null;){switch(n=ft,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=n,f=p.memoizedProps,p=p.memoizedState,s=o.stateNode;try{var le=Mi(o.type,f);e=s.getSnapshotBeforeUpdate(le,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Pe(o,o.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Tu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ft=e;break}ft=n.return}}function Qf(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Rn(e,o),s&4&&co(5,o);break;case 1:if(Rn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Pe(o,o.return,S)}else{var f=Mi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(o,o.return,S)}}s&64&&Vf(o),s&512&&fo(o,o.return);break;case 3:if(Rn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Id(e,n)}catch(S){Pe(o,o.return,S)}}break;case 27:n===null&&s&4&&Yf(o);case 26:case 5:Rn(e,o),n===null&&s&4&&Ff(o),s&512&&fo(o,o.return);break;case 12:Rn(e,o);break;case 31:Rn(e,o),s&4&&Zf(e,o);break;case 13:Rn(e,o),s&4&&Wf(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=qy.bind(null,o),ov(e,o))));break;case 22:if(s=o.memoizedState!==null||bn,!s){n=n!==null&&n.memoizedState!==null||ut,f=bn;var p=ut;bn=s,(ut=n)&&!p?Mn(e,o,(o.subtreeFlags&8772)!==0):Rn(e,o),bn=f,ut=p}break;case 30:break;default:Rn(e,o)}}function Xf(e){var n=e.alternate;n!==null&&(e.alternate=null,Xf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&As(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,wt=!1;function Nn(e,n,o){for(o=o.child;o!==null;)$f(e,n,o),o=o.sibling}function $f(e,n,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Nt,o)}catch{}switch(o.tag){case 26:ut||fn(o,n),Nn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ut||fn(o,n);var s=$e,f=wt;ni(o.type)&&($e=o.stateNode,wt=!1),Nn(e,n,o),xo(o.stateNode),$e=s,wt=f;break;case 5:ut||fn(o,n);case 6:if(s=$e,f=wt,$e=null,Nn(e,n,o),$e=s,wt=f,$e!==null)if(wt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(o.stateNode)}catch(p){Pe(o,n,p)}else try{$e.removeChild(o.stateNode)}catch(p){Pe(o,n,p)}break;case 18:$e!==null&&(wt?(e=$e,Vm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Al(e)):Vm($e,o.stateNode));break;case 4:s=$e,f=wt,$e=o.stateNode.containerInfo,wt=!0,Nn(e,n,o),$e=s,wt=f;break;case 0:case 11:case 14:case 15:Xn(2,o,n),ut||Xn(4,o,n),Nn(e,n,o);break;case 1:ut||(fn(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Of(o,n,s)),Nn(e,n,o);break;case 21:Nn(e,n,o);break;case 22:ut=(s=ut)||o.memoizedState!==null,Nn(e,n,o),ut=s;break;default:Nn(e,n,o)}}function Zf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Al(e)}catch(o){Pe(n,n.return,o)}}}function Wf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(o){Pe(n,n.return,o)}}function Iy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kf),n;default:throw Error(a(435,e.tag))}}function Aa(e,n){var o=Iy(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var f=zy.bind(null,e,s);s.then(f,f)}})}function It(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var f=o[s],p=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(ni(_.type)){$e=_.stateNode,wt=!1;break e}break;case 5:$e=_.stateNode,wt=!1;break e;case 3:case 4:$e=_.stateNode.containerInfo,wt=!0;break e}_=_.return}if($e===null)throw Error(a(160));$f(p,S,f),$e=null,wt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jf(n,e),n=n.sibling}var ln=null;function jf(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:It(n,e),kt(e),s&4&&(Xn(3,e,e.return),co(3,e),Xn(5,e,e.return));break;case 1:It(n,e),kt(e),s&512&&(ut||o===null||fn(o,o.return)),s&64&&bn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var f=ln;if(It(n,e),kt(e),s&512&&(ut||o===null||fn(o,o.return)),s&4){var p=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Pl]||p[gt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(s),f.head.insertBefore(p,f.querySelector("head > title"))),St(p,s,o),p[gt]=e,dt(p),s=p;break e;case"link":var S=jm("link","href",f).get(s+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(p=S[_],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}p=f.createElement(s),St(p,s,o),f.head.appendChild(p);break;case"meta":if(S=jm("meta","content",f).get(s+(o.content||""))){for(_=0;_<S.length;_++)if(p=S[_],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}p=f.createElement(s),St(p,s,o),f.head.appendChild(p);break;default:throw Error(a(468,s))}p[gt]=e,dt(p),s=p}e.stateNode=s}else ep(f,e.type,e.stateNode);else e.stateNode=Wm(f,s,e.memoizedProps);else p!==s?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,s===null?ep(f,e.type,e.stateNode):Wm(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Jr(e,e.memoizedProps,o.memoizedProps)}break;case 27:It(n,e),kt(e),s&512&&(ut||o===null||fn(o,o.return)),o!==null&&s&4&&Jr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(It(n,e),kt(e),s&512&&(ut||o===null||fn(o,o.return)),e.flags&32){f=e.stateNode;try{Ki(f,"")}catch(le){Pe(e,e.return,le)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Jr(e,f,o!==null?o.memoizedProps:f)),s&1024&&(Qr=!0);break;case 6:if(It(n,e),kt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(le){Pe(e,e.return,le)}}break;case 3:if(za=null,f=ln,ln=Pa(n.containerInfo),It(n,e),ln=f,kt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Al(n.containerInfo)}catch(le){Pe(e,e.return,le)}Qr&&(Qr=!1,em(e));break;case 4:s=ln,ln=Pa(e.stateNode.containerInfo),It(n,e),kt(e),ln=s;break;case 12:It(n,e),kt(e);break;case 31:It(n,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Aa(e,s)));break;case 13:It(n,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ba=xe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Aa(e,s)));break;case 22:f=e.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,D=bn,P=ut;if(bn=D||f,ut=P||C,It(n,e),ut=P,bn=D,kt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(o===null||C||bn||ut||wi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){C=o=n;try{if(p=C.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=C.stateNode;var B=C.memoizedProps.style,L=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(le){Pe(C,C.return,le)}}}else if(n.tag===6){if(o===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(le){Pe(C,C.return,le)}}}else if(n.tag===18){if(o===null){C=n;try{var G=C.stateNode;f?Om(G,!0):Om(C.stateNode,!1)}catch(le){Pe(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Aa(e,o))));break;case 19:It(n,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Aa(e,s)));break;case 30:break;case 21:break;default:It(n,e),kt(e)}}function kt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Jf(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,p=Yr(e);_a(e,p,f);break;case 5:var S=o.stateNode;o.flags&32&&(Ki(S,""),o.flags&=-33);var _=Yr(e);_a(e,_,S);break;case 3:case 4:var C=o.stateNode.containerInfo,D=Yr(e);Kr(e,D,C);break;default:throw Error(a(161))}}catch(P){Pe(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function em(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;em(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Rn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qf(e,n.alternate,n),n=n.sibling}function wi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Xn(4,n,n.return),wi(n);break;case 1:fn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Of(n,n.return,o),wi(n);break;case 27:xo(n.stateNode);case 26:case 5:fn(n,n.return),wi(n);break;case 22:n.memoizedState===null&&wi(n);break;case 30:wi(n);break;default:wi(n)}e=e.sibling}}function Mn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Mn(f,p,o),co(4,p);break;case 1:if(Mn(f,p,o),s=p,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Pe(s,s.return,D)}if(s=p,f=s.updateQueue,f!==null){var _=s.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)wd(C[f],_)}catch(D){Pe(s,s.return,D)}}o&&S&64&&Vf(p),fo(p,p.return);break;case 27:Yf(p);case 26:case 5:Mn(f,p,o),o&&s===null&&S&4&&Ff(p),fo(p,p.return);break;case 12:Mn(f,p,o);break;case 31:Mn(f,p,o),o&&S&4&&Zf(f,p);break;case 13:Mn(f,p,o),o&&S&4&&Wf(f,p);break;case 22:p.memoizedState===null&&Mn(f,p,o),fo(p,p.return);break;case 30:break;default:Mn(f,p,o)}n=n.sibling}}function Xr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Zl(o))}function $r(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zl(e))}function on(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tm(e,n,o,s),n=n.sibling}function tm(e,n,o,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n,o,s),f&2048&&co(9,n);break;case 1:on(e,n,o,s);break;case 3:on(e,n,o,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zl(e)));break;case 12:if(f&2048){on(e,n,o,s),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,_=p.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Pe(n,n.return,C)}}else on(e,n,o,s);break;case 31:on(e,n,o,s);break;case 13:on(e,n,o,s);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?on(e,n,o,s):mo(e,n):p._visibility&2?on(e,n,o,s):(p._visibility|=2,ml(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Xr(S,n);break;case 24:on(e,n,o,s),f&2048&&$r(n.alternate,n);break;default:on(e,n,o,s)}}function ml(e,n,o,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,_=o,C=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:ml(p,S,_,C,f),co(8,S);break;case 23:break;case 22:var P=S.stateNode;S.memoizedState!==null?P._visibility&2?ml(p,S,_,C,f):mo(p,S):(P._visibility|=2,ml(p,S,_,C,f)),f&&D&2048&&Xr(S.alternate,S);break;case 24:ml(p,S,_,C,f),f&&D&2048&&$r(S.alternate,S);break;default:ml(p,S,_,C,f)}n=n.sibling}}function mo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,f=s.flags;switch(s.tag){case 22:mo(o,s),f&2048&&Xr(s.alternate,s);break;case 24:mo(o,s),f&2048&&$r(s.alternate,s);break;default:mo(o,s)}n=n.sibling}}var po=8192;function pl(e,n,o){if(e.subtreeFlags&po)for(e=e.child;e!==null;)nm(e,n,o),e=e.sibling}function nm(e,n,o){switch(e.tag){case 26:pl(e,n,o),e.flags&po&&e.memoizedState!==null&&yv(o,ln,e.memoizedState,e.memoizedProps);break;case 5:pl(e,n,o);break;case 3:case 4:var s=ln;ln=Pa(e.stateNode.containerInfo),pl(e,n,o),ln=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=po,po=16777216,pl(e,n,o),po=s):pl(e,n,o));break;default:pl(e,n,o)}}function im(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ho(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];ft=s,om(s,e)}im(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lm(e),e=e.sibling}function lm(e){switch(e.tag){case 0:case 11:case 15:ho(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:ho(e);break;case 12:ho(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ca(e)):ho(e);break;default:ho(e)}}function Ca(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];ft=s,om(s,e)}im(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Xn(8,n,n.return),Ca(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Ca(n));break;default:Ca(n)}e=e.sibling}}function om(e,n){for(;ft!==null;){var o=ft;switch(o.tag){case 0:case 11:case 15:Xn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,ft=s;else e:for(o=e;ft!==null;){s=ft;var f=s.sibling,p=s.return;if(Xf(s),s===o){ft=null;break e}if(f!==null){f.return=p,ft=f;break e}ft=p}}}var ky={getCacheForType:function(e){var n=vt(at),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return vt(at).controller.signal}},Dy=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Oe=null,Ee=null,Ae=0,He=0,qt=null,$n=!1,hl=!1,Zr=!1,wn=0,et=0,Zn=0,Ii=0,Wr=0,zt=0,gl=0,go=null,Dt=null,jr=!1,ba=0,am=0,Na=1/0,Ra=null,Wn=null,ct=0,jn=null,yl=null,In=0,eu=0,tu=null,sm=null,yo=0,nu=null;function Bt(){return(Ge&2)!==0&&Ae!==0?Ae&-Ae:U.T!==null?ru():Ec()}function rm(){if(zt===0)if((Ae&536870912)===0||Re){var e=zi;zi<<=1,(zi&3932160)===0&&(zi=262144),zt=e}else zt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),zt}function Ut(e,n,o){(e===Oe&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(vl(e,0),ei(e,Ae,zt,!1)),Hl(e,o),((Ge&2)===0||e!==Oe)&&(e===Oe&&((Ge&2)===0&&(Ii|=o),et===4&&ei(e,Ae,zt,!1)),mn(e))}function um(e,n,o){if((Ge&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Gl(e,n),f=s?Gy(e,n):lu(e,n,!0),p=s;do{if(f===0){hl&&!s&&ei(e,n,0,!1);break}else{if(o=e.current.alternate,p&&!Uy(o)){f=lu(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;f=go;var C=_.current.memoizedState.isDehydrated;if(C&&(vl(_,S).flags|=256),S=lu(_,S,!1),S!==2){if(Zr&&!C){_.errorRecoveryDisabledLanes|=p,Ii|=p,f=4;break e}p=Dt,Dt=f,p!==null&&(Dt===null?Dt=p:Dt.push.apply(Dt,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){vl(e,0),ei(e,n,0,!0);break}e:{switch(s=e,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ei(s,n,zt,!$n);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=ba+300-xe(),10<f)){if(ei(s,n,zt,!$n),Po(s,0,!0)!==0)break e;In=n,s.timeoutHandle=zm(cm.bind(null,s,o,Dt,Ra,jr,n,zt,Ii,gl,$n,p,"Throttled",-0,0),f);break e}cm(s,o,Dt,Ra,jr,n,zt,Ii,gl,$n,p,null,-0,0)}}break}while(!0);mn(e)}function cm(e,n,o,s,f,p,S,_,C,D,P,B,L,G){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},nm(n,p,B);var le=(p&62914560)===p?ba-xe():(p&4194048)===p?am-xe():0;if(le=vv(B,le),le!==null){In=p,e.cancelPendingCommit=le(vm.bind(null,e,n,p,o,s,f,S,_,C,P,B,null,L,G)),ei(e,p,S,!D);return}}vm(e,n,p,o,s,f,S,_,C)}function Uy(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var f=o[s],p=f.getSnapshot;f=f.value;try{if(!Lt(p(),f))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ei(e,n,o,s){n&=~Wr,n&=~Ii,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var p=31-ot(f),S=1<<p;s[p]=-1,f&=~S}o!==0&&Tc(e,o,n)}function Ma(){return(Ge&6)===0?(vo(0),!1):!0}function iu(){if(Ee!==null){if(He===0)var e=Ee.return;else e=Ee,Sn=Ei=null,Tr(e),rl=null,jl=0,e=Ee;for(;e!==null;)Bf(e.alternate,e),e=e.return;Ee=null}}function vl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,ev(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),In=0,iu(),Oe=e,Ee=o=vn(e.current,null),Ae=n,He=0,qt=null,$n=!1,hl=Gl(e,n),Zr=!1,gl=zt=Wr=Ii=Zn=et=0,Dt=go=null,jr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-ot(s),p=1<<f;n|=e[f],s&=~p}return wn=n,$o(),o}function dm(e,n){Te=null,U.H=so,n===sl||n===la?(n=bd(),He=3):n===sr?(n=bd(),He=4):He=n===Lr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,Ee===null&&(et=1,va(e,Jt(n,e.current)))}function fm(){var e=Ht.current;return e===null?!0:(Ae&4194048)===Ae?Xt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Xt:!1}function mm(){var e=U.H;return U.H=so,e===null?so:e}function pm(){var e=U.A;return U.A=ky,e}function wa(){et=4,$n||(Ae&4194048)!==Ae&&Ht.current!==null||(hl=!0),(Zn&134217727)===0&&(Ii&134217727)===0||Oe===null||ei(Oe,Ae,zt,!1)}function lu(e,n,o){var s=Ge;Ge|=2;var f=mm(),p=pm();(Oe!==e||Ae!==n)&&(Ra=null,vl(e,n)),n=!1;var S=et;e:do try{if(He!==0&&Ee!==null){var _=Ee,C=qt;switch(He){case 8:iu(),S=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(n=!0);var D=He;if(He=0,qt=null,Tl(e,_,C,D),o&&hl){S=0;break e}break;default:D=He,He=0,qt=null,Tl(e,_,C,D)}}Ly(),S=et;break}catch(P){dm(e,P)}while(!0);return n&&e.shellSuspendCounter++,Sn=Ei=null,Ge=s,U.H=f,U.A=p,Ee===null&&(Oe=null,Ae=0,$o()),S}function Ly(){for(;Ee!==null;)hm(Ee)}function Gy(e,n){var o=Ge;Ge|=2;var s=mm(),f=pm();Oe!==e||Ae!==n?(Ra=null,Na=xe()+500,vl(e,n)):hl=Gl(e,n);e:do try{if(He!==0&&Ee!==null){n=Ee;var p=qt;t:switch(He){case 1:He=0,qt=null,Tl(e,n,p,1);break;case 2:case 9:if(Ad(p)){He=0,qt=null,gm(n);break}n=function(){He!==2&&He!==9||Oe!==e||(He=7),mn(e)},p.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Ad(p)?(He=0,qt=null,gm(n)):(He=0,qt=null,Tl(e,n,p,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var _=Ee;if(S?tp(S):_.stateNode.complete){He=0,qt=null;var C=_.sibling;if(C!==null)Ee=C;else{var D=_.return;D!==null?(Ee=D,Ia(D)):Ee=null}break t}}He=0,qt=null,Tl(e,n,p,5);break;case 6:He=0,qt=null,Tl(e,n,p,6);break;case 8:iu(),et=6;break e;default:throw Error(a(462))}}Hy();break}catch(P){dm(e,P)}while(!0);return Sn=Ei=null,U.H=s,U.A=f,Ge=o,Ee!==null?0:(Oe=null,Ae=0,$o(),et)}function Hy(){for(;Ee!==null&&!Xe();)hm(Ee)}function hm(e){var n=qf(e.alternate,e,wn);e.memoizedProps=e.pendingProps,n===null?Ia(e):Ee=n}function gm(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Df(o,n,n.pendingProps,n.type,void 0,Ae);break;case 11:n=Df(o,n,n.pendingProps,n.type.render,n.ref,Ae);break;case 5:Tr(n);default:Bf(o,n),n=Ee=md(n,wn),n=qf(o,n,wn)}e.memoizedProps=e.pendingProps,n===null?Ia(e):Ee=n}function Tl(e,n,o,s){Sn=Ei=null,Tr(n),rl=null,jl=0;var f=n.return;try{if(Cy(e,f,n,o,Ae)){et=1,va(e,Jt(o,e.current)),Ee=null;return}}catch(p){if(f!==null)throw Ee=f,p;et=1,va(e,Jt(o,e.current)),Ee=null;return}n.flags&32768?(Re||s===1?e=!0:hl||(Ae&536870912)!==0?e=!1:($n=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ht.current,s!==null&&s.tag===13&&(s.flags|=16384))),ym(n,e)):Ia(n)}function Ia(e){var n=e;do{if((n.flags&32768)!==0){ym(n,$n);return}e=n.return;var o=Ry(n.alternate,n,wn);if(o!==null){Ee=o;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);et===0&&(et=5)}function ym(e,n){do{var o=My(e.alternate,e);if(o!==null){o.flags&=32767,Ee=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=o}while(e!==null);et=6,Ee=null}function vm(e,n,o,s,f,p,S,_,C){e.cancelPendingCommit=null;do ka();while(ct!==0);if((Ge&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=Ys,gg(e,o,p,S,_,C),e===Oe&&(Ee=Oe=null,Ae=0),yl=n,jn=e,In=o,eu=p,tu=f,sm=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,By(Ye,function(){return _m(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null,f=O.p,O.p=2,S=Ge,Ge|=4;try{wy(e,n,o)}finally{Ge=S,O.p=f,U.T=s}}ct=1,Tm(),Sm(),xm()}}function Tm(){if(ct===1){ct=0;var e=jn,n=yl,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var s=O.p;O.p=2;var f=Ge;Ge|=4;try{jf(n,e);var p=gu,S=ld(e.containerInfo),_=p.focusedElem,C=p.selectionRange;if(S!==_&&_&&_.ownerDocument&&id(_.ownerDocument.documentElement,_)){if(C!==null&&Bs(_)){var D=C.start,P=C.end;if(P===void 0&&(P=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(P,_.value.length);else{var B=_.ownerDocument||document,L=B&&B.defaultView||window;if(L.getSelection){var G=L.getSelection(),le=_.textContent.length,ce=Math.min(C.start,le),Be=C.end===void 0?ce:Math.min(C.end,le);!G.extend&&ce>Be&&(S=Be,Be=ce,ce=S);var M=nd(_,ce),R=nd(_,Be);if(M&&R&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var k=B.createRange();k.setStart(M.node,M.offset),G.removeAllRanges(),ce>Be?(G.addRange(k),G.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),G.addRange(k))}}}}for(B=[],G=_;G=G.parentNode;)G.nodeType===1&&B.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var z=B[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Fa=!!hu,gu=hu=null}finally{Ge=f,O.p=s,U.T=o}}e.current=n,ct=2}}function Sm(){if(ct===2){ct=0;var e=jn,n=yl,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var s=O.p;O.p=2;var f=Ge;Ge|=4;try{Qf(e,n.alternate,n)}finally{Ge=f,O.p=s,U.T=o}}ct=3}}function xm(){if(ct===4||ct===3){ct=0,Ve();var e=jn,n=yl,o=In,s=sm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ct=5:(ct=0,yl=jn=null,Em(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Wn=null),Es(o),n=n.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Nt,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=U.T,f=O.p,O.p=2,U.T=null;try{for(var p=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];p(_.value,{componentStack:_.stack})}}finally{U.T=n,O.p=f}}(In&3)!==0&&ka(),mn(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===nu?yo++:(yo=0,nu=e):yo=0,vo(0)}}function Em(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zl(n)))}function ka(){return Tm(),Sm(),xm(),_m()}function _m(){if(ct!==5)return!1;var e=jn,n=eu;eu=0;var o=Es(In),s=U.T,f=O.p;try{O.p=32>o?32:o,U.T=null,o=tu,tu=null;var p=jn,S=In;if(ct=0,yl=jn=null,In=0,(Ge&6)!==0)throw Error(a(331));var _=Ge;if(Ge|=4,lm(p.current),tm(p,p.current,S,o),Ge=_,vo(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Nt,p)}catch{}return!0}finally{O.p=f,U.T=s,Em(e,n)}}function Am(e,n,o){n=Jt(o,n),n=Ur(e.stateNode,n,2),e=Yn(e,n,2),e!==null&&(Hl(e,2),mn(e))}function Pe(e,n,o){if(e.tag===3)Am(e,e,o);else for(;n!==null;){if(n.tag===3){Am(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wn===null||!Wn.has(s))){e=Jt(o,e),o=Cf(2),s=Yn(n,o,2),s!==null&&(bf(o,s,n,e),Hl(s,2),mn(s));break}}n=n.return}}function ou(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Dy;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(o)||(Zr=!0,f.add(o),e=Py.bind(null,e,n,o),n.then(e,e))}function Py(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Oe===e&&(Ae&o)===o&&(et===4||et===3&&(Ae&62914560)===Ae&&300>xe()-ba?(Ge&2)===0&&vl(e,0):Wr|=o,gl===Ae&&(gl=0)),mn(e)}function Cm(e,n){n===0&&(n=vc()),e=Ti(e,n),e!==null&&(Hl(e,n),mn(e))}function qy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Cm(e,o)}function zy(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Cm(e,o)}function By(e,n){return j(e,n)}var Da=null,Sl=null,au=!1,Ua=!1,su=!1,ti=0;function mn(e){e!==Sl&&e.next===null&&(Sl===null?Da=Sl=e:Sl=Sl.next=e),Ua=!0,au||(au=!0,Oy())}function vo(e,n){if(!su&&Ua){su=!0;do for(var o=!1,s=Da;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var p=0;else{var S=s.suspendedLanes,_=s.pingedLanes;p=(1<<31-ot(42|e)+1)-1,p&=f&~(S&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Mm(s,p))}else p=Ae,p=Po(s,s===Oe?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||Gl(s,p)||(o=!0,Mm(s,p));s=s.next}while(o);su=!1}}function Vy(){bm()}function bm(){Ua=au=!1;var e=0;ti!==0&&jy()&&(e=ti);for(var n=xe(),o=null,s=Da;s!==null;){var f=s.next,p=Nm(s,n);p===0?(s.next=null,o===null?Da=f:o.next=f,f===null&&(Sl=o)):(o=s,(e!==0||(p&3)!==0)&&(Ua=!0)),s=f}ct!==0&&ct!==5||vo(e),ti!==0&&(ti=0)}function Nm(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-ot(p),_=1<<S,C=f[S];C===-1?((_&o)===0||(_&s)!==0)&&(f[S]=hg(_,n)):C<=n&&(e.expiredLanes|=_),p&=~_}if(n=Oe,o=Ae,o=Po(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(He===2||He===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&we(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Gl(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&we(s),Es(o)){case 2:case 8:o=Je;break;case 32:o=Ye;break;case 268435456:o=_t;break;default:o=Ye}return s=Rm.bind(null,e),o=j(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&we(s),e.callbackPriority=2,e.callbackNode=null,2}function Rm(e,n){if(ct!==0&&ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ka()&&e.callbackNode!==o)return null;var s=Ae;return s=Po(e,e===Oe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(um(e,s,n),Nm(e,xe()),e.callbackNode!=null&&e.callbackNode===o?Rm.bind(null,e):null)}function Mm(e,n){if(ka())return null;um(e,n,!0)}function Oy(){tv(function(){(Ge&6)!==0?j(Fe,Vy):bm()})}function ru(){if(ti===0){var e=ol;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),ti=e}return ti}function wm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vo(""+e)}function Im(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Fy(e,n,o,s,f){if(n==="submit"&&o&&o.stateNode===f){var p=wm((f[Rt]||null).action),S=s.submitter;S&&(n=(n=S[Rt]||null)?wm(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var _=new Yo("action","action",null,s,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ti!==0){var C=S?Im(f,S):new FormData(f);Rr(o,{pending:!0,data:C,method:f.method,action:p},null,C)}}else typeof p=="function"&&(_.preventDefault(),C=S?Im(f,S):new FormData(f),Rr(o,{pending:!0,data:C,method:f.method,action:p},p,C))},currentTarget:f}]})}}for(var uu=0;uu<Js.length;uu++){var cu=Js[uu],Jy=cu.toLowerCase(),Yy=cu[0].toUpperCase()+cu.slice(1);nn(Jy,"on"+Yy)}nn(sd,"onAnimationEnd"),nn(rd,"onAnimationIteration"),nn(ud,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(ry,"onTransitionRun"),nn(uy,"onTransitionStart"),nn(cy,"onTransitionCancel"),nn(cd,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ky=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function km(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],f=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],C=_.instance,D=_.currentTarget;if(_=_.listener,C!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=D;try{p(f)}catch(P){Xo(P)}f.currentTarget=null,p=C}else for(S=0;S<s.length;S++){if(_=s[S],C=_.instance,D=_.currentTarget,_=_.listener,C!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=D;try{p(f)}catch(P){Xo(P)}f.currentTarget=null,p=C}}}}function _e(e,n){var o=n[_s];o===void 0&&(o=n[_s]=new Set);var s=e+"__bubble";o.has(s)||(Dm(n,e,2,!1),o.add(s))}function du(e,n,o){var s=0;n&&(s|=4),Dm(o,e,s,n)}var La="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[La]){e[La]=!0,Cc.forEach(function(o){o!=="selectionchange"&&(Ky.has(o)||du(o,!1,e),du(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[La]||(n[La]=!0,du("selectionchange",!1,n))}}function Dm(e,n,o,s){switch(rp(n)){case 2:var f=xv;break;case 8:f=Ev;break;default:f=Nu}o=f.bind(null,n,o,e),f=void 0,!ks||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function mu(e,n,o,s,f){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===f)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;_!==null;){if(S=Vi(_),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=p=S;continue e}_=_.parentNode}}s=s.return}Hc(function(){var D=p,P=ws(o),B=[];e:{var L=dd.get(e);if(L!==void 0){var G=Yo,le=e;switch(e){case"keypress":if(Fo(o)===0)break e;case"keydown":case"keyup":G=zg;break;case"focusin":le="focus",G=Gs;break;case"focusout":le="blur",G=Gs;break;case"beforeblur":case"afterblur":G=Gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Og;break;case sd:case rd:case ud:G=Ig;break;case cd:G=Jg;break;case"scroll":case"scrollend":G=bg;break;case"wheel":G=Kg;break;case"copy":case"cut":case"paste":G=Dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Vc;break;case"toggle":case"beforetoggle":G=Xg}var ce=(n&4)!==0,Be=!ce&&(e==="scroll"||e==="scrollend"),M=ce?L!==null?L+"Capture":null:L;ce=[];for(var R=D,k;R!==null;){var z=R;if(k=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||k===null||M===null||(z=zl(R,M),z!=null&&ce.push(So(R,z,k))),Be)break;R=R.return}0<ce.length&&(L=new G(L,le,null,o,P),B.push({event:L,listeners:ce}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",L&&o!==Ms&&(le=o.relatedTarget||o.fromElement)&&(Vi(le)||le[Bi]))break e;if((G||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,G?(le=o.relatedTarget||o.toElement,G=D,le=le?Vi(le):null,le!==null&&(Be=d(le),ce=le.tag,le!==Be||ce!==5&&ce!==27&&ce!==6)&&(le=null)):(G=null,le=D),G!==le)){if(ce=zc,z="onMouseLeave",M="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Vc,z="onPointerLeave",M="onPointerEnter",R="pointer"),Be=G==null?L:ql(G),k=le==null?L:ql(le),L=new ce(z,R+"leave",G,o,P),L.target=Be,L.relatedTarget=k,z=null,Vi(P)===D&&(ce=new ce(M,R+"enter",le,o,P),ce.target=k,ce.relatedTarget=Be,z=ce),Be=z,G&&le)t:{for(ce=Qy,M=G,R=le,k=0,z=M;z;z=ce(z))k++;z=0;for(var ue=R;ue;ue=ce(ue))z++;for(;0<k-z;)M=ce(M),k--;for(;0<z-k;)R=ce(R),z--;for(;k--;){if(M===R||R!==null&&M===R.alternate){ce=M;break t}M=ce(M),R=ce(R)}ce=null}else ce=null;G!==null&&Um(B,L,G,ce,!1),le!==null&&Be!==null&&Um(B,Be,le,ce,!0)}}e:{if(L=D?ql(D):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var De=$c;else if(Qc(L))if(Zc)De=oy;else{De=iy;var oe=ny}else G=L.nodeName,!G||G.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?D&&Rs(D.elementType)&&(De=$c):De=ly;if(De&&(De=De(e,D))){Xc(B,De,o,P);break e}oe&&oe(e,L,D),e==="focusout"&&D&&L.type==="number"&&D.memoizedProps.value!=null&&Ns(L,"number",L.value)}switch(oe=D?ql(D):window,e){case"focusin":(Qc(oe)||oe.contentEditable==="true")&&(Zi=oe,Vs=D,Ql=null);break;case"focusout":Ql=Vs=Zi=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,od(B,o,P);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":od(B,o,P)}var Se;if(Ps)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else $i?Yc(e,o)&&(Ce="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(Oc&&o.locale!=="ko"&&($i||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&$i&&(Se=Pc()):(qn=P,Ds="value"in qn?qn.value:qn.textContent,$i=!0)),oe=Ga(D,Ce),0<oe.length&&(Ce=new Bc(Ce,e,null,o,P),B.push({event:Ce,listeners:oe}),Se?Ce.data=Se:(Se=Kc(o),Se!==null&&(Ce.data=Se)))),(Se=Zg?Wg(e,o):jg(e,o))&&(Ce=Ga(D,"onBeforeInput"),0<Ce.length&&(oe=new Bc("onBeforeInput","beforeinput",null,o,P),B.push({event:oe,listeners:Ce}),oe.data=Se)),Fy(B,e,D,o,P)}km(B,n)})}function So(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ga(e,n){for(var o=n+"Capture",s=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=zl(e,o),f!=null&&s.unshift(So(e,f,p)),f=zl(e,n),f!=null&&s.push(So(e,f,p))),e.tag===3)return s;e=e.return}return[]}function Qy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Um(e,n,o,s,f){for(var p=n._reactName,S=[];o!==null&&o!==s;){var _=o,C=_.alternate,D=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||D===null||(C=D,f?(D=zl(o,p),D!=null&&S.unshift(So(o,D,C))):f||(D=zl(o,p),D!=null&&S.push(So(o,D,C)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var Xy=/\r\n?/g,$y=/\u0000|\uFFFD/g;function Lm(e){return(typeof e=="string"?e:""+e).replace(Xy,`
`).replace($y,"")}function Gm(e,n){return n=Lm(n),Lm(e)===n}function ze(e,n,o,s,f,p){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ki(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ki(e,""+s);break;case"className":zo(e,"class",s);break;case"tabIndex":zo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":zo(e,o,s);break;case"style":Lc(e,s,p);break;case"data":if(n!=="object"){zo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Vo(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(n!=="input"&&ze(e,n,"name",f.name,f,null),ze(e,n,"formEncType",f.formEncType,f,null),ze(e,n,"formMethod",f.formMethod,f,null),ze(e,n,"formTarget",f.formTarget,f,null)):(ze(e,n,"encType",f.encType,f,null),ze(e,n,"method",f.method,f,null),ze(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Vo(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=gn);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Vo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),qo(e,"popover",s);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":qo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ag.get(o)||o,qo(e,o,s))}}function pu(e,n,o,s,f,p){switch(o){case"style":Lc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Ki(e,s):(typeof s=="number"||typeof s=="bigint")&&Ki(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),n=o.slice(2,f?o.length-7:void 0),p=e[Rt]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof s=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,f);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):qo(e,o,s)}}}function St(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ze(e,n,p,S,o,null)}}f&&ze(e,n,"srcSet",o.srcSet,o,null),s&&ze(e,n,"src",o.src,o,null);return;case"input":_e("invalid",e);var _=p=S=f=null,C=null,D=null;for(s in o)if(o.hasOwnProperty(s)){var P=o[s];if(P!=null)switch(s){case"name":f=P;break;case"type":S=P;break;case"checked":C=P;break;case"defaultChecked":D=P;break;case"value":p=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:ze(e,n,s,P,o,null)}}Ic(e,p,_,C,D,S,f,!1);return;case"select":_e("invalid",e),s=S=p=null;for(f in o)if(o.hasOwnProperty(f)&&(_=o[f],_!=null))switch(f){case"value":p=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:ze(e,n,f,_,o,null)}n=p,o=S,e.multiple=!!s,n!=null?Yi(e,!!s,n,!1):o!=null&&Yi(e,!!s,o,!0);return;case"textarea":_e("invalid",e),p=f=s=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":f=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:ze(e,n,S,_,o,null)}Dc(e,s,f,p);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(s=o[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ze(e,n,C,s,o,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<To.length;s++)_e(To[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(s=o[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ze(e,n,D,s,o,null)}return;default:if(Rs(n)){for(P in o)o.hasOwnProperty(P)&&(s=o[P],s!==void 0&&pu(e,n,P,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&ze(e,n,_,s,o,null))}function Zy(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,_=null,C=null,D=null,P=null;for(G in o){var B=o[G];if(o.hasOwnProperty(G)&&B!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=B;default:s.hasOwnProperty(G)||ze(e,n,G,null,s,B)}}for(var L in s){var G=s[L];if(B=o[L],s.hasOwnProperty(L)&&(G!=null||B!=null))switch(L){case"type":p=G;break;case"name":f=G;break;case"checked":D=G;break;case"defaultChecked":P=G;break;case"value":S=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==B&&ze(e,n,L,G,s,B)}}bs(e,S,_,C,D,P,p,f);return;case"select":G=S=_=L=null;for(p in o)if(C=o[p],o.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":G=C;default:s.hasOwnProperty(p)||ze(e,n,p,null,s,C)}for(f in s)if(p=s[f],C=o[f],s.hasOwnProperty(f)&&(p!=null||C!=null))switch(f){case"value":L=p;break;case"defaultValue":_=p;break;case"multiple":S=p;default:p!==C&&ze(e,n,f,p,s,C)}n=_,o=S,s=G,L!=null?Yi(e,!!o,L,!1):!!s!=!!o&&(n!=null?Yi(e,!!o,n,!0):Yi(e,!!o,o?[]:"",!1));return;case"textarea":G=L=null;for(_ in o)if(f=o[_],o.hasOwnProperty(_)&&f!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ze(e,n,_,null,s,f)}for(S in s)if(f=s[S],p=o[S],s.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":L=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&ze(e,n,S,f,s,p)}kc(e,L,G);return;case"option":for(var le in o)if(L=o[le],o.hasOwnProperty(le)&&L!=null&&!s.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:ze(e,n,le,null,s,L)}for(C in s)if(L=s[C],G=o[C],s.hasOwnProperty(C)&&L!==G&&(L!=null||G!=null))switch(C){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:ze(e,n,C,L,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)L=o[ce],o.hasOwnProperty(ce)&&L!=null&&!s.hasOwnProperty(ce)&&ze(e,n,ce,null,s,L);for(D in s)if(L=s[D],G=o[D],s.hasOwnProperty(D)&&L!==G&&(L!=null||G!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:ze(e,n,D,L,s,G)}return;default:if(Rs(n)){for(var Be in o)L=o[Be],o.hasOwnProperty(Be)&&L!==void 0&&!s.hasOwnProperty(Be)&&pu(e,n,Be,void 0,s,L);for(P in s)L=s[P],G=o[P],!s.hasOwnProperty(P)||L===G||L===void 0&&G===void 0||pu(e,n,P,L,s,G);return}}for(var M in o)L=o[M],o.hasOwnProperty(M)&&L!=null&&!s.hasOwnProperty(M)&&ze(e,n,M,null,s,L);for(B in s)L=s[B],G=o[B],!s.hasOwnProperty(B)||L===G||L==null&&G==null||ze(e,n,B,L,s,G)}function Hm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var f=o[s],p=f.transferSize,S=f.initiatorType,_=f.duration;if(p&&_&&Hm(S)){for(S=0,_=f.responseEnd,s+=1;s<o.length;s++){var C=o[s],D=C.startTime;if(D>_)break;var P=C.transferSize,B=C.initiatorType;P&&Hm(B)&&(C=C.responseEnd,S+=P*(C<_?1:(_-D)/(C-D)))}if(--s,n+=8*(p+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hu=null,gu=null;function Ha(e){return e.nodeType===9?e:e.ownerDocument}function Pm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vu=null;function jy(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(e){return Bm.resolve(null).then(e).catch(nv)}:zm;function nv(e){setTimeout(function(){throw e})}function ni(e){return e==="head"}function Vm(e,n){var o=n,s=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(f),Al(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")xo(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,xo(o);for(var p=o.firstChild;p;){var S=p.nextSibling,_=p.nodeName;p[Pl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=S}}else o==="body"&&xo(e.ownerDocument.body);o=f}while(o);Al(n)}function Om(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Tu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Tu(o),As(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function iv(e,n,o,s){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Pl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function lv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=$t(e.nextSibling),e===null))return null;return e}function Fm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$t(e.nextSibling),e===null))return null;return e}function Su(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ov(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function $t(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Eu=null;function Jm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return $t(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Ym(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Km(e,n,o){switch(n=Ha(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);As(e)}var Zt=new Map,Qm=new Set;function Pa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=O.d;O.d={f:av,r:sv,D:rv,C:uv,L:cv,m:dv,X:mv,S:fv,M:pv};function av(){var e=kn.f(),n=Ma();return e||n}function sv(e){var n=Oi(e);n!==null&&n.tag===5&&n.type==="form"?df(n):kn.r(e)}var xl=typeof document>"u"?null:document;function Xm(e,n,o){var s=xl;if(s&&typeof n=="string"&&n){var f=Ot(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Qm.has(f)||(Qm.add(f),e={rel:e,crossOrigin:o,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),St(n,"link",e),dt(n),s.head.appendChild(n)))}}function rv(e){kn.D(e),Xm("dns-prefetch",e,null)}function uv(e,n){kn.C(e,n),Xm("preconnect",e,n)}function cv(e,n,o){kn.L(e,n,o);var s=xl;if(s&&e&&n){var f='link[rel="preload"][as="'+Ot(n)+'"]';n==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ot(o.imageSizes)+'"]')):f+='[href="'+Ot(e)+'"]';var p=f;switch(n){case"style":p=El(e);break;case"script":p=_l(e)}Zt.has(p)||(e=x({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Zt.set(p,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(Eo(p))||n==="script"&&s.querySelector(_o(p))||(n=s.createElement("link"),St(n,"link",e),dt(n),s.head.appendChild(n)))}}function dv(e,n){kn.m(e,n);var o=xl;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ot(s)+'"][href="'+Ot(e)+'"]',p=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=_l(e)}if(!Zt.has(p)&&(e=x({rel:"modulepreload",href:e},n),Zt.set(p,e),o.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_o(p)))return}s=o.createElement("link"),St(s,"link",e),dt(s),o.head.appendChild(s)}}}function fv(e,n,o){kn.S(e,n,o);var s=xl;if(s&&e){var f=Fi(s).hoistableStyles,p=El(e);n=n||"default";var S=f.get(p);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Eo(p)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Zt.get(p))&&_u(e,o);var C=S=s.createElement("link");dt(C),St(C,"link",e),C._p=new Promise(function(D,P){C.onload=D,C.onerror=P}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,qa(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},f.set(p,S)}}}function mv(e,n){kn.X(e,n);var o=xl;if(o&&e){var s=Fi(o).hoistableScripts,f=_l(e),p=s.get(f);p||(p=o.querySelector(_o(f)),p||(e=x({src:e,async:!0},n),(n=Zt.get(f))&&Au(e,n),p=o.createElement("script"),dt(p),St(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function pv(e,n){kn.M(e,n);var o=xl;if(o&&e){var s=Fi(o).hoistableScripts,f=_l(e),p=s.get(f);p||(p=o.querySelector(_o(f)),p||(e=x({src:e,async:!0,type:"module"},n),(n=Zt.get(f))&&Au(e,n),p=o.createElement("script"),dt(p),St(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function $m(e,n,o,s){var f=(f=ve.current)?Pa(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=El(o.href),o=Fi(f).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=El(o.href);var p=Fi(f).hoistableStyles,S=p.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=f.querySelector(Eo(e)))&&!p._p&&(S.instance=p,S.state.loading=5),Zt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zt.set(e,o),p||hv(f,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_l(o),o=Fi(f).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function El(e){return'href="'+Ot(e)+'"'}function Eo(e){return'link[rel="stylesheet"]['+e+"]"}function Zm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function hv(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),St(n,"link",o),dt(n),e.head.appendChild(n))}function _l(e){return'[src="'+Ot(e)+'"]'}function _o(e){return"script[async]"+e}function Wm(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Ot(o.href)+'"]');if(s)return n.instance=s,dt(s),s;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),dt(s),St(s,"style",f),qa(s,o.precedence,e),n.instance=s;case"stylesheet":f=El(o.href);var p=e.querySelector(Eo(f));if(p)return n.state.loading|=4,n.instance=p,dt(p),p;s=Zm(o),(f=Zt.get(f))&&_u(s,f),p=(e.ownerDocument||e).createElement("link"),dt(p);var S=p;return S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),St(p,"link",s),n.state.loading|=4,qa(p,o.precedence,e),n.instance=p;case"script":return p=_l(o.src),(f=e.querySelector(_o(p)))?(n.instance=f,dt(f),f):(s=o,(f=Zt.get(p))&&(s=x({},o),Au(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),dt(f),St(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,qa(s,o.precedence,e));return n.instance}function qa(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,p=f,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)p=_;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function _u(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var za=null;function jm(e,n,o){if(za===null){var s=new Map,f=za=new Map;f.set(o,s)}else f=za,s=f.get(o),s||(s=new Map,f.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var p=o[f];if(!(p[Pl]||p[gt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(p):s.set(S,[p])}}return s}function ep(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function gv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function tp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yv(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=El(s.href),p=n.querySelector(Eo(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ba.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=p,dt(p);return}p=n.ownerDocument||n,s=Zm(s),(f=Zt.get(f))&&_u(s,f),p=p.createElement("link"),dt(p);var S=p;S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),St(p,"link",s),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ba.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Cu=0;function vv(e,n){return e.stylesheets&&e.count===0&&Oa(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Oa(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&Cu===0&&(Cu=62500*Wy());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oa(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Cu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Ba(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Va=null;function Oa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Va=new Map,n.forEach(Tv,e),Va=null,Ba.call(e))}function Tv(e,n){if(!(n.state.loading&4)){var o=Va.get(e);if(o)var s=o.get(null);else{o=new Map,Va.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}f=n.instance,S=f.getAttribute("data-precedence"),p=o.get(S)||s,p===s&&o.set(null,f),o.set(S,f),this.count++,s=Ba.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Ao={$$typeof:V,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Sv(e,n,o,s,f,p,S,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function np(e,n,o,s,f,p,S,_,C,D,P,B){return e=new Sv(e,n,o,S,C,D,P,B,_),n=1,p===!0&&(n|=24),p=Gt(3,null,null,n),e.current=p,p.stateNode=e,n=lr(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:o,cache:n},rr(p),e}function ip(e){return e?(e=el,e):el}function lp(e,n,o,s,f,p){f=ip(f),s.context===null?s.context=f:s.pendingContext=f,s=Jn(n),s.payload={element:o},p=p===void 0?null:p,p!==null&&(s.callback=p),o=Yn(e,s,n),o!==null&&(Ut(o,e,n),to(o,e,n))}function op(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function bu(e,n){op(e,n),(e=e.alternate)&&op(e,n)}function ap(e){if(e.tag===13||e.tag===31){var n=Ti(e,67108864);n!==null&&Ut(n,e,67108864),bu(e,67108864)}}function sp(e){if(e.tag===13||e.tag===31){var n=Bt();n=xs(n);var o=Ti(e,n);o!==null&&Ut(o,e,n),bu(e,n)}}var Fa=!0;function xv(e,n,o,s){var f=U.T;U.T=null;var p=O.p;try{O.p=2,Nu(e,n,o,s)}finally{O.p=p,U.T=f}}function Ev(e,n,o,s){var f=U.T;U.T=null;var p=O.p;try{O.p=8,Nu(e,n,o,s)}finally{O.p=p,U.T=f}}function Nu(e,n,o,s){if(Fa){var f=Ru(s);if(f===null)mu(e,n,s,Ja,o),up(e,s);else if(Av(f,e,n,o,s))s.stopPropagation();else if(up(e,s),n&4&&-1<_v.indexOf(e)){for(;f!==null;){var p=Oi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=pi(p.pendingLanes);if(S!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var C=1<<31-ot(S);_.entanglements[1]|=C,S&=~C}mn(p),(Ge&6)===0&&(Na=xe()+500,vo(0))}}break;case 31:case 13:_=Ti(p,2),_!==null&&Ut(_,p,2),Ma(),bu(p,2)}if(p=Ru(s),p===null&&mu(e,n,s,Ja,o),p===f)break;f=p}f!==null&&s.stopPropagation()}else mu(e,n,s,null,o)}}function Ru(e){return e=ws(e),Mu(e)}var Ja=null;function Mu(e){if(Ja=null,e=Vi(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=m(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ja=e,null}function rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Fe:return 2;case Je:return 8;case Ye:case lt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var wu=!1,ii=null,li=null,oi=null,Co=new Map,bo=new Map,ai=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(e,n){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function No(e,n,o,s,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Oi(n),n!==null&&ap(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Av(e,n,o,s,f){switch(n){case"focusin":return ii=No(ii,e,n,o,s,f),!0;case"dragenter":return li=No(li,e,n,o,s,f),!0;case"mouseover":return oi=No(oi,e,n,o,s,f),!0;case"pointerover":var p=f.pointerId;return Co.set(p,No(Co.get(p)||null,e,n,o,s,f)),!0;case"gotpointercapture":return p=f.pointerId,bo.set(p,No(bo.get(p)||null,e,n,o,s,f)),!0}return!1}function cp(e){var n=Vi(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){e.blockedOn=n,_c(e.priority,function(){sp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,_c(e.priority,function(){sp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ya(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Ru(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Ms=s,o.target.dispatchEvent(s),Ms=null}else return n=Oi(o),n!==null&&ap(n),e.blockedOn=o,!1;n.shift()}return!0}function dp(e,n,o){Ya(e)&&o.delete(n)}function Cv(){wu=!1,ii!==null&&Ya(ii)&&(ii=null),li!==null&&Ya(li)&&(li=null),oi!==null&&Ya(oi)&&(oi=null),Co.forEach(dp),bo.forEach(dp)}function Ka(e,n){e.blockedOn===n&&(e.blockedOn=null,wu||(wu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Cv)))}var Qa=null;function fp(e){Qa!==e&&(Qa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qa===e&&(Qa=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(Mu(s||o)===null)continue;break}var p=Oi(o);p!==null&&(e.splice(n,3),n-=3,Rr(p,{pending:!0,data:f,method:o.method,action:s},s,f))}}))}function Al(e){function n(C){return Ka(C,e)}ii!==null&&Ka(ii,e),li!==null&&Ka(li,e),oi!==null&&Ka(oi,e),Co.forEach(n),bo.forEach(n);for(var o=0;o<ai.length;o++){var s=ai[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ai.length&&(o=ai[0],o.blockedOn===null);)cp(o),o.blockedOn===null&&ai.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var f=o[s],p=o[s+1],S=f[Rt]||null;if(typeof p=="function")S||fp(o);else if(S){var _=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[Rt]||null)_=S.formAction;else if(Mu(f)!==null)continue}else _=S.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),fp(o)}}}function mp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Iu(e){this._internalRoot=e}Xa.prototype.render=Iu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Bt();lp(o,s,e,n,null,null)},Xa.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;lp(e.current,2,null,e,null,null),Ma(),n[Bi]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ec();e={blockedOn:null,target:e,priority:n};for(var o=0;o<ai.length&&n!==0&&n<ai[o].priority;o++);ai.splice(o,0,e),o===0&&cp(e)}};var pp=t.version;if(pp!=="19.2.3")throw Error(a(527,pp,"19.2.3"));O.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var bv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Nt=$a.inject(bv),We=$a}catch{}}return Mo.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",f=xf,p=Ef,S=_f;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=np(e,1,!1,null,null,o,s,null,f,p,S,mp),e[Bi]=n.current,fu(e),new Iu(n)},Mo.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,f="",p=xf,S=Ef,_=_f,C=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),n=np(e,1,!0,n,o??null,s,f,C,p,S,_,mp),n.context=ip(null),o=n.current,s=Bt(),s=xs(s),f=Jn(s),f.callback=null,Yn(o,f,s),o=s,n.current.lanes=o,Hl(n,o),mn(n),e[Bi]=n.current,fu(e),new Xa(n)},Mo.version="19.2.3",Mo}var Ap;function Hv(){if(Ap)return Uu.exports;Ap=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Uu.exports=Gv(),Uu.exports}var Pv=Hv();const qv=c0(Pv);var Ie=(i=>(i.DRILL="Learn & Drill",i.ACTIVE_RECALL="Active Recall",i.SIMULATION="Test Simulation",i.WEAKNESS="Weakness Attack",i.EXAMPLE="Contoh Soal",i.PRACTICE="Latihan Kustom",i))(Ie||{});const d0=[{id:"SKRIPSI",name:"Skripsi Helper",desc:"Bantuan Judul, Outline, & Metodologi"},{id:"UTBK",name:"UTBK SNBT",desc:"Tes Potensi Skolastik & Literasi"},{id:"SKD",name:"SKD CPNS/Kedinasan",desc:"TWK, TIU, TKP"},{id:"TPA",name:"TPA & TBI",desc:"Tes Potensi Akademik & B.Inggris (Seleksi Lanjutan)"},{id:"PSIKOTEST",name:"Psikotes General",desc:"Tes IQ: Logika, Spasial, Numerik"},{id:"INTERVIEW",name:"Wawancara Tulis",desc:"Simulasi Jawab Interview & Review AI"},{id:"BUTAWRNA",name:"Tes Buta Warna",desc:"Simulasi Ishihara & Warna"},{id:"GENERAL",name:"Materi Umum",desc:"Belajar Apapun: PDF, Topik, Hafalan"}],zv=[{id:"ACTIVE_RECALL",name:"Active Recall",desc:"Paksa otak mengingat tanpa melihat catatan.",icon:"Brain"},{id:"PRACTICE",name:"Latihan Soal",desc:"Drill soal pilihan ganda dari materi.",icon:"PenTool"},{id:"SPACED_REPETITION",name:"Spaced Repetition",desc:"Flashcards untuk hafalan jangka panjang.",icon:"Repeat"},{id:"FEYNMAN",name:"Feynman Technique",desc:"Jelaskan materi seolah ke anak kecil.",icon:"MessageCircle"},{id:"MIND_MAP",name:"Mind Mapping",desc:"Visualisasikan hubungan antar konsep.",icon:"Share2"},{id:"PBL",name:"Problem-Based",desc:"Belajar lewat studi kasus nyata.",icon:"Search"},{id:"TEACHING",name:"Teaching Method",desc:"Simulasi mengajar murid (AI).",icon:"GraduationCap"},{id:"SQ3R",name:"SQ3R Method",desc:"Survey, Question, Read, Recite, Review.",icon:"BookOpen"}],Bv=["Penalaran Umum","Pengetahuan Kuantitatif","Pemahaman Bacaan & Menulis","Pengetahuan & Pemahaman Umum","Literasi Bahasa Indonesia","Literasi Bahasa Inggris","Penalaran Matematika"],Vv=["Tes Wawasan Kebangsaan (TWK)","Tes Intelegensia Umum (TIU)","Tes Karakteristik Pribadi (TKP)"],Ov=["Verbal (Analogi, Silogisme)","Numerik (Deret, Aritmatika)","Penalaran Logis & Analitis","Spasial (Gambar)","Tes Bahasa Inggris (TBI)"],Fv=["Tes IQ General (Campuran)","Logika Aritmatika","Kemampuan Verbal","Spasial & Pola Gambar"],Jv=["Pertanyaan Personal (Kelebihan/Kekurangan)","Motivasi & Komitmen","Studi Kasus & Problem Solving","Wawasan Kebangsaan & Integritas"];var Yv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kv,Qv;function Xv(){return{geminiUrl:Kv,vertexUrl:Qv}}function $v(i,t,l,a){var r,d;if(!(i!=null&&i.baseUrl)){const m=Xv();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln{}function W(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(d+1),l[h])}else for(const h of y)c(h,t.slice(d+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Zv(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),d=a.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}Bu(i,r,d,0,m)}}function Bu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Bu(y,t,l,a+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const x=[];for(const E of l.slice(a))E==="*"?x.push(h):x.push(E);c(m,x,v)}for(const h of g)delete m[h]}}else{const m=i;d in m&&Bu(m[d],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ic(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wv(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function jv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],tT(m)),t}function eT(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],nT(m)),t}function tT(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>iT(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function nT(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>lT(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function iT(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],cT(l)),t}function lT(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],dT(l)),t}function oT(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function aT(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function sT(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],rT(m)),t}function rT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function f0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],uT(m)),t}function uT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function cT(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],ic(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function dT(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],ic(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cp||(Cp={}));var bp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(bp||(bp={}));var Np;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Np||(Np={}));var X;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(X||(X={}));var Rp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Rp||(Rp={}));var Mp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Mp||(Mp={}));var wp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wp||(wp={}));var Ip;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ip||(Ip={}));var kp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(kp||(kp={}));var Dp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Dp||(Dp={}));var Up;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Up||(Up={}));var Lp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Lp||(Lp={}));var Gp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Gp||(Gp={}));var Hp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Hp||(Hp={}));var Pp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Pp||(Pp={}));var qp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(qp||(qp={}));var zp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(zp||(zp={}));var Bp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bp||(Bp={}));var Vp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vp||(Vp={}));var Op;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Op||(Op={}));var Fp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Fp||(Fp={}));var ls;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ls||(ls={}));var Jp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jp||(Jp={}));var Yp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Yp||(Yp={}));var Kp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kp||(Kp={}));var Vu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vu||(Vu={}));var Qp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Qp||(Qp={}));var Xp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Xp||(Xp={}));var $p;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})($p||($p={}));var Zp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zp||(Zp={}));var Wp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Wp||(Wp={}));var jp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(jp||(jp={}));var eh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(eh||(eh={}));var th;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(th||(th={}));var nh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nh||(nh={}));var ih;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ih||(ih={}));var lh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lh||(lh={}));var oh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(oh||(oh={}));var ah;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(ah||(ah={}));var sh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(sh||(sh={}));var rh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(rh||(rh={}));var uh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(uh||(uh={}));var ch;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(ch||(ch={}));var dh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(dh||(dh={}));var fh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(fh||(fh={}));var mh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mh||(mh={}));var ph;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(ph||(ph={}));var hh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(hh||(hh={}));var gh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gh||(gh={}));var yh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yh||(yh={}));var vh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(vh||(vh={}));var Th;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Th||(Th={}));var Sh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sh||(Sh={}));var xh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(xh||(xh={}));var Nl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Nl||(Nl={}));class Ou{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class wo{get text(){var t,l,a,r,d,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const x=[];for(const E of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,b]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(b!==null||b!==void 0)&&x.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,a,r,d,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const x of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(x))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,d,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,d,m,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,d,m,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Eh{}class _h{}class fT{}class mT{}class pT{}class hT{}class Ah{}class Ch{}class bh{}class gT{}class os{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new os;let r;const d=t;return l?r=eT(d):r=jv(d),Object.assign(a,r),a}}class Nh{}class Rh{}class Mh{}class wh{}class yT{}class vT{}class TT{}class lc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new lc,d=sT(t);return Object.assign(a,d),a}}class ST{}class xT{}class ET{}class Ih{}class _T{get text(){var t,l,a;let r="",d=!1;const m=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,l,a;let r="";const d=[];for(const m of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class AT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class oc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new oc,d=f0(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function m0(i,t){const l=Le(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function p0(i){return Array.isArray(i)?i.map(t=>as(t)):[as(i)]}function as(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function h0(i){const t=as(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function g0(i){const t=as(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function y0(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>kh(t)):[kh(i)]}function Fu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Dh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Uh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Et(i){if(i==null)throw new Error("ContentUnion is required");return Fu(i)?i:{role:"user",parts:y0(i)}}function ac(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Et(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=Et(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Et(l)):[Et(t)]}function Wt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Dh(i)||Uh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(i)]}const t=[],l=[],a=Fu(i[0]);for(const r of i){const d=Fu(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(Dh(r)||Uh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:y0(l)}),t}function CT(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(X).includes(l[0].toUpperCase())?l[0].toUpperCase():X.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(X).includes(a.toUpperCase())?a.toUpperCase():X.TYPE_UNSPECIFIED})}}function Ml(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&CT(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(X).includes(g.toUpperCase())?g.toUpperCase():X.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=Ml(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(Ml(h))}t[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=Ml(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function sc(i){return Ml(i)}function rc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function uc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function kl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ml(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ml(t.response));return i}function Dl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function bT(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function Gn(i,t){if(typeof t!="string")throw new Error("name must be a string");return bT(i,t,"cachedContents")}function v0(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ri(i){return ic(i)}function NT(i){return i!=null&&typeof i=="object"&&"name"in i}function RT(i){return i!=null&&typeof i=="object"&&"video"in i}function MT(i){return i!=null&&typeof i=="object"&&"uri"in i}function T0(i){var t;let l;if(NT(i)&&(l=i.name),!(MT(i)&&(l=i.uri,l===void 0))&&!(RT(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function S0(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function x0(i){for(const t of["models","tunedModels","publisherModels"])if(wT(i,t))return i[t];return[]}function wT(i,t){return i!==null&&typeof i=="object"&&t in i}function IT(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function kT(i,t={}){const l=[],a=new Set;for(const r of i){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=IT(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function E0(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function DT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function _0(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Ul(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function A0(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UT(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>pS(m))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["inlinedEmbedContentResponses"],d)}return t}function LT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function GT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function ns(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],A0(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const m=u(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],UT(_0(h))),t}function Ju(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],A0(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["createTime"]);m!=null&&c(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const x=u(i,["inputConfig"]);x!=null&&c(t,["src"],HT(x));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],LT(_0(E)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function HT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function PT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>mS(i,m))),c(l,["requests","requests"],d)}return l}function qT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function zT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function BT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Ul(i,a)),l}function VT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Ul(i,a)),l}function OT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],FT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function FT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function C0(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>xS(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function JT(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function YT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],GT(DT(r))),l}function Lh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],PT(i,E0(i,r)));const d=u(t,["config"]);return d!=null&&JT(d,l),l}function KT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Le(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],qT(E0(i,r)));const d=u(t,["config"]);return d!=null&&YT(d,l),l}function QT(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function XT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],nS(i,r));const d=u(t,["config"]);return d!=null&&QT(d,l),l}function $T(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Ul(i,a)),l}function ZT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Ul(i,a)),l}function WT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function jT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function eS(i,t){const l={},a=u(t,["contents"]);if(a!=null){let d=ac(i,a);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],tS(r,l)),Zv(l,{"requests[].*":"requests[].request.*"})),l}function tS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function nS(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],eS(i,r)),l}function iS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function oS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function aS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],C0(Et(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const b=u(t,["frequencyPenalty"]);b!=null&&c(a,["frequencyPenalty"],b);const I=u(t,["seed"]);I!=null&&c(a,["seed"],I);const w=u(t,["responseMimeType"]);w!=null&&c(a,["responseMimeType"],w);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],sc(q));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(t,["safetySettings"]);if(l!==void 0&&V!=null){let Q=V;Array.isArray(Q)&&(Q=Q.map(ye=>ES(ye))),c(l,["safetySettings"],Q)}const J=u(t,["tools"]);if(l!==void 0&&J!=null){let Q=Dl(J);Array.isArray(Q)&&(Q=Q.map(ye=>AS(kl(ye)))),c(l,["tools"],Q)}const te=u(t,["toolConfig"]);if(l!==void 0&&te!=null&&c(l,["toolConfig"],_S(te)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],Gn(i,ne));const F=u(t,["responseModalities"]);F!=null&&c(a,["responseModalities"],F);const ae=u(t,["mediaResolution"]);ae!=null&&c(a,["mediaResolution"],ae);const ie=u(t,["speechConfig"]);if(ie!=null&&c(a,["speechConfig"],rc(ie)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ge=u(t,["imageConfig"]);ge!=null&&c(a,["imageConfig"],fS(ge));const re=u(t,["enableEnhancedCivicAnswers"]);return re!=null&&c(a,["enableEnhancedCivicAnswers"],re),a}function sS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>OT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function rS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Ul(i,a)),l}function uS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Ul(i,a)),l}function cS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function dS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function fS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function mS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let g=Wt(r);Array.isArray(g)&&(g=g.map(y=>C0(y))),c(l,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(l,["metadata"],d);const m=u(t,["config"]);return m!=null&&c(l,["request","generationConfig"],aS(i,m,u(l,["request"],{}))),l}function pS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],sS(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function hS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function gS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),l}function yS(i){const t={},l=u(i,["config"]);return l!=null&&hS(l,t),t}function vS(i){const t={},l=u(i,["config"]);return l!=null&&gS(l,t),t}function TS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>ns(m))),c(t,["batchJobs"],d)}return t}function SS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Ju(m))),c(t,["batchJobs"],d)}return t}function xS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],iS(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],lS(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],zT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function ES(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function _S(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],oS(a)),t}function AS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],cS(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],dS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Un;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Un||(Un={}));class Li{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,d;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CS extends Ln{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(Un.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Lh(this.apiClient,t),a=l._url,r=W("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const x=Object.assign({},v);if(x.systemInstruction){const E=x.systemInstruction;delete x.systemInstruction;const A=x.request;A.systemInstruction=E,x.request=A}h.push(x)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(m)a.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=KT(this.apiClient,t);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ju(v))}else{const h=Lh(this.apiClient,t);return g=W("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ns(v))}}async createEmbeddingsInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XT(this.apiClient,t);return d=W("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>ns(y))}}async get(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=uS(this.apiClient,t);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ju(v))}else{const h=rS(this.apiClient,t);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ns(v))}}async cancel(t){var l,a,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=VT(this.apiClient,t);m=W("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=BT(this.apiClient,t);m=W("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=vS(t);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=SS(v),E=new Ih;return Object.assign(E,x),E})}else{const h=yS(t);return g=W("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=TS(v),E=new Ih;return Object.assign(E,x),E})}}async delete(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,t);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>jT(v))}else{const h=$T(this.apiClient,t);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>WT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Gh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>XS(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function NS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let v=Wt(m);Array.isArray(v)&&(v=v.map(x=>Gh(x))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Gh(Et(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(x=>ZS(x))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],$S(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function RS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=Wt(m);Array.isArray(x)&&(x=x.map(E=>E)),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Et(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(E=>WS(E))),c(t,["tools"],x)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function MS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],m0(i,a));const r=u(t,["config"]);return r!=null&&NS(r,l),l}function wS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],m0(i,a));const r=u(t,["config"]);return r!=null&&RS(r,l),l}function IS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Gn(i,a)),l}function kS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Gn(i,a)),l}function DS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function US(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function LS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function GS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function HS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function PS(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function qS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Gn(i,a)),l}function zS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Gn(i,a)),l}function BS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function VS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function OS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function FS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function JS(i){const t={},l=u(i,["config"]);return l!=null&&OS(l,t),t}function YS(i){const t={},l=u(i,["config"]);return l!=null&&FS(l,t),t}function KS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function QS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function XS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],LS(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],GS(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],bS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function $S(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],HS(a)),t}function ZS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],BS(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],VS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function WS(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const m=u(i,["functionDeclarations"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(E=>PS(E))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function jS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function ex(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function tx(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],Gn(i,a));const r=u(t,["config"]);return r!=null&&jS(r,l),l}function nx(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],Gn(i,a));const r=u(t,["config"]);return r!=null&&ex(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends Ln{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(Un.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=wS(this.apiClient,t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=MS(this.apiClient,t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=qS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=kS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=US(v),E=new Mh;return Object.assign(E,x),E})}else{const h=IS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=DS(v),E=new Mh;return Object.assign(E,x),E})}}async update(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nx(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=tx(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=YS(t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=QS(v),E=new wh;return Object.assign(E,x),E})}else{const h=JS(t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=KS(v),E=new wh;return Object.assign(E,x),E})}}}function ss(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Hh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(i){return this instanceof pe?(this.v=i,this):new pe(i)}function an(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(A){return function(b){return Promise.resolve(b).then(A,x)}}function g(A,b){a[A]&&(r[A]=function(I){return new Promise(function(w,q){d.push([A,I,w,q])>1||y(A,I)})},b&&(r[A]=b(r[A])))}function y(A,b){try{h(a[A](b))}catch(I){E(d[0][3],I)}}function h(A){A.value instanceof pe?Promise.resolve(A.value.v).then(v,x):E(d[0][2],A)}function v(A){y("next",A)}function x(A){y("throw",A)}function E(A,b){A(b),d.shift(),d.length&&y(d[0][0],d[0][1])}}function sn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Hh=="function"?Hh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=i[d]&&function(m){return new Promise(function(g,y){m=i[d](m),r(g,y,m.done,m.value)})}}function r(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lx(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:b0(l)}function b0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function ox(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ph(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let d=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),d&&!b0(i[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class ax{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new sx(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class sx{constructor(t,l,a,r={},d=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),ox(d)}async sendMessage(t){var l;await this.sendPromise;const a=Et(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await r,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(x))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=Et(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const l=t?Ph(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return an(this,arguments,function*(){var r,d,m,g,y,h;const v=[];try{for(var x=!0,E=sn(t),A;A=yield pe(E.next()),r=A.done,!r;x=!0){g=A.value,x=!1;const b=g;if(lx(b)){const I=(h=(y=b.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;I!==void 0&&v.push(I)}yield yield pe(b)}}catch(b){d={error:b}}finally{try{!x&&!r&&(m=E.return)&&(yield pe(m.call(E)))}finally{if(d)throw d.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(d=>d.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Ph(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fs extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,fs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rx(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function ux(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function cx(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],T0(l)),t}function dx(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function fx(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],T0(l)),t}function mx(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function px(i){const t={},l=u(i,["config"]);return l!=null&&mx(l,t),t}function hx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends Ln{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(Un.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=px(t);return d=W("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=hx(y),v=new ST;return Object.assign(v,h),v})}}async createInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rx(t);return d=W("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=ux(y),v=new xT;return Object.assign(v,h),v})}}async get(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fx(t);return d=W("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cx(t);return d=W("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=dx(y),v=new ET;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function is(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yx(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>Dx(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function vx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Tx(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Sx(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function xx(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const b=u(i,["responseModalities"]);b!=null&&c(t,["responseModalities"],b);const I=u(i,["responseSchema"]);I!=null&&c(t,["responseSchema"],I);const w=u(i,["routingConfig"]);w!=null&&c(t,["routingConfig"],w);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const V=u(i,["stopSequences"]);V!=null&&c(t,["stopSequences"],V);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const te=u(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const F=u(i,["topP"]);if(F!=null&&c(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ex(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function _x(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function Ax(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],uc(x));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],yx(Et(b)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let ne=Dl(I);Array.isArray(ne)&&(ne=ne.map(F=>Lx(kl(F)))),c(t,["setup","tools"],ne)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],Ux(w));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const V=u(i,["realtimeInputConfig"]);t!==void 0&&V!=null&&c(t,["setup","realtimeInputConfig"],V);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function Cx(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],xx(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],uc(x));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],Et(b));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let F=Dl(I);Array.isArray(F)&&(F=F.map(ae=>Gx(kl(ae)))),c(t,["setup","tools"],F)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],w);const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const V=u(i,["realtimeInputConfig"]);t!==void 0&&V!=null&&c(t,["setup","realtimeInputConfig"],V);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const te=u(i,["proactivity"]);t!==void 0&&te!=null&&c(t,["setup","proactivity"],te);const ne=u(i,["explicitVadSignal"]);return t!==void 0&&ne!=null&&c(t,["setup","explicitVadSignal"],ne),l}function bx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Le(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],Ax(r,l)),l}function Nx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Le(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],Cx(r,l)),l}function Rx(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function Mx(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function wx(i){const t={},l=u(i,["media"]);if(l!=null){let h=p0(l);Array.isArray(h)&&(h=h.map(v=>is(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],is(g0(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],is(h0(d)));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Ix(i){const t={},l=u(i,["media"]);if(l!=null){let h=p0(l);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],g0(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],h0(d));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function kx(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const m=u(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],Hx(m));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function Dx(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],vx(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],Tx(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],is(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function Ux(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Lx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],Ex(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],_x(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Gx(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const m=u(i,["functionDeclarations"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(E=>Sx(E))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function Hx(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(b=>b)),c(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(b=>b)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(b=>b)),c(t,["responseTokensDetails"],A)}const x=u(i,["toolUsePromptTokensDetails"]);if(x!=null){let A=x;Array.isArray(A)&&(A=A.map(b=>b)),c(t,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Px(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function qx(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],zx(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function zx(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function Bx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let d=Wt(r);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["contents"],d)}return l}function Vx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function Ox(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],Fx(a)),t}function Fx(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function ms(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>jE(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function Jx(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function Yx(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Kx(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],Et(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>w0(g))),c(t,["tools"],m)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],PE(d)),l}function Qx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let m=Wt(r);Array.isArray(m)&&(m=m.map(g=>ms(g))),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&Yx(d),l}function Xx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let m=Wt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&Kx(d,l),l}function $x(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function Zx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function Wx(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(i,a)),l}function jx(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(i,a)),l}function eE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function tE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function nE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const b=u(i,["outputMimeType"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","mimeType"],b);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","compressionQuality"],I);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&c(t,["parameters","addWatermark"],w);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const K=u(i,["editMode"]);t!==void 0&&K!=null&&c(t,["parameters","editMode"],K);const V=u(i,["baseSteps"]);return t!==void 0&&V!=null&&c(t,["parameters","editConfig","baseSteps"],V),l}function iE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>o_(y))),c(l,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&nE(m,l),l}function lE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>ps(d))),c(t,["generatedImages"],r)}return t}function oE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function aE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function sE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let g=ac(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&oE(d,l);const m=u(t,["model"]);return m!==void 0&&c(l,["requests[]","model"],Le(i,m)),l}function rE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let m=ac(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["instances[]","content"],m)}const d=u(t,["config"]);return d!=null&&aE(d,l),l}function uE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function cE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Ox(m))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function dE(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function fE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pE(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function hE(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function gE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],ms(Et(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const b=u(t,["frequencyPenalty"]);b!=null&&c(a,["frequencyPenalty"],b);const I=u(t,["seed"]);I!=null&&c(a,["seed"],I);const w=u(t,["responseMimeType"]);w!=null&&c(a,["responseMimeType"],w);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],sc(q));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(t,["safetySettings"]);if(l!==void 0&&V!=null){let Q=V;Array.isArray(Q)&&(Q=Q.map(ye=>a_(ye))),c(l,["safetySettings"],Q)}const J=u(t,["tools"]);if(l!==void 0&&J!=null){let Q=Dl(J);Array.isArray(Q)&&(Q=Q.map(ye=>m_(kl(ye)))),c(l,["tools"],Q)}const te=u(t,["toolConfig"]);if(l!==void 0&&te!=null&&c(l,["toolConfig"],f_(te)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],Gn(i,ne));const F=u(t,["responseModalities"]);F!=null&&c(a,["responseModalities"],F);const ae=u(t,["mediaResolution"]);ae!=null&&c(a,["mediaResolution"],ae);const ie=u(t,["speechConfig"]);if(ie!=null&&c(a,["speechConfig"],rc(ie)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ge=u(t,["imageConfig"]);ge!=null&&c(a,["imageConfig"],OE(ge));const re=u(t,["enableEnhancedCivicAnswers"]);return re!=null&&c(a,["enableEnhancedCivicAnswers"],re),a}function yE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Et(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const x=u(t,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const b=u(t,["frequencyPenalty"]);b!=null&&c(a,["frequencyPenalty"],b);const I=u(t,["seed"]);I!=null&&c(a,["seed"],I);const w=u(t,["responseMimeType"]);w!=null&&c(a,["responseMimeType"],w);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],sc(q));const K=u(t,["responseJsonSchema"]);K!=null&&c(a,["responseJsonSchema"],K);const V=u(t,["routingConfig"]);V!=null&&c(a,["routingConfig"],V);const J=u(t,["modelSelectionConfig"]);J!=null&&c(a,["modelConfig"],J);const te=u(t,["safetySettings"]);if(l!==void 0&&te!=null){let U=te;Array.isArray(U)&&(U=U.map(O=>O)),c(l,["safetySettings"],U)}const ne=u(t,["tools"]);if(l!==void 0&&ne!=null){let U=Dl(ne);Array.isArray(U)&&(U=U.map(O=>w0(kl(O)))),c(l,["tools"],U)}const F=u(t,["toolConfig"]);l!==void 0&&F!=null&&c(l,["toolConfig"],F);const ae=u(t,["labels"]);l!==void 0&&ae!=null&&c(l,["labels"],ae);const ie=u(t,["cachedContent"]);l!==void 0&&ie!=null&&c(l,["cachedContent"],Gn(i,ie));const se=u(t,["responseModalities"]);se!=null&&c(a,["responseModalities"],se);const ge=u(t,["mediaResolution"]);ge!=null&&c(a,["mediaResolution"],ge);const re=u(t,["speechConfig"]);re!=null&&c(a,["speechConfig"],rc(re));const Q=u(t,["audioTimestamp"]);Q!=null&&c(a,["audioTimestamp"],Q);const ye=u(t,["thinkingConfig"]);ye!=null&&c(a,["thinkingConfig"],ye);const be=u(t,["imageConfig"]);if(be!=null&&c(a,["imageConfig"],FE(be)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function qh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let m=Wt(r);Array.isArray(m)&&(m=m.map(g=>ms(g))),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],gE(i,d,l)),l}function zh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["contents"]);if(r!=null){let m=Wt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],yE(i,d,l)),l}function Bh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>qx(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Vh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const m=u(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function vE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function TE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const b=u(i,["outputMimeType"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","mimeType"],b);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","compressionQuality"],I);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&c(t,["parameters","addWatermark"],w);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const K=u(i,["imageSize"]);t!==void 0&&K!=null&&c(t,["parameters","sampleImageSize"],K);const V=u(i,["enhancePrompt"]);return t!==void 0&&V!=null&&c(t,["parameters","enhancePrompt"],V),l}function SE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&vE(d,l),l}function xE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&TE(d,l),l}function EE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>UE(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],R0(r)),t}function _E(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>ps(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],M0(r)),t}function AE(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],hs(v));const x=u(i,["referenceImages"]);if(t!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(A=>b_(A))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function CE(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=u(i,["pubsubTopic"]);t!==void 0&&x!=null&&c(t,["parameters","pubsubTopic"],x);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const b=u(i,["generateAudio"]);t!==void 0&&b!=null&&c(t,["parameters","generateAudio"],b);const I=u(i,["lastFrame"]);t!==void 0&&I!=null&&c(t,["instances[0]","lastFrame"],rn(I));const w=u(i,["referenceImages"]);if(t!==void 0&&w!=null){let V=w;Array.isArray(V)&&(V=V.map(J=>N_(J))),c(t,["instances[0]","referenceImages"],V)}const q=u(i,["mask"]);t!==void 0&&q!=null&&c(t,["instances[0]","mask"],C_(q));const K=u(i,["compressionQuality"]);return t!==void 0&&K!=null&&c(t,["parameters","compressionQuality"],K),l}function bE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],wE(m)),t}function NE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],IE(m)),t}function RE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],hs(d));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],I0(m));const g=u(t,["source"]);g!=null&&kE(g,l);const y=u(t,["config"]);return y!=null&&AE(y,l),l}function ME(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],rn(d));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],k0(m));const g=u(t,["source"]);g!=null&&DE(g,l);const y=u(t,["config"]);return y!=null&&CE(y,l),l}function wE(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>GE(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function IE(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>HE(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function kE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],hs(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],I0(d)),l}function DE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],rn(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],k0(d)),l}function UE(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],JE(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],R0(r)),t}function ps(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],N0(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],M0(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function LE(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],N0(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function GE(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],__(l)),t}function HE(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],A_(l)),t}function PE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const b=u(i,["responseModalities"]);b!=null&&c(t,["responseModalities"],b);const I=u(i,["responseSchema"]);I!=null&&c(t,["responseSchema"],I);const w=u(i,["routingConfig"]);w!=null&&c(t,["routingConfig"],w);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const V=u(i,["stopSequences"]);V!=null&&c(t,["stopSequences"],V);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const te=u(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const F=u(i,["topP"]);if(F!=null&&c(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(i,a)),l}function zE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(i,a)),l}function BE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function VE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function OE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function FE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const d=u(i,["outputMimeType"]);d!=null&&c(t,["imageOutputOptions","mimeType"],d);const m=u(i,["outputCompressionQuality"]);return m!=null&&c(t,["imageOutputOptions","compressionQuality"],m),t}function JE(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],ri(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function N0(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],ri(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function hs(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],ri(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rn(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],ri(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function YE(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],S0(i,g)),a}function KE(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],S0(i,g)),a}function QE(i,t){const l={},a=u(t,["config"]);return a!=null&&YE(i,a,l),l}function XE(i,t){const l={},a=u(t,["config"]);return a!=null&&KE(i,a,l),l}function $E(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=x0(r);Array.isArray(d)&&(d=d.map(m=>Yu(m))),c(t,["models"],d)}return t}function ZE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=x0(r);Array.isArray(d)&&(d=d.map(m=>Ku(m))),c(t,["models"],d)}return t}function WE(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Yu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const m=u(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],p_(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const x=u(i,["maxTemperature"]);x!=null&&c(t,["maxTemperature"],x);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const b=u(i,["thinking"]);return b!=null&&c(t,["thinking"],b),t}function Ku(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const m=u(i,["deployedModels"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(E=>dE(E))),c(t,["endpoints"],x)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],h_(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(E=>E)),c(t,["checkpoints"],x)}return t}function jE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],fE(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],mE(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Px(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function e_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],rn(l)),t}function t_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const x=u(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function n_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["source"]);r!=null&&l_(r,l);const d=u(t,["config"]);return d!=null&&t_(d,l),l}function i_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>ps(r))),c(t,["generatedImages"],a)}return t}function l_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],rn(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>e_(g))),c(t,["instances[0]","productImages"],m)}return l}function o_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],rn(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],WE(d));const m=u(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],Jx(m));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function R0(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function M0(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function a_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function s_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],rn(l)),t}function r_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function u_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["source"]);r!=null&&d_(r,l);const d=u(t,["config"]);return d!=null&&r_(d,l),l}function c_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>LE(r))),c(t,["generatedMasks"],a)}return t}function d_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],rn(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],s_(d)),l}function f_(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],pE(a)),t}function m_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],BE(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],VE(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function w0(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const m=u(i,["functionDeclarations"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(E=>hE(E))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function p_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function h_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function g_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function y_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function v_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Le(i,a));const r=u(t,["config"]);return r!=null&&g_(r,l),l}function T_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["config"]);return r!=null&&y_(r,l),l}function S_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function x_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],rn(r));const d=u(t,["upscaleFactor"]);d!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],d);const m=u(t,["config"]);return m!=null&&S_(m,l),l}function E_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>ps(d))),c(t,["generatedImages"],r)}return t}function __(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],ri(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function A_(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],ri(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function C_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],rn(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function b_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],hs(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function N_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],rn(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function I0(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],ri(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function k0(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],ri(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R_(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function M_(i){const t={},l=u(i,["config"]);return l!=null&&R_(l,t),t}function w_(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function I_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&w_(a,t),t}function k_(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function D_(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function U_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],G_(m)),t}function L_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&D_(r,t),t}function G_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function H_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function P_(i){const t={},l=u(i,["config"]);return l!=null&&H_(l,t),t}function q_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["fileSearchStores"],d)}return t}function D0(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),l}function z_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&D0(a,t),t}function B_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V_="Content-Type",O_="X-Server-Timeout",F_="User-Agent",Qu="x-goog-api-client",J_="1.35.0",Y_=`google-genai-sdk/${J_}`,K_="v1beta1",Q_="v1beta";class X_{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:K_,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Q_,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(l))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const d=new AbortController,m=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>d.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=m}return l&&l.extraBody!==null&&$_(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Oh(r),new Ou(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Oh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return an(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield pe(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=d.decode(v,{stream:!0});try{const b=JSON.parse(x);if("error"in b){const I=JSON.parse(JSON.stringify(b.error)),w=I.status,q=I.code,K=`got status: ${w}. ${JSON.stringify(b)}`;if(q>=400&&q<600)throw new fs({message:K,status:q})}}catch(b){if(b.name==="ApiError")throw b}m+=x;let E=-1,A=0;for(;;){E=-1,A=0;for(const w of y){const q=m.indexOf(w);q!==-1&&(E===-1||q<E)&&(E=q,A=w.length)}if(E===-1)break;const b=m.substring(0,E);m=m.substring(E+A);const I=b.trim();if(I.startsWith(g)){const w=I.substring(g.length).trim();try{const q=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield pe(new Ou(q))}catch(q){throw new Error(`exception parsing stream chunk ${w}. ${q}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=Y_+" "+this.clientOptions.userAgentExtra;return t[F_]=l,t[Qu]=l,t[V_]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(O_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);r.sizeBytes=String(m.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=W("upload/v1beta/files",y._url),x=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return d.upload(t,x,this)}async uploadFileToFileSearchStore(t,l,a){var r;const d=this.clientOptions.uploader,m=await d.stat(l),g=String(m.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),x={};a!=null&&D0(a,x);const E=await this.fetchUploadUrl(h,g,y,v,x,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,d,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Oh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new fs({message:r,status:l}):new Error(r)}}function $_(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z_="mcp_used/unknown";let W_=!1;function U0(i){for(const t of i)if(j_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return W_}function L0(i){var t;const l=(t=i[Qu])!==null&&t!==void 0?t:"";i[Qu]=(l+` ${Z_}`).trimStart()}function j_(i){return i!==null&&typeof i=="object"&&i instanceof cc}function eA(i){return an(this,arguments,function*(l,a=100){let r,d=0;for(;d<a;){const m=yield pe(l.listTools({cursor:r}));for(const g of m.tools)yield yield pe(g),d++;if(!m.nextCursor)break;r=m.nextCursor}})}class cc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new cc(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,sn(eA(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const x=r;m.push(x);const E=x.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=v}}catch(x){l={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),kT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tA(i,t,l){const a=new AT;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class nA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=oA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(V=>{h=V}),x=t.callbacks,E=function(){h({})},A=this.apiClient,b={onopen:E,onmessage:V=>{tA(A,x.onmessage,V)},onerror:(l=x==null?void 0:x.onerror)!==null&&l!==void 0?l:function(V){},onclose:(a=x==null?void 0:x.onclose)!==null&&a!==void 0?a:function(V){}},I=this.webSocketFactory.create(y,lA(m),b);I.connect(),await v;const K={setup:{model:Le(this.apiClient,t.model)}};return I.send(JSON.stringify(K)),new iA(I,this.apiClient)}}class iA{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=Mx(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=Rx(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Nl.PLAY)}pause(){this.sendPlaybackControl(Nl.PAUSE)}stop(){this.sendPlaybackControl(Nl.STOP)}resetContext(){this.sendPlaybackControl(Nl.RESET_CONTEXT)}close(){this.conn.close()}}function lA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function oA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sA(i,t,l){const a=new _T;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const d=JSON.parse(r);if(i.isVertexAI()){const m=kx(d);Object.assign(a,m)}else Object.assign(a,d);t(a)}class rA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new nA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,d,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&U0(t.config.tools)&&L0(x);const E=fA(x);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const ie=this.apiClient.getApiKey();let se="BidiGenerateContent",ge="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${ge}=${ie}`}let A=()=>{};const b=new Promise(ie=>{A=ie}),I=t.callbacks,w=function(){var ie;(ie=I==null?void 0:I.onopen)===null||ie===void 0||ie.call(I),A({})},q=this.apiClient,K={onopen:w,onmessage:ie=>{sA(q,I.onmessage,ie)},onerror:(l=I==null?void 0:I.onerror)!==null&&l!==void 0?l:function(ie){},onclose:(a=I==null?void 0:I.onclose)!==null&&a!==void 0?a:function(ie){}},V=this.webSocketFactory.create(v,dA(E),K);V.connect(),await b;let J=Le(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const ie=this.apiClient.getProject(),se=this.apiClient.getLocation();J=`projects/${ie}/locations/${se}/`+J}let te={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ls.AUDIO]}:t.config.responseModalities=[ls.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],F=[];for(const ie of ne)if(this.isCallableTool(ie)){const se=ie;F.push(await se.tool())}else F.push(ie);F.length>0&&(t.config.tools=F);const ae={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?te=Nx(this.apiClient,ae):te=bx(this.apiClient,ae),delete te.config,V.send(JSON.stringify(te)),new cA(V,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const uA={turnComplete:!0};class cA{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Wt(l.turns),t.isVertexAI()||(a=a.map(r=>ms(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(aA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},uA),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:Ix(t)}:l={realtimeInput:wx(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function dA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function fA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fh=10;function Jh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(wl(m)){r=!0;break}if(!r)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function wl(i){return"callTool"in i&&typeof i.callTool=="function"}function mA(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>wl(r)))!==null&&a!==void 0?a:!1}function Yh(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(wl(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(r)}),l}function Kh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pA extends Ln{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!mA(l)||Jh(l.config))return await this.generateContentInternal(y);const h=Yh(l);if(h.length>0){const I=h.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let v,x;const E=Wt(y.contents),A=(d=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:Fh;let b=0;for(;b<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const I=v.candidates[0].content,w=[];for(const q of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(wl(q)){const V=await q.callTool(v.functionCalls);w.push(...V)}b++,x={role:"user",parts:w},y.contents=Wt(y.contents),y.contents.push(I),y.contents.push(x),Kh(y.config)&&(E.push(I),E.push(x))}return Kh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async l=>{var a,r,d,m,g;if(this.maybeMoveToResponseJsonSchem(l),Jh(l.config)){const x=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(x)}const y=Yh(l);if(y.length>0){const x=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(g=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Li(Un.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,d,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(d=l.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const d=(l=t.config)===null||l===void 0?void 0:l.tools;if(!d)return t;const m=await Promise.all(d.map(async y=>wl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&U0(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),L0(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const d=new Map;for(const m of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(wl(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var l,a,r;const d=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Fh;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,x){return an(this,arguments,function*(){for(var E,A,b,I,w,q;g<d;){m&&(g++,m=!1);const te=yield pe(h.processParamsMaybeAddMcpUsage(x)),ne=yield pe(h.generateContentStreamInternal(te)),F=[],ae=[];try{for(var K=!0,V=(A=void 0,sn(ne)),J;J=yield pe(V.next()),E=J.done,!E;K=!0){I=J.value,K=!1;const ie=I;if(yield yield pe(ie),ie.candidates&&(!((w=ie.candidates[0])===null||w===void 0)&&w.content)){ae.push(ie.candidates[0].content);for(const se of(q=ie.candidates[0].content.parts)!==null&&q!==void 0?q:[])if(g<d&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(se.functionCall.name)){const ge=yield pe(v.get(se.functionCall.name).callTool([se.functionCall]));F.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(ie){A={error:ie}}finally{try{!K&&!E&&(b=V.return)&&(yield pe(b.call(V)))}finally{if(A)throw A.error}}if(F.length>0){m=!0;const ie=new wo;ie.candidates=[{content:{role:"user",parts:F}}],yield yield pe(ie);const se=[];se.push(...ae),se.push({role:"user",parts:F});const ge=Wt(x.contents).concat(se);x.contents=ge}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zh(this.apiClient,t);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=Vh(v),E=new wo;return Object.assign(E,x),E})}else{const h=qh(this.apiClient,t);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=Bh(v),E=new wo;return Object.assign(E,x),E})}}async generateContentStreamInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zh(this.apiClient,t);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(x){return an(this,arguments,function*(){var E,A,b,I;try{for(var w=!0,q=sn(x),K;K=yield pe(q.next()),E=K.done,!E;w=!0){I=K.value,w=!1;const V=I,J=Vh(yield pe(V.json()));J.sdkHttpResponse={headers:V.headers};const te=new wo;Object.assign(te,J),yield yield pe(te)}}catch(V){A={error:V}}finally{try{!w&&!E&&(b=q.return)&&(yield pe(b.call(q)))}finally{if(A)throw A.error}}})})}else{const h=qh(this.apiClient,t);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(x){return an(this,arguments,function*(){var E,A,b,I;try{for(var w=!0,q=sn(x),K;K=yield pe(q.next()),E=K.done,!E;w=!0){I=K.value,w=!1;const V=I,J=Bh(yield pe(V.json()));J.sdkHttpResponse={headers:V.headers};const te=new wo;Object.assign(te,J),yield yield pe(te)}}catch(V){A={error:V}}finally{try{!w&&!E&&(b=q.return)&&(yield pe(b.call(q)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=rE(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=cE(v),E=new Eh;return Object.assign(E,x),E})}else{const h=sE(this.apiClient,t);return g=W("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=uE(v),E=new Eh;return Object.assign(E,x),E})}}async generateImagesInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=xE(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=_E(v),E=new _h;return Object.assign(E,x),E})}else{const h=SE(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=EE(v),E=new _h;return Object.assign(E,x),E})}}async editImageInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=iE(this.apiClient,t);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=lE(y),v=new fT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=x_(this.apiClient,t);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=E_(y),v=new mT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=n_(this.apiClient,t);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=i_(y),v=new pT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=u_(this.apiClient,t);return d=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=c_(y),v=new hT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zE(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ku(v))}else{const h=qE(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Yu(v))}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=XE(this.apiClient,t);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=ZE(v),E=new Ah;return Object.assign(E,x),E})}else{const h=QE(this.apiClient,t);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=$E(v),E=new Ah;return Object.assign(E,x),E})}}async update(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=T_(this.apiClient,t);return g=W("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ku(v))}else{const h=v_(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Yu(v))}}async delete(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=jx(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=tE(v),E=new Ch;return Object.assign(E,x),E})}else{const h=Wx(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=eE(v),E=new Ch;return Object.assign(E,x),E})}}async countTokens(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Xx(this.apiClient,t);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=Zx(v),E=new bh;return Object.assign(E,x),E})}else{const h=Qx(this.apiClient,t);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=$x(v),E=new bh;return Object.assign(E,x),E})}}async computeTokens(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Bx(this.apiClient,t);return d=W("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=Vx(y),v=new gT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ME(this.apiClient,t);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const x=NE(v),E=new os;return Object.assign(E,x),E})}else{const h=RE(this.apiClient,t);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const x=bE(v),E=new os;return Object.assign(E,x),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA extends Ln{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=aT(t);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const h=oT(t);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Wv(t);return d=W("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yA(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>bA(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function vA(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);l!==void 0&&d!=null&&c(l,["newSessionExpireTime"],d);const m=u(t,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],CA(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function TA(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],vA(i,a,l)),l}function SA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function xA(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function EA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function _A(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function AA(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],uc(x));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],yA(Et(b)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let ne=Dl(I);Array.isArray(ne)&&(ne=ne.map(F=>RA(kl(F)))),c(t,["setup","tools"],ne)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],NA(w));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const V=u(i,["realtimeInputConfig"]);t!==void 0&&V!=null&&c(t,["setup","realtimeInputConfig"],V);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function CA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Le(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],AA(r,l)),l}function bA(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],SA(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],xA(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],gA(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function NA(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function RA(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],EA(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],_A(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${l}.${d}`);t.push(...r)}else t.push(l)}return t.join(",")}function wA(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const d=MA(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class IA extends Ln{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=TA(this.apiClient,t);d=W("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=wA(g,t.config);return r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function DA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&kA(a,t),t}function UA(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function LA(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function GA(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&LA(a,t),t}function HA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends Ln{constructor(t){super(),this.apiClient=t,this.list=async l=>new Li(Un.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UA(t);return d=W("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=DA(t);r=W("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GA(t);return d=W("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=HA(y),v=new yT;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qA extends Ln{constructor(t,l=new PA(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Li(Un.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=M_(t);return d=W("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=k_(t);return d=W("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=I_(t);r=W("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=P_(t);return d=W("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=q_(y),v=new vT;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=z_(t);return d=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=B_(y),v=new TT;return Object.assign(v,h),v})}}async importFile(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=L_(t);return d=W("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=U_(y),v=new lc;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let G0=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return G0=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const zA=()=>G0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const $u=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jt extends Error{}class bt extends jt{constructor(t,l,a,r){super(`${bt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new gs({message:a,cause:$u(l)});const d=l;return t===400?new P0(t,d,a,r):t===401?new q0(t,d,a,r):t===403?new z0(t,d,a,r):t===404?new B0(t,d,a,r):t===409?new V0(t,d,a,r):t===422?new O0(t,d,a,r):t===429?new F0(t,d,a,r):t>=500?new J0(t,d,a,r):new bt(t,d,a,r)}}class Zu extends bt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class gs extends bt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class H0 extends gs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class P0 extends bt{}class q0 extends bt{}class z0 extends bt{}class B0 extends bt{}class V0 extends bt{}class O0 extends bt{}class F0 extends bt{}class J0 extends bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BA=/^[a-z][a-z0-9+.-]*:/i,VA=i=>BA.test(i);let Wu=i=>(Wu=Array.isArray,Wu(i));const OA=Wu;let FA=OA;const Qh=FA;function JA(i){if(!i)return!0;for(const t in i)return!1;return!0}function YA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const KA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new jt(`${i} must be an integer`);if(t<0)throw new jt(`${i} must be a positive integer`);return t},QA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $A(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ZA=()=>{var i,t,l,a,r;const d=$A();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":$h(Deno.build.os),"X-Stainless-Arch":Xh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":$h((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Xh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=WA();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function WA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,d=a[2]||0,m=a[3]||0;return{browser:t,version:`${r}.${d}.${m}`}}}return null}const Xh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",$h=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Za;const jA=()=>Za??(Za=ZA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Y0(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function tC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Y0({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function K0(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q0=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pu(i,t,l){return Q0(),new File(i,t??"unknown_file",l)}function lC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const oC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",aC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&X0(i),sC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function rC(i,t,l){if(Q0(),i=await i,aC(i))return i instanceof File?i:Pu([await i.arrayBuffer()],i.name);if(sC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Pu(await ju(r),t,l)}const a=await ju(i);if(t||(t=lC(i)),!(l!=null&&l.type)){const r=a.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Pu(a,t,l)}async function ju(i){var t,l,a,r,d;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(X0(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(oC(i))try{for(var g=!0,y=sn(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;m.push(...await ju(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${uC(i)}`)}return m}function uC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $0{constructor(t){this._client=t}}$0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Zh=Object.freeze(Object.create(null)),cC=(i=Z0)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const d=[],m=l.reduce((v,x,E)=>{var A,b,I;/[?#]/.test(x)&&(r=!0);const w=a[E];let q=(r?encodeURIComponent:i)(""+w);return E!==a.length&&(w==null||typeof w=="object"&&w.toString===((I=Object.getPrototypeOf((b=Object.getPrototypeOf((A=w.hasOwnProperty)!==null&&A!==void 0?A:Zh))!==null&&b!==void 0?b:Zh))===null||I===void 0?void 0:I.toString))&&(q=w+"",d.push({start:v.length+x.length,length:q.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),v+x+(E===a.length?"":q)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((v,x)=>v.start-x.start),d.length>0){let v=0;const x=d.reduce((E,A)=>{const b=" ".repeat(A.start-v),I="^".repeat(A.length);return v=A.start+A.length,E+b+I},"");throw new jt(`Path parameters result in path with invalid segments:
${d.map(E=>E.error).join(`
`)}
${m}
${x}`)}return m}),Wa=cC(Z0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W0 extends $0{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,d=ss(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new jt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new jt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wa`/${r}/interactions`,Object.assign(Object.assign({body:d},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Wa`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Wa`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const d=l??{},{api_version:m=this._client.apiVersion}=d,g=ss(d,["api_version"]);return this._client.get(Wa`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}W0._key=Object.freeze(["interactions"]);class j0 extends W0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let ja;function dc(i){let t;return(ja??(t=new globalThis.TextEncoder,ja=t.encode.bind(t)))(i)}let es;function Wh(i){let t;return(es??(t=new globalThis.TextDecoder,es=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ys{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?dc(t):t;this.buffer=dC([this.buffer,l]);const a=[];let r;for(;(r=fC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Wh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=Wh(this.buffer.subarray(0,d));a.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}ys.NEWLINE_CHARS=new Set([`
`,"\r"]);ys.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function fC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function mC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rs={off:0,error:200,warn:300,info:400,debug:500},jh=(i,t,l)=>{if(i){if(YA(rs,i))return i;Ct(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(rs))}`)}};function ko(){}function ts(i,t,l){return!t||rs[i]>rs[l]?ko:t[i].bind(t)}const pC={error:ko,warn:ko,info:ko,debug:ko};let e0=new WeakMap;function Ct(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return pC;const r=e0.get(l);if(r&&r[0]===a)return r[1];const d={error:ts("error",l,a),warn:ts("warn",l,a),info:ts("info",l,a),debug:ts("debug",l,a)};return e0.set(l,[a,d]),d}const ki=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rl{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const d=a?Ct(a):console;function m(){return an(this,arguments,function*(){var y,h,v,x;if(r)throw new jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,b=sn(hC(t,l)),I;I=yield pe(b.next()),y=I.done,!y;A=!0){x=I.value,A=!1;const w=x;if(!E)if(w.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield pe(JSON.parse(w.data))}catch(q){throw d.error("Could not parse message into JSON:",w.data),d.error("From chunk:",w.raw),q}}}catch(w){h={error:w}}finally{try{!A&&!y&&(v=b.return)&&(yield pe(v.call(b)))}finally{if(h)throw h.error}}E=!0}catch(w){if(Xu(w))return yield pe(void 0);throw w}finally{E||l.abort()}})}return new Rl(m,l,a)}static fromReadableStream(t,l,a){let r=!1;function d(){return an(this,arguments,function*(){var y,h,v,x;const E=new ys,A=K0(t);try{for(var b=!0,I=sn(A),w;w=yield pe(I.next()),y=w.done,!y;b=!0){x=w.value,b=!1;const q=x;for(const K of E.decode(q))yield yield pe(K)}}catch(q){h={error:q}}finally{try{!b&&!y&&(v=I.return)&&(yield pe(v.call(I)))}finally{if(h)throw h.error}}for(const q of E.flush())yield yield pe(q)})}function m(){return an(this,arguments,function*(){var y,h,v,x;if(r)throw new jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,b=sn(d()),I;I=yield pe(b.next()),y=I.done,!y;A=!0){x=I.value,A=!1;const w=x;E||w&&(yield yield pe(JSON.parse(w)))}}catch(w){h={error:w}}finally{try{!A&&!y&&(v=b.return)&&(yield pe(v.call(b)))}finally{if(h)throw h.error}}E=!0}catch(w){if(Xu(w))return yield pe(void 0);throw w}finally{E||l.abort()}})}return new Rl(m,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=d=>({next:()=>{if(d.length===0){const m=a.next();t.push(m),l.push(m)}return d.shift()}});return[new Rl(()=>r(t),this.controller,this.client),new Rl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Y0({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:d}=await l.next();if(d)return a.close();const m=dc(JSON.stringify(r)+`
`);a.enqueue(m)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function hC(i,t){return an(this,arguments,function*(){var a,r,d,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new jt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new jt("Attempted to iterate over a response with no body");const g=new yC,y=new ys,h=K0(i.body);try{for(var v=!0,x=sn(gC(h)),E;E=yield pe(x.next()),a=E.done,!a;v=!0){m=E.value,v=!1;const A=m;for(const b of y.decode(A)){const I=g.decode(b);I&&(yield yield pe(I))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(d=x.return)&&(yield pe(d.call(x)))}finally{if(r)throw r.error}}for(const A of y.flush()){const b=g.decode(A);b&&(yield yield pe(b))}})}function gC(i){return an(this,arguments,function*(){var l,a,r,d;let m=new Uint8Array;try{for(var g=!0,y=sn(i),h;h=yield pe(y.next()),l=h.done,!l;g=!0){d=h.value,g=!1;const v=d;if(v==null)continue;const x=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?dc(v):v;let E=new Uint8Array(m.length+x.length);E.set(m),E.set(x,m.length),m=E;let A;for(;(A=mC(m))!==-1;)yield yield pe(m.slice(0,A)),m=m.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield pe(r.call(y)))}finally{if(a)throw a.error}}m.length>0&&(yield yield pe(m))})}class yC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=vC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function vC(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TC(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:d}=t,m=await(async()=>{var g;if(t.options.stream)return Ct(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Rl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return Ct(i).debug(`[${a}] response parsed`,ki({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-d})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fc extends Promise{constructor(t,l,a=TC){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new fc(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eg=Symbol("brand.privateNullableHeaders");function*SC(i){if(!i)return;if(eg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const d of r)yield[d,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Qh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Qh(a[1])?a[1]:[a[1]];let m=!1;for(const g of d)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const Io=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[d,m]of SC(a)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),m===null?(t.delete(d),l.add(g)):(t.append(d,m),l.delete(g))}}return{[eg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qu=i=>{var t,l,a,r,d,m;if(typeof globalThis.process<"u")return(a=(l=(t=Yv)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(m=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tg;class vs{constructor(t){var l,a,r,d,m,g,y,{baseURL:h=qu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=qu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:x="v1beta"}=t,E=ss(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:x},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:vs.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(m=(d=jh(A.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:jh(qu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:b,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:eC(),this.encoder=iC,this._options=A,this.apiKey=v,this.apiVersion=x,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=Io([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return Io([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Io([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new jt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Cl}`}defaultIdempotencyKey(){return`stainless-node-retry-${zA()}`}makeStatusError(t,l,a,r){return bt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,d=VA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return JA(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(d.search=this.stringifyQuery(l)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new fc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,d,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:v,timeout:x}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,b=Date.now();if(Ct(this).debug(`[${E}] sending request`,ki({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Zu;const I=new AbortController,w=await this.fetchWithTimeout(v,h,x,I).catch($u),q=Date.now();if(w instanceof globalThis.Error){const V=`retrying, ${l} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new Zu;const J=Xu(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(l)return Ct(this).info(`[${E}] connection ${J?"timed out":"failed"} - ${V}`),Ct(this).debug(`[${E}] connection ${J?"timed out":"failed"} (${V})`,ki({retryOfRequestLogID:a,url:v,durationMs:q-b,message:w.message})),this.retryRequest(g,l,a??E);throw Ct(this).info(`[${E}] connection ${J?"timed out":"failed"} - error; no more retries left`),Ct(this).debug(`[${E}] connection ${J?"timed out":"failed"} (error; no more retries left)`,ki({retryOfRequestLogID:a,url:v,durationMs:q-b,message:w.message})),J?new H0:new gs({cause:w})}const K=`[${E}${A}] ${h.method} ${v} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${q-b}ms`;if(!w.ok){const V=await this.shouldRetry(w);if(l&&V){const ie=`retrying, ${l} attempts remaining`;return await nC(w.body),Ct(this).info(`${K} - ${ie}`),Ct(this).debug(`[${E}] response error (${ie})`,ki({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,durationMs:q-b})),this.retryRequest(g,l,a??E,w.headers)}const J=V?"error; no more retries left":"error; not retryable";Ct(this).info(`${K} - ${J}`);const te=await w.text().catch(ie=>$u(ie).message),ne=QA(te),F=ne?void 0:te;throw Ct(this).debug(`[${E}] response error (${J})`,ki({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,message:F,durationMs:Date.now()-b})),this.makeStatusError(w.status,ne,F,w.headers)}return Ct(this).info(K),Ct(this).debug(`[${E}] response start`,ki({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,durationMs:q-b})),{response:w,options:g,controller:I,requestLogID:E,retryOfRequestLogID:a,startTime:b}}async fetchWithTimeout(t,l,a,r){const d=l||{},{signal:m,method:g}=d,y=ss(d,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,x=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(x.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,x)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var d;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(m=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const h=parseFloat(y);Number.isNaN(h)?m=Date.parse(y)-Date.now():m=h*1e3}if(!(m&&0<=m&&m<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,h)}return await XA(m),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const d=l-t,m=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,d;const m=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=m,x=this.buildURL(y,h,v);"timeout"in m&&KA("timeout",m.timeout),m.timeout=(a=m.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:m}),b=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:b},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=m.fetchOptions)!==null&&d!==void 0?d:{}),url:x,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let d={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=Io([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),jA()),this._options.defaultHeaders,a,t.headers,m]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Io([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:tC(t)}:this.encoder({body:t,headers:a})}}vs.DEFAULT_TIMEOUT=6e4;class pt extends vs{constructor(){super(...arguments),this.interactions=new j0(this)}}tg=pt;pt.GeminiNextGenAPIClient=tg;pt.GeminiNextGenAPIClientError=jt;pt.APIError=bt;pt.APIConnectionError=gs;pt.APIConnectionTimeoutError=H0;pt.APIUserAbortError=Zu;pt.NotFoundError=B0;pt.ConflictError=V0;pt.RateLimitError=F0;pt.BadRequestError=P0;pt.AuthenticationError=q0;pt.InternalServerError=J0;pt.PermissionDeniedError=z0;pt.UnprocessableEntityError=O0;pt.toFile=rC;pt.Interactions=j0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function EC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function _C(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function AC(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function CC(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function bC(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],t0(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],t0(A))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const m=u(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function NC(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&PC(d);const m=u(i,["config"]);return m!=null&&CC(m,l),l}function RC(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&qC(d,l,t);const m=u(i,["config"]);return m!=null&&bC(m,l,t),l}function MC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function wC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function IC(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function kC(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function DC(i,t){const l={},a=u(i,["config"]);return a!=null&&IC(a,l),l}function UC(i,t){const l={},a=u(i,["config"]);return a!=null&&kC(a,l),l}function LC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>ng(g))),c(l,["tuningJobs"],m)}return l}function GC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>ec(g))),c(l,["tuningJobs"],m)}return l}function HC(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function PC(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(l,["examples","examples"],r)}return l}function qC(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=u(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function ng(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],v0(d));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const x=u(i,["baseModel"]);x!=null&&c(l,["baseModel"],x);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],HC(E)),l}function ec(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],v0(d));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const x=u(i,["description"]);x!=null&&c(l,["description"],x);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const b=u(i,["preTunedModel"]);b!=null&&c(l,["preTunedModel"],b);const I=u(i,["supervisedTuningSpec"]);I!=null&&c(l,["supervisedTuningSpec"],I);const w=u(i,["preferenceOptimizationSpec"]);w!=null&&c(l,["preferenceOptimizationSpec"],w);const q=u(i,["tuningDataStats"]);q!=null&&c(l,["tuningDataStats"],q);const K=u(i,["encryptionSpec"]);K!=null&&c(l,["encryptionSpec"],K);const V=u(i,["partnerModelTuningSpec"]);V!=null&&c(l,["partnerModelTuningSpec"],V);const J=u(i,["customBaseModel"]);J!=null&&c(l,["customBaseModel"],J);const te=u(i,["experiment"]);te!=null&&c(l,["experiment"],te);const ne=u(i,["labels"]);ne!=null&&c(l,["labels"],ne);const F=u(i,["outputUri"]);F!=null&&c(l,["outputUri"],F);const ae=u(i,["pipelineJob"]);ae!=null&&c(l,["pipelineJob"],ae);const ie=u(i,["serviceAccount"]);ie!=null&&c(l,["serviceAccount"],ie);const se=u(i,["tunedModelDisplayName"]);se!=null&&c(l,["tunedModelDisplayName"],se);const ge=u(i,["veoTuningSpec"]);return ge!=null&&c(l,["veoTuningSpec"],ge),l}function zC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["metadata"]);d!=null&&c(l,["metadata"],d);const m=u(i,["done"]);m!=null&&c(l,["done"],m);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function t0(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC extends Ln{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(Un.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),d=await this.tuneMldevInternal(r);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:Vu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=wC(t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>ec(v))}else{const h=MC(t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>ng(v))}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=UC(t);return g=W("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=GC(v),E=new Nh;return Object.assign(E,x),E})}else{const h=DC(t);return g=W("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=LC(v),E=new Nh;return Object.assign(E,x),E})}}async cancel(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=EC(t);return g=W("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=AC(v),E=new Rh;return Object.assign(E,x),E})}else{const h=xC(t);return g=W("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=_C(v),E=new Rh;return Object.assign(E,x),E})}}async tuneInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=RC(t,t);return d=W("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>ec(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NC(t);return d=W("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>zC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VC{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const OC=1024*1024*8,FC=3,JC=1e3,YC=2,us="x-goog-upload-status";async function KC(i,t,l){var a;const r=await ig(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function QC(i,t,l){var a;const r=await ig(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=f0(d),g=new oc;return Object.assign(g,m),g}async function ig(i,t,l){var a,r;let d=0,m=0,g=new Ou(new Response),y="upload";for(d=i.size;m<d;){const h=Math.min(OC,d-m),v=i.slice(m,m+h);m+h>=d&&(y+=", finalize");let x=0,E=JC;for(;x<FC&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[us]));)x++,await $C(E),E=E*YC;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[us])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function XC(i){return{size:i.size,type:i.type}}function $C(i){return new Promise(t=>setTimeout(t,i))}class ZC{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await KC(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await QC(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await XC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC{create(t,l,a){return new jC(t,l,a)}}class jC{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n0="x-goog-api-key";class eb{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(n0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(n0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tb="gl-node/";class nb{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new pt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=$v(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new eb(this.apiKey);this.apiClient=new X_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:tb+"web",uploader:new ZC,downloader:new VC}),this.models=new pA(this.apiClient),this.live=new rA(this.apiClient,r,new WC),this.batches=new CS(this.apiClient),this.chats=new ax(this.models,this.apiClient),this.caches=new ix(this.apiClient),this.files=new gx(this.apiClient),this.operations=new hA(this.apiClient),this.authTokens=new IA(this.apiClient),this.tunings=new BC(this.apiClient),this.fileSearchStores=new qA(this.apiClient)}}const ib=new nb({apiKey:"PLACEHOLDER_API_KEY"}),lb="gemini-3-flash-preview",zu=new Map,mc={type:X.OBJECT,properties:{id:{type:X.STRING},type:{type:X.STRING,enum:["multiple_choice","short_answer","long_text"]},content:{type:X.STRING},options:{type:X.ARRAY,items:{type:X.STRING},nullable:!0},correctAnswer:{type:X.STRING,nullable:!0},tkpPoints:{type:X.ARRAY,description:"List of scores (1-5) for each option. Only for TKP.",nullable:!0,items:{type:X.OBJECT,properties:{option:{type:X.STRING},points:{type:X.INTEGER}},required:["option","points"]}},explanation:{type:X.STRING},shortcut:{type:X.STRING,nullable:!0},metadata:{type:X.OBJECT,properties:{difficulty:{type:X.STRING,enum:["Easy","Medium","Hard","HOTS"]},idealTimeSeconds:{type:X.INTEGER},topic:{type:X.STRING},subtest:{type:X.STRING},trapPattern:{type:X.STRING,nullable:!0}}}}},ob={type:X.OBJECT,properties:{topic:{type:X.STRING},summary:{type:X.STRING},keyPoints:{type:X.ARRAY,items:{type:X.STRING}},question:mc}},ab={type:X.OBJECT,properties:{score:{type:X.INTEGER,description:"Score 0-100"},feedback:{type:X.STRING,description:"Detailed feedback on the answer"},improvedAnswer:{type:X.STRING,description:"A better version of the answer"},keyPointsCovered:{type:X.ARRAY,items:{type:X.STRING}},toneAnalysis:{type:X.STRING,description:"e.g. Confident, Too Passive, Arrogant"}}},sb={type:X.OBJECT,properties:{flashcards:{type:X.ARRAY,items:{type:X.OBJECT,properties:{front:{type:X.STRING},back:{type:X.STRING}}}}}},rb={type:X.OBJECT,properties:{root:{type:X.OBJECT,properties:{label:{type:X.STRING},children:{type:X.ARRAY,items:{type:X.OBJECT,description:"Recursive children nodes with label and children",properties:{label:{type:X.STRING},children:{type:X.ARRAY,items:{type:X.OBJECT,properties:{label:{type:X.STRING}}}}}}}}}}},ub={type:X.OBJECT,properties:{understandingScore:{type:X.INTEGER},simplificationQuality:{type:X.STRING,description:"Did they use simple language?"},missingConcepts:{type:X.ARRAY,items:{type:X.STRING}},correction:{type:X.STRING}}},cb={type:X.OBJECT,properties:{isCorrect:{type:X.BOOLEAN},score:{type:X.INTEGER,description:"0-100 representation of closeness"},feedback:{type:X.STRING,description:"Why it is correct or incorrect"}}},cs=(i,t="General")=>{var l,a,r,d,m;return{id:i.id||`q-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:i.type||"multiple_choice",content:i.content||"Question content missing",options:i.options||[],correctAnswer:i.correctAnswer||"",tkpPoints:i.tkpPoints||[],explanation:i.explanation||"Tidak ada pembahasan detail.",shortcut:i.shortcut||"",metadata:{difficulty:((l=i.metadata)==null?void 0:l.difficulty)||"Medium",idealTimeSeconds:((a=i.metadata)==null?void 0:a.idealTimeSeconds)||60,topic:((r=i.metadata)==null?void 0:r.topic)||"General",subtest:((d=i.metadata)==null?void 0:d.subtest)||t,trapPattern:((m=i.metadata)==null?void 0:m.trapPattern)||""}}},db=async i=>{let t=" Summarize fairly concisely.";i.lengthPreference==="LONG"&&(t=" Provide a very DETAILED, comprehensive explanation covering all aspects."),i.lengthPreference==="SHORT"&&(t=" Provide a brief, high-level summary (bullet points).");let l=`Extract/Generate text content from the provided material.${t} 
    CRITICAL: The output MUST BE in the SAME LANGUAGE as the original material/topic. Do not translate unless the user explicitly asked to translate in the topic title.
    Return it in a readable format (Markdown) so the user can study it.`,a=null;return i.type==="pdf"?a=i.content:i.type==="text"?l+=`

TEXT CONTENT: ${i.content}`:(l+=`

TOPIC: ${i.content}`,l=`Write a comprehensive study guide about the topic: "${i.content}".${t} 
        CRITICAL: Write in the SAME LANGUAGE as the topic title provided. If the topic is "Sejarah Indonesia", write in Indonesian. If "Photosynthesis", write in English.`),(await un(l,null,a,!1)).text||"Gagal mengekstrak teks."},fb=async i=>{if(!i.length)return"Tidak ada topik lemah yang terdeteksi. Kerja bagus!";const t=`
    The user struggled with these topics in a recent test: ${i.join(", ")}.
    Provide specific, actionable advice on how to improve in these areas.
    Suggest study techniques, mental models, or what to focus on.
    Keep it encouraging but practical.
    Language: Indonesian.
    Format: Markdown.
    `;return(await un(t,null,null,!1)).text||"Gagal memuat saran."},mb=async(i,t,l)=>{const a=`
    Task: Evaluate the user's answer for a study session.
    Question: "${i}"
    Real Answer/Key: "${t}"
    User Answer: "${l}"
    
    Instructions:
    1. Determine if the User Answer is semantically correct (meaning matches the Real Answer).
    2. Typos are okay.
    3. Different phrasing is okay if the core concept is correct.
    4. Provide a Score (0-100).
    5. Provide brief feedback in the SAME LANGUAGE as the Question.
    `;return await un(a,cb)},pb=async(i,t,l)=>{let a="",r=null;const d="CRITICAL: DETECT the language of the input material/context. The output (summary, questions, answers) MUST BE in the SAME LANGUAGE as the input.";if(i==="GENERAL"){const g=t;g.type==="topic"?a=`Create a "Learn & Drill" module for the topic: "${g.content}".
      ${d}
      1. Provide a concise summary.
      2. Provide 3 key takeaways.
      3. Create 1 conceptual question to test understanding immediately.`:(a=`Analyze the provided material. 
      ${d}
      1. Summarize the key concept.
      2. Extract 3 key points.
      3. Create 1 question based strictly on this material.`,g.type==="pdf"?r=g.content:a+=`

MATERIAL:
${g.content}`)}else{let g="";i==="SKD"&&l?l==="KEDINASAN"?g="Focus on HIGH DIFFICULTY (HOTS) logic and complex math typical of STIS/STAN entrance exams.":g="Focus on standard CPNS difficulty, emphasizing passing grade thresholds and recent year trends.":i==="UTBK"?g="Focus on UTBK SNBT 2025 standard. Use cognitive reasoning and literacy analysis.":i==="TPA"&&(g="Focus on TPA Bappenas/Kedinasan Lanjutan. Logic, Verbal, Numerical, and English (TBI)."),a=`Create a high-yield "Learn & Drill" module for ${i} specifically for the subtest/topic: "${t}".
    ${g}
    The summary must be strategic (formulas, shortcuts, core concepts).
    The question must include metadata (difficulty, ideal time, trap patterns).`}const m=await un(a,ob,r);return m.question&&(m.question=cs(m.question)),m},mt=async(i,t,l,a,r=5)=>{const d=async h=>{const E=`${`Generate ${h} ${t} questions for ${i}. 
        ${a}
        Metadata subtest MUST be "${t}".`} ${t==="TKP"?`CRITICAL for TKP: Provide 'tkpPoints' list mapping EACH option to a score 1-5. 
             The 'correctAnswer' field should be the 5-point answer.`:""}`;try{return await un(E,{type:X.OBJECT,properties:{questions:{type:X.ARRAY,items:mc}}})}catch(A){return console.error(`Batch generation failed for ${t}`,A),{questions:[]}}},m=[];let g=l;for(;g>0;){const h=Math.min(g,r);m.push(d(h)),g-=h}return(await Promise.all(m)).flatMap(h=>h.questions||[]).filter(h=>!!h)},hb=async i=>{const t=i==="KEDINASAN"?"SEKOLAH KEDINASAN (STAN/STIS)":"CPNS";try{const[l,a,r]=await Promise.all([mt(t,"TWK",30,"Focus: Nationalism, Integrity. Difficulty: HOTS Case Studies.",10),mt(t,"TIU",35,"Focus: Verbal, Numerical, Figural. Difficulty: Hard.",10),mt(t,"TKP",45,"Focus: Public Service, Professionalism. Difficulty: 1-5 scoring.",10)]),d=[...l,...a,...r];if(d.length===0)throw new Error("Gagal membuat simulasi SKD. Silakan coba lagi.");return Ts(d,["TWK","TIU","TKP"],[l.length,a.length,r.length])}catch(l){throw console.error("Simulation gen failed",l),l}},gb=async()=>{const i="UTBK SNBT 2025";try{const[t,l,a,r,d,m,g]=await Promise.all([mt(i,"Penalaran Umum",30,"Inductive, Deductive, Quantitative reasoning.",10),mt(i,"PPU",20,"General Knowledge & Understanding.",10),mt(i,"PBM",20,"Reading Comprehension & Writing.",10),mt(i,"Pengetahuan Kuantitatif",20,"Math foundation.",10),mt(i,"Literasi B.Indo",30,"Text analysis, implicit meaning.",10),mt(i,"Literasi B.Inggris",20,"English text analysis.",10),mt(i,"Penalaran Matematika",20,"Math application in real life context.",10)]),y=[...t,...l,...a,...r,...d,...m,...g];if(y.length===0)throw new Error("Gagal membuat simulasi UTBK.");return Ts(y,["Penalaran Umum","PPU","PBM","Pengetahuan Kuantitatif","Literasi B.Indo","Literasi B.Inggris","Penalaran Matematika"],[t.length,l.length,a.length,r.length,d.length,m.length,g.length])}catch(t){throw console.error("UTBK Simulation gen failed",t),t}},yb=async()=>{const i="PKN STAN SELEKSI LANJUTAN (TPA & TBI)";try{const[t,l,a,r]=await Promise.all([mt(i,"TPA Verbal",15,"Analogi, Silogisme, Antonim/Sinonim. Difficulty: Medium-Hard.",15),mt(i,"TPA Numerik",15,"Deret Angka, Aritmatika, Perbandingan Kuantitatif. Speed based.",15),mt(i,"TPA Logika",15,"Penalaran Analitis (posisi duduk), Penalaran Logis, Spasial (Kubus/Rotasi).",15),mt(i,"TBI (Bahasa Inggris)",20,"Structure & Written Expression (Error Recognition), Reading Comprehension (Short texts). TOEFL Style.",20)]),d=[...t,...l,...a,...r];if(d.length===0)throw new Error("Gagal membuat simulasi TPA/TBI.");return Ts(d,["TPA Verbal","TPA Numerik","TPA Logika","TBI (Bahasa Inggris)"],[t.length,l.length,a.length,r.length])}catch(t){throw console.error("TPA Simulation gen failed",t),t}},vb=async()=>{const i="PSIKOTES KERJA / IQ TEST STANDARD";try{const[t,l,a,r]=await Promise.all([mt(i,"Logika",10,"Syllogism, Logical deduction, Abstract reasoning sequences.",10),mt(i,"Verbal",10,"Analogies, Synonyms, Antonyms, Word classification.",10),mt(i,"Numerik",10,"Number series, Arithmetic word problems, Mental math.",10),mt(i,"Spasial",10,"Pattern matching, Figure rotation, Cube unfolding.",10)]),d=[...t,...l,...a,...r];if(d.length===0)throw new Error("Gagal membuat simulasi Psikotes.");return Ts(d,["Logika","Verbal","Numerik","Spasial"],[t.length,l.length,a.length,r.length])}catch(t){throw console.error("Psikotes Simulation gen failed",t),t}},Ts=(i,t,l)=>i.map((a,r)=>{if(!a)return cs({},"Unknown");let d=0,m=t[t.length-1];for(let h=0;h<l.length;h++)if(d+=l[h],r<d){m=t[h];break}let g=a.tkpPoints;if(m.includes("TKP")&&(!g||g.length===0)&&a.options){g=[];const h=[1,2,3,4];a.options.forEach(v=>{let x=1;v===a.correctAnswer?x=5:x=h.pop()||1,g.push({option:v,points:x})})}const y=cs(a,m);return{...y,id:`sim-${Date.now()}-${r}`,tkpPoints:g,metadata:{...y.metadata,subtest:m}}}),i0=async(i,t,l,a=5,r=[],d,m,g)=>{let y="",h=null;const v="CRITICAL: DETECT the language of the input material/context. The generated questions/answers MUST BE in the SAME LANGUAGE as the input.";let x={type:X.OBJECT,properties:{questions:{type:X.ARRAY,items:mc}}};if(t==="GENERAL"&&m){const b=l,I=b.type==="topic"?`Topic: ${b.content}`:"Material Content";b.type==="pdf"&&(h=b.content);const w=b.difficultyPreference||"MEDIUM",q=`DIFFICULTY LEVEL: ${w}. ${w==="HARD"?"Use complex analysis/HOTS.":w==="EASY"?"Use straightforward recall.":""}`;m==="ACTIVE_RECALL"?y=`Create ${a} Active Recall questions (Short Answer format) based on this: ${I}. 
          ${v} ${q}
          Questions must be specific and require recall of key facts/concepts.`:m==="PBL"?y=`Create ${a} Problem-Based Learning scenarios (Case Study).
          ${v} ${q}
          Format: 'long_text' or 'multiple_choice'.
          Based on: ${I}. 
          Each question should be a realistic scenario requiring application of the concept.`:y=`Create ${a} practice questions based on: ${I}. ${v} ${q}`,b.type==="text"&&(y+=`

CONTENT: ${b.content}`)}else{let b="";if(g?(b=`CONTEXT: ${t} - ${d||""}. DIFFICULTY: ${g}.`,g==="HOTS"&&(b+=" QUESTIONS MUST BE High Order Thinking Skills (Analyze, Evaluate, Create).")):t==="SKD"&&d?d==="KEDINASAN"?b="CONTEXT: SKD SEKOLAH KEDINASAN. DIFFICULTY: HARD/HOTS.":b="CONTEXT: SKD CPNS. DIFFICULTY: STANDARD TO HOTS.":t==="UTBK"?b="CONTEXT: UTBK SNBT 2025. DIFFICULTY: ADAPTIVE (HOTS).":t==="TPA"?b="CONTEXT: TPA (Tes Potensi Akademik) & TBI (Bahasa Inggris) for Advanced Selection (Lanjutan 1). High Logic Requirement.":t==="PSIKOTEST"?b="CONTEXT: GENERAL IQ TEST (Psikotes). Focus on Logic sequences, Abstract Reasoning, Mental Arithmetic. Time pressured.":t==="INTERVIEW"?(b="CONTEXT: JOB/SCHOOL ADMISSION INTERVIEW. Generate open-ended behavioral questions.",x={type:X.OBJECT,properties:{questions:{type:X.ARRAY,items:{type:X.OBJECT,properties:{id:{type:X.STRING},type:{type:X.STRING,enum:["long_text"]},content:{type:X.STRING},explanation:{type:X.STRING},metadata:{type:X.OBJECT,properties:{topic:{type:X.STRING}}}},required:["content","type"]}}}}):b="Standard difficulty.",t==="INTERVIEW")y=`Generate ${a} Interview Questions for: ${l}. 
        Questions should be behavioral, situational, or personal (HR style).
        IMPORTANT: Do not provide multiple choice options. These are open-ended questions.
        Metadata subtest: "Interview".`;else{const I=`
            Generate ${a} questions.
            ${b}
            MANDATORY: Provide a DETAILED 'explanation' for the answer. Explain WHY the correct answer is right and WHY the wrong answers are wrong.
            MANDATORY METADATA:
            - idealTimeSeconds: Realistic time.
            - trapPattern: Describe the distractor logic.
            - shortcut: A fast way to solve it.
        `;i===Ie.WEAKNESS?y=`WEAKNESS ATTACK MODE. User weak in: ${r.join(", ")}. ${b}`:i===Ie.ACTIVE_RECALL?y=`ACTIVE RECALL. Type: "short_answer". ${b}`:y=`TRY OUT / PRACTICE.
            Context: ${t} - ${JSON.stringify(l)}.
            ${I}`}}return((await un(y,x,h)).questions||[]).filter(b=>!!b).map(b=>{const I=cs(b);return t==="INTERVIEW"&&(I.type="long_text",I.options=[]),I})},Tb=async(i,t)=>{const l=`
    Role: Senior HR Recruiter & Psychologist.
    Task: Evaluate this written interview answer.
    
    Question: "${i}"
    Candidate Answer: "${t}"
    
    Provide:
    1. Score (0-100) based on relevance, structure (STAR method), and professionalism.
    2. Specific Feedback.
    3. A Better/Improved Version of the answer.
    4. Key Points the candidate covered.
    5. Tone Analysis.
    `;return await un(l,ab)},Sb=async i=>{let t="Generate 10 flashcards (Front/Back) based on the provided material. Focus on key terms, definitions, and core concepts. Match the language of the input material.",l=null;return i.type==="pdf"?l=i.content:i.type==="text"?t+=`

MATERIAL: ${i.content}`:t+=`

TOPIC: ${i.content}`,((await un(t,sb,l)).flashcards||[]).map((r,d)=>({id:`fc-${d}`,front:r.front,back:r.back}))},xb=async i=>{let t="Create a hierarchical mind map structure for the provided material. The root node should be the main topic. Limit depth to 3 levels. Match the language of the input material.",l=null;return i.type==="pdf"?l=i.content:i.type==="text"?t+=`

MATERIAL: ${i.content}`:t+=`

TOPIC: ${i.content}`,(await un(t,rb,l)).root},Eb=async(i,t)=>{const l=`
    Technique: Feynman Technique (Explain like I'm 5).
    Original Concept/Topic: "${i}"
    User's Explanation: "${t}"
    
    Evaluate:
    1. Simplicity (Did they use jargon? is it easy to understand?)
    2. Accuracy (Is it correct?)
    3. Completeness (Did they miss key parts?)
    `;return await un(l,ub)},_b=async(i,t)=>{let l="";return t==="TITLE_IDEAS"?l=`User Topic/Area of Interest: "${i}"
        Task: Generate 5 unique, academic, and researchable thesis (Skripsi) titles.
        For each title, explain briefly why it is good and what methodology fits.
        Format: Markdown.`:t==="OUTLINE"?l=`Thesis Title/Topic: "${i}"
        Task: Create a detailed Chapter 1-3 outline for a standard undergraduate thesis.
        Include:
        - Chapter 1: Background, Problem Formulation (Rumusan Masalah), Objectives.
        - Chapter 2: Relevant Theories (Suggested variables), Framework of Thinking.
        - Chapter 3: Methodology (Type, Population/Sample, Data Collection, Analysis).
        Format: Markdown, professional academic Indonesian.`:t==="METHODOLOGY"?l=`Thesis Topic: "${i}"
        Task: Suggest the best Research Methodology.
        Compare Quantitative vs Qualitative approaches for this specific topic.
        Recommend specific data analysis tools (SPSS, SEM-PLS, NVivo, etc) that fit.
        Format: Markdown.`:t==="PARAPHRASE"&&(l=`Text to Paraphrase: "${i}"
        Task: Rewrite the text to be more academic, reduce plagiarism score, and improve flow.
        Language: Indonesian (Formal/Baku).
        Format: Markdown.`),(await un(l,null,null,!1)).text||"Gagal membuat konten."};async function un(i,t,l,a=!0){const r=JSON.stringify({prompt:i,schemaStr:t?JSON.stringify(t):"null",hasPdf:!!l});if(zu.has(r))return console.log("Serving from cache:",r.substring(0,50)),zu.get(r);try{const d=[{text:i}];l&&d.push({inlineData:{mimeType:"application/pdf",data:l}});const m={};a&&t&&(m.responseMimeType="application/json",m.responseSchema=t);let y=(await ib.models.generateContent({model:lb,contents:{parts:d},config:m})).text;if(!y)throw new Error("No response from AI");let h;if(a){y=y.trim(),y.startsWith("```json")?y=y.replace(/^```json/,"").replace(/```$/,""):y.startsWith("```")&&(y=y.replace(/^```/,"").replace(/```$/,"")),y=y.trim();try{h=JSON.parse(y)}catch{const x=y.match(/\{[\s\S]*\}|\[[\s\S]*\]/);if(x)try{h=JSON.parse(x[0])}catch{throw new Error("Format data AI tidak valid (JSON Truncated/Invalid).")}else throw console.error("JSON Parse Error. Text snippet:",y.substring(0,500)+"..."),new Error("Format data AI tidak valid (JSON Truncated/Invalid).")}}else h={text:y};return l||zu.set(r,h),h}catch(d){throw console.error("Gemini Error:",d),d}}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase()),l0=i=>{const t=Cb(i);return t.charAt(0).toUpperCase()+t.slice(1)},lg=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim(),bb=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Z.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:d,iconNode:m,...g},y)=>Z.createElement("svg",{ref:y,...Nb,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:lg("lucide",r),...!d&&!bb(g)&&{"aria-hidden":"true"},...g},[...m.map(([h,v])=>Z.createElement(h,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(i,t)=>{const l=Z.forwardRef(({className:a,...r},d)=>Z.createElement(Rb,{ref:d,iconNode:t,className:lg(`lucide-${Ab(l0(i))}`,`lucide-${i}`,a),...r}));return l.displayName=l0(i),l};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wb=me("activity",Mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gi=me("arrow-left",Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],og=me("award",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],o0=me("book-open",Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],pc=me("book",Ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],bl=me("brain",Lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Hb=me("briefcase",Gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],qb=me("building-2",Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bb=me("calendar",zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ob=me("chevron-left",Vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ui=me("chevron-right",Fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Il=me("circle-check-big",Jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Do=me("circle-x",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],a0=me("clock",Kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xb=me("download",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],Zb=me("file-search",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tc=me("file-text",Wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eN=me("funnel",jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],hc=me("graduation-cap",tN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],iN=me("grid-3x3",nN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ag=me("history",lN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],aN=me("landmark",oN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],gc=me("lightbulb",sN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ds=me("loader-circle",rN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cN=me("log-out",uN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],fN=me("message-circle",dN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],yc=me("message-square",mN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sg=me("moon",pN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],gN=me("palette",hN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],vN=me("pause",yN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],s0=me("pen-tool",TN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xN=me("play",SN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],_N=me("repeat",EN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],CN=me("rotate-ccw",AN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r0=me("search",bN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],RN=me("share-2",NN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rg=me("sun",MN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ug=me("target",wN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],u0=me("timer",IN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DN=me("trash-2",kN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],LN=me("trending-up",UN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HN=me("triangle-alert",GN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cg=me("upload",PN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dg=me("user",qN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BN=me("x",zN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fg=me("zap",VN),ON=()=>{const[i,t]=Z.useState(!1),[l,a]=Z.useState(1500),[r,d]=Z.useState(!1),[m,g]=Z.useState("focus");Z.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),Z.useEffect(()=>{let A=null;return r&&l>0?A=setInterval(()=>{a(l-1)},1e3):l===0&&(d(!1),y()),()=>clearInterval(A)},[r,l]);const y=()=>{new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play().catch(b=>console.log("Audio play failed",b)),"Notification"in window&&Notification.permission==="granted"&&new Notification(m==="focus"?"Fokus Selesai!":"Istirahat Selesai!",{body:m==="focus"?"Waktunya istirahat sejenak.":"Kembali fokus belajar!",icon:"/favicon.ico"})},h=()=>d(!r),v=()=>{d(!1),a(m==="focus"?1500:300)},x=()=>{const A=m==="focus"?"break":"focus";g(A),a(A==="focus"?1500:300),d(!1)},E=A=>{const b=Math.floor(A/60),I=A%60;return`${b.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`};return i?T.jsxs("div",{className:"fixed bottom-6 right-6 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 z-50 overflow-hidden animate-fade-in-up",children:[T.jsxs("div",{className:`p-4 ${m==="focus"?"bg-indigo-600":"bg-emerald-500"} text-white flex justify-between items-center`,children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(u0,{size:20}),T.jsx("span",{className:"font-bold",children:m==="focus"?"Fokus":"Istirahat"})]}),T.jsx("button",{onClick:()=>t(!1),className:"hover:bg-white/20 p-1 rounded",children:T.jsx(BN,{size:18})})]}),T.jsxs("div",{className:"p-6 flex flex-col items-center",children:[T.jsx("div",{className:"text-5xl font-mono font-bold text-slate-800 dark:text-slate-100 mb-6 tracking-wider",children:E(l)}),T.jsxs("div",{className:"flex gap-4 mb-6",children:[T.jsx("button",{onClick:h,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:r?T.jsx(vN,{size:24}):T.jsx(xN,{size:24})}),T.jsx("button",{onClick:v,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:T.jsx(CN,{size:24})})]}),T.jsxs("button",{onClick:x,className:"text-sm text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 underline",children:["Ganti ke Mode ",m==="focus"?"Istirahat":"Fokus"]})]})]}):T.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 bg-indigo-600 hover:bg-indigo-700 text-white p-4 rounded-full shadow-xl z-50 flex items-center gap-2 transition-all",children:[T.jsx(u0,{size:24}),T.jsx("span",{className:"font-semibold hidden sm:inline",children:"Pomodoro"})]})},FN=({data:i,onNext:t})=>{const[l,a]=Z.useState(!1);return T.jsxs("div",{className:"w-full max-w-xl mx-auto perspective-1000",children:[T.jsxs("div",{className:`relative w-full h-80 transition-transform duration-700 transform-style-3d cursor-pointer ${l?"rotate-y-180":""}`,onClick:()=>a(!l),children:[T.jsx("div",{className:"absolute w-full h-full bg-white rounded-2xl shadow-xl border-2 border-indigo-100 flex items-center justify-center p-8 backface-hidden",children:T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold mb-4",children:"QUESTION"}),T.jsx("p",{className:"text-2xl font-medium text-slate-800 leading-relaxed",children:i.front}),T.jsx("p",{className:"mt-8 text-slate-400 text-sm animate-pulse",children:"Tap to flip"})]})}),T.jsx("div",{className:"absolute w-full h-full bg-indigo-600 rounded-2xl shadow-xl flex items-center justify-center p-8 backface-hidden rotate-y-180",children:T.jsxs("div",{className:"text-center text-white",children:[T.jsx("span",{className:"inline-block px-3 py-1 bg-white/20 text-white rounded-full text-xs font-bold mb-4",children:"ANSWER"}),T.jsx("p",{className:"text-xl leading-relaxed",children:i.back})]})})]}),l&&T.jsxs("div",{className:"mt-8 flex justify-center gap-3",children:[T.jsx("button",{onClick:()=>{a(!1),t("hard")},className:"px-6 py-2 bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 font-medium transition",children:"Sulit (1m)"}),T.jsx("button",{onClick:()=>{a(!1),t("medium")},className:"px-6 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 font-medium transition",children:"Sedang (10m)"}),T.jsx("button",{onClick:()=>{a(!1),t("easy")},className:"px-6 py-2 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-200 font-medium transition",children:"Mudah (4d)"})]})]})},mg=({node:i,depth:t=0})=>T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:`
        border-2 px-4 py-2 rounded-xl text-center font-medium shadow-sm transition-all hover:scale-105
        ${t===0?"bg-indigo-600 text-white border-indigo-600 mb-4 text-lg":""}
        ${t===1?"bg-white text-indigo-700 border-indigo-200 mb-4 text-base":""}
        ${t>1?"bg-slate-50 text-slate-600 border-slate-200 text-sm":""}
      `,children:i.label}),i.children&&i.children.length>0&&T.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-8 relative pt-4",children:[T.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-px h-4 bg-slate-300"}),T.jsx("div",{className:"absolute top-0 left-4 right-4 h-px bg-slate-300"}),i.children.map((l,a)=>T.jsxs("div",{className:"flex flex-col items-center relative",children:[T.jsx("div",{className:"w-px h-4 bg-slate-300 mb-1"}),T.jsx(mg,{node:l,depth:t+1})]},a))]})]}),JN=({data:i})=>{const t=i.root||i;return T.jsx("div",{className:"p-8 bg-slate-50 rounded-3xl overflow-x-auto border border-slate-200 min-h-[400px] flex justify-center",children:T.jsx(mg,{node:t})})},Di=({className:i="",height:t="h-4",width:l="w-full"})=>T.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700 rounded-md ${t} ${l} ${i}`}),YN=()=>T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx(Di,{height:"h-12",width:"w-12",className:"rounded-full"}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsx(Di,{height:"h-4",width:"w-1/3"}),T.jsx(Di,{height:"h-3",width:"w-1/2"})]})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsx(Di,{height:"h-4"}),T.jsx(Di,{height:"h-4"}),T.jsx(Di,{height:"h-4",width:"w-2/3"})]})]}),Dn=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1</i>").replace(/\n- (.*?)/g,"<br/> $1").replace(/\n/g,"<br/>");return T.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm font-sans"})},KN=({onLogin:i})=>{const[t,l]=Z.useState("");return T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-6 transition-colors duration-300",children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 text-white shadow-lg shadow-indigo-200 dark:shadow-none",children:T.jsx(hc,{size:32})}),T.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Selamat Datang"}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Masukkan nama untuk mulai belajar."})]}),T.jsxs("form",{onSubmit:a=>{a.preventDefault(),i(t)},children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Nama Pengguna"}),T.jsx("input",{type:"text",className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl focus:border-indigo-600 focus:ring-0 outline-none font-medium text-slate-800 placeholder:text-slate-400",placeholder:"Contoh: Budi Santoso",value:t,onChange:a=>l(a.target.value),required:!0})]}),T.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:["Mulai Belajar ",T.jsx(Ui,{size:20})]})]})]})})},QN=({mode:i,questions:t,drillContent:l,onComplete:a,isSkdSimulation:r,isUtbkSimulation:d,category:m})=>{var ie,se,ge;const g=()=>r?6e3:d?11700:m==="PSIKOTEST"&&i===Ie.SIMULATION?2400:m==="TPA"&&i===Ie.SIMULATION?6e3:0,[y,h]=Z.useState(g()),[v,x]=Z.useState(0),[E,A]=Z.useState({}),[b,I]=Z.useState(!1),w=Z.useRef(Date.now()),[q,K]=Z.useState(!1);Z.useEffect(()=>{if(y>0){const re=setInterval(()=>h(Q=>Q-1),1e3);return()=>clearInterval(re)}else y===0&&(r||d)&&ne()},[y,r,d]),Z.useEffect(()=>{I(!1),w.current=Date.now()},[v]);const V=re=>{const Q=Math.floor(re/3600),ye=Math.floor(re%3600/60),be=re%60;return`${Q>0?Q+":":""}${ye.toString().padStart(2,"0")}:${be.toString().padStart(2,"0")}`},J=async re=>{const Q=t[v];if(i===Ie.DRILL&&E[Q.id])return;const ye=(Date.now()-w.current)/1e3;let be=0,U=!1;if(Q.tkpPoints){const fe=Q.tkpPoints.find(N=>N.option===re);be=fe?fe.points:0,U=be===5}else U=re===Q.correctAnswer,be=U?m==="UTBK"?1e3:5:0;let O="";if(Q.type!=="multiple_choice"&&m==="GENERAL")try{const fe=await mb(Q.content,Q.correctAnswer,re);be=fe.score,U=fe.isCorrect,O=fe.feedback}catch{console.error("Grading failed")}const ee=E[Q.id],Ne={questionId:Q.id,selectedAnswer:re,isCorrect:U,scoreEarned:be,timeTakenSeconds:((ee==null?void 0:ee.timeTakenSeconds)||0)+ye,isOverthinking:!1,isGuessing:ye<3,aiEvaluation:O,isDoubtful:(ee==null?void 0:ee.isDoubtful)||!1};A(fe=>({...fe,[Q.id]:Ne})),i!==Ie.SIMULATION&&I(!0)},te=()=>{const re=t[v],Q=E[re.id],ye={questionId:re.id,selectedAnswer:(Q==null?void 0:Q.selectedAnswer)||"",isCorrect:(Q==null?void 0:Q.isCorrect)||!1,scoreEarned:(Q==null?void 0:Q.scoreEarned)||0,timeTakenSeconds:(Q==null?void 0:Q.timeTakenSeconds)||0,isOverthinking:(Q==null?void 0:Q.isOverthinking)||!1,isGuessing:(Q==null?void 0:Q.isGuessing)||!1,isDoubtful:!(Q!=null&&Q.isDoubtful),aiEvaluation:Q==null?void 0:Q.aiEvaluation};A(be=>({...be,[re.id]:ye}))},ne=()=>{a(Object.values(E))},F=t[v],ae=E[F==null?void 0:F.id];return F?T.jsxs("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col md:flex-row h-screen overflow-hidden transition-colors",children:[T.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative order-1",children:[T.jsxs("div",{className:"md:hidden bg-white dark:bg-slate-800 p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm z-20",children:[T.jsxs("div",{className:"font-bold text-slate-700 dark:text-white",children:["Soal No. ",v+1]}),T.jsxs("div",{className:"flex items-center gap-3",children:[y>0&&T.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded text-sm font-mono font-bold text-slate-800 dark:text-slate-200",children:V(y)}),T.jsx("button",{onClick:()=>K(!q),className:"p-2 bg-indigo-50 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-400 rounded",children:T.jsx(iN,{size:20})})]})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:T.jsxs("div",{className:"max-w-3xl mx-auto pb-24",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 md:p-8 mb-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:((ie=F.metadata)==null?void 0:ie.subtest)||"General"}),((se=F.metadata)==null?void 0:se.difficulty)==="HOTS"&&T.jsxs("span",{className:"flex items-center gap-1 text-rose-600 dark:text-rose-400 font-bold text-xs bg-rose-50 dark:bg-rose-900/20 px-2 py-1 rounded-full",children:[T.jsx(fg,{size:12})," HOTS"]})]}),T.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-8 text-slate-800 dark:text-slate-100",children:T.jsx(Dn,{text:F.content})}),T.jsx("div",{className:"space-y-3",children:F.type==="multiple_choice"?(ge=F.options)==null?void 0:ge.map((re,Q)=>{const ye=String.fromCharCode(65+Q),be=(ae==null?void 0:ae.selectedAnswer)===re;let U="border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-750",O="bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 group-hover:bg-slate-200 dark:group-hover:bg-slate-600";if(be&&(U="border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 dark:border-indigo-500",O="bg-indigo-600 text-white"),i!==Ie.SIMULATION&&(ae!=null&&ae.selectedAnswer)){const ee=re===F.correctAnswer;ee?(U="border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20",O="bg-emerald-500 text-white"):be&&!ee&&(U="border-rose-500 bg-rose-50 dark:bg-rose-900/20",O="bg-rose-500 text-white")}return T.jsxs("button",{onClick:()=>J(re),className:`w-full flex items-start p-4 rounded-xl border-2 transition-all group text-left ${U}`,children:[T.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm mr-4 transition-colors ${O}`,children:ye}),T.jsx("div",{className:"flex-1 pt-1 text-slate-700 dark:text-slate-200 text-base",children:T.jsx(Dn,{text:re})})]},Q)}):T.jsx("textarea",{className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 dark:bg-slate-900 dark:text-white",placeholder:"Ketik jawaban Anda...",rows:4,value:(ae==null?void 0:ae.selectedAnswer)||"",onChange:re=>J(re.target.value)})})]}),b&&i!==Ie.SIMULATION&&T.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 rounded-2xl p-6 animate-fade-in-up",children:[T.jsxs("h4",{className:"font-bold text-emerald-800 dark:text-emerald-300 mb-3 flex items-center gap-2",children:[T.jsx(gc,{size:20})," Pembahasan"]}),T.jsx("div",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:T.jsx(Dn,{text:F.explanation})})]})]})}),T.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-4 z-10",children:T.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[T.jsxs("button",{onClick:()=>x(re=>Math.max(0,re-1)),disabled:v===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",children:[T.jsx(Ob,{size:20})," ",T.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),T.jsxs("button",{onClick:te,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold border transition ${ae!=null&&ae.isDoubtful?"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-400 border-amber-300 dark:border-amber-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-600"}`,children:[T.jsx("input",{type:"checkbox",checked:(ae==null?void 0:ae.isDoubtful)||!1,readOnly:!0,className:"w-4 h-4 accent-amber-500 cursor-pointer"}),T.jsx("span",{children:"Ragu-ragu"})]}),T.jsxs("button",{onClick:()=>{v<t.length-1?x(re=>re+1):ne()},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-bold bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none",children:[T.jsx("span",{className:"hidden sm:inline",children:v===t.length-1?"Selesai":"Berikutnya"})," ",T.jsx(Ui,{size:20})]})]})})]}),T.jsxs("div",{className:`
                fixed inset-y-0 right-0 w-80 bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 transform transition-transform duration-300 z-30 flex flex-col order-2
                ${q?"translate-x-0":"translate-x-full"} md:translate-x-0 md:relative md:w-80
            `,children:[T.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800",children:[T.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Navigasi Soal"}),T.jsx("button",{onClick:()=>K(!1),className:"md:hidden text-slate-500",children:T.jsx(Do,{size:24})})]}),y>0&&T.jsx("div",{className:"p-6 pb-0 hidden md:block",children:T.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 rounded-xl p-4 text-center",children:[T.jsx("div",{className:"text-xs font-bold text-indigo-500 uppercase tracking-wider mb-1",children:"Sisa Waktu"}),T.jsx("div",{className:"text-3xl font-mono font-bold text-slate-800 dark:text-white",children:V(y)})]})}),T.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:T.jsx("div",{className:"grid grid-cols-5 gap-2",children:t.map((re,Q)=>{const ye=E[re.id],be=Q===v;let U="bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300";return ye!=null&&ye.selectedAnswer&&(U="bg-emerald-500 border-emerald-500 text-white"),ye!=null&&ye.isDoubtful&&(U="bg-amber-400 border-amber-400 text-white"),be&&(U+=" ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-800"),T.jsx("button",{onClick:()=>{x(Q),K(!1)},className:`aspect-square rounded-lg border flex items-center justify-center font-bold text-sm transition-all ${U}`,children:Q+1},Q)})})}),T.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-xs text-slate-500 dark:text-slate-400 space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-3 h-3 rounded bg-emerald-500"})," Sudah dijawab"]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-3 h-3 rounded bg-amber-400"})," Ragu-ragu"]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-3 h-3 rounded bg-white border border-slate-300"})," Belum dijawab"]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-3 h-3 rounded border-2 border-indigo-500"})," Posisi saat ini"]})]}),T.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 md:hidden",children:T.jsx("button",{onClick:ne,className:"w-full py-3 bg-rose-600 text-white rounded-xl font-bold",children:"Hentikan Ujian"})})]}),q&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden",onClick:()=>K(!1)})]}):T.jsx("div",{className:"p-8 text-center",children:"Memuat Soal..."})},XN=({item:i,onBack:t})=>T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsxs("button",{onClick:t,className:"mb-4 text-slate-500 dark:text-slate-400 flex items-center",children:[T.jsx(Gi,{size:16,className:"mr-1"})," Kembali"]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[T.jsxs("h2",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white",children:["Review: ",i.category]}),T.jsx("div",{className:"space-y-6",children:i.questions.map((l,a)=>{const r=i.answers.find(d=>d.questionId===l.id);return T.jsxs("div",{className:"p-6 border border-slate-100 dark:border-slate-700 rounded-xl bg-slate-50/50 dark:bg-slate-800/50",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("div",{className:"text-sm font-bold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-3 py-1 rounded",children:["Soal ",a+1]}),r!=null&&r.isCorrect?T.jsxs("span",{className:"text-emerald-600 flex items-center text-sm font-bold",children:[T.jsx(Il,{size:16,className:"mr-1"})," Benar"]}):T.jsxs("span",{className:"text-rose-500 flex items-center text-sm font-bold",children:[T.jsx(Do,{size:16,className:"mr-1"})," Salah"]})]}),T.jsx("div",{className:"mb-6 text-slate-800 dark:text-slate-200 text-lg leading-relaxed",children:T.jsx(Dn,{text:l.content})}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[T.jsxs("div",{className:`p-4 rounded-xl border ${r!=null&&r.isCorrect?"bg-emerald-50 border-emerald-100 dark:bg-emerald-900/20 dark:border-emerald-800":"bg-rose-50 border-rose-100 dark:bg-rose-900/20 dark:border-rose-800"}`,children:[T.jsx("div",{className:"text-xs uppercase font-bold mb-1 opacity-70",children:"Jawaban Kamu"}),T.jsx("div",{className:"font-bold",children:(r==null?void 0:r.selectedAnswer)||"-"})]}),!(r!=null&&r.isCorrect)&&T.jsxs("div",{className:"p-4 rounded-xl border bg-indigo-50 border-indigo-100 dark:bg-indigo-900/20 dark:border-indigo-800",children:[T.jsx("div",{className:"text-xs uppercase font-bold mb-1 opacity-70",children:"Kunci Jawaban"}),T.jsx("div",{className:"font-bold",children:l.correctAnswer})]})]}),T.jsxs("div",{className:"mt-4 bg-white dark:bg-slate-700 p-5 rounded-xl border border-slate-200 dark:border-slate-600",children:[T.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2",children:[T.jsx(gc,{size:18,className:"text-amber-500"})," Pembahasan Detail:"]}),T.jsx("div",{className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm",children:T.jsx(Dn,{text:l.explanation})})]})]},a)})})]})]})}),$N=({answers:i,questions:t,onHome:l,onRetry:a,category:r})=>{const d=i.filter(b=>b.isCorrect).length;let m=0;const[g,y]=Z.useState(""),[h,v]=Z.useState(!1),x=i.filter(b=>!b.isCorrect),E=Array.from(new Set(x.map(b=>{var w,q;const I=t.find(K=>K.id===b.questionId);return((w=I==null?void 0:I.metadata)==null?void 0:w.subtest)||((q=I==null?void 0:I.metadata)==null?void 0:q.topic)||"General"})));if(r==="GENERAL"){const b=i.reduce((I,w)=>I+(w.scoreEarned||0),0);m=Math.round(b/(t.length||1))}else m=Math.round(d/t.length*100);const A=async()=>{v(!0);try{const b=await fb(E);y(b)}catch{alert("Gagal memuat saran AI.")}finally{v(!1)}};return T.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 p-6 md:p-12 flex flex-col items-center transition-colors",children:T.jsxs("div",{className:"max-w-2xl w-full text-center",children:[T.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-50 dark:bg-slate-800 mb-6",children:m>=80?T.jsx(og,{size:48,className:"text-emerald-500"}):T.jsx(wb,{size:48,className:"text-amber-500"})}),T.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Sesi Selesai!"}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Berikut adalah analisis hasil belajar Anda."}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[T.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:"Skor Akhir"}),T.jsx("div",{className:"text-4xl font-black text-slate-900 dark:text-white",children:m})]}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[T.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:r==="GENERAL"?"Rata-rata Poin":"Akurasi"}),T.jsx("div",{className:"text-4xl font-black text-indigo-600 dark:text-indigo-400",children:r==="GENERAL"?m:`${Math.round(d/t.length*100)}%`})]})]}),E.length>0&&T.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 border border-rose-100 dark:border-rose-900 p-6 rounded-2xl mb-8 text-left",children:[T.jsxs("h3",{className:"font-bold text-rose-800 dark:text-rose-400 flex items-center gap-2",children:[T.jsx(ug,{size:20})," Topik Perlu Perbaikan"]}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:E.map(b=>T.jsx("span",{className:"bg-white dark:bg-rose-900/40 text-rose-600 dark:text-rose-200 px-3 py-1 rounded-full text-xs font-bold border border-rose-200 dark:border-rose-800",children:b},b))}),g?T.jsxs("div",{className:"mt-4 pt-4 border-t border-rose-200 dark:border-rose-800",children:[T.jsx("h4",{className:"font-bold text-sm text-rose-800 dark:text-rose-400 mb-2",children:"Saran AI:"}),T.jsx("div",{className:"prose prose-sm prose-rose max-w-none text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 p-4 rounded-xl border border-rose-100 dark:border-rose-800",children:T.jsx(Dn,{text:g})})]}):T.jsxs("button",{onClick:A,disabled:h,className:"text-sm font-bold text-rose-700 dark:text-rose-400 underline flex items-center gap-1 hover:text-rose-900 dark:hover:text-rose-300",children:[h?T.jsx(ds,{className:"animate-spin",size:14}):T.jsx(gc,{size:14}),"Minta Saran Perbaikan AI"]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden text-left mb-8",children:[T.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 border-b border-slate-100 dark:border-slate-600 font-bold text-slate-700 dark:text-slate-200",children:"Detail Jawaban"}),T.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map((b,I)=>{const w=i.find(K=>K.questionId===b.id),q=w==null?void 0:w.isCorrect;return T.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-750 transition",children:[T.jsxs("div",{className:"flex justify-between items-start mb-1",children:[T.jsxs("span",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:["Soal ",I+1]}),q?T.jsx(Il,{size:16,className:"text-emerald-500"}):T.jsx(Do,{size:16,className:"text-rose-500"})]}),T.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:T.jsx(Dn,{text:b.content})}),!q&&b.type==="multiple_choice"&&T.jsxs("p",{className:"text-xs text-rose-500 mt-2 font-bold",children:["Jawaban: ",(w==null?void 0:w.selectedAnswer)||"-"," (Kunci: ",b.correctAnswer,")"]}),b.type!=="multiple_choice"&&T.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 italic",children:(w==null?void 0:w.aiEvaluation)||"Evaluasi AI"})]},I)})})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:l,className:"flex-1 py-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:"Ke Menu Utama"}),T.jsx("button",{onClick:a,className:"flex-1 py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Coba Lagi"})]})]})})},ZN=({targetNumber:i})=>{const t=Z.useRef(null);return Z.useEffect(()=>{const l=t.current;if(!l)return;const a=l.getContext("2d");if(!a)return;a.clearRect(0,0,l.width,l.height);const r=document.createElement("canvas");r.width=l.width,r.height=l.height;const d=r.getContext("2d");if(!d)return;d.fillStyle="#000000",d.fillRect(0,0,l.width,l.height),d.fillStyle="#FFFFFF",d.font="bold 200px Arial",d.textAlign="center",d.textBaseline="middle",d.fillText(i.toString(),l.width/2,l.height/2);const g=d.getImageData(0,0,l.width,l.height).data,y=["#88B04B","#92A8D1","#955251","#B565A7"],h=["#FF6F61","#E15D44","#D65076","#C3447A"],v=2200;for(let x=0;x<v;x++){const E=Math.random()*l.width,A=Math.random()*l.height,b=Math.random()*5+2,I=(Math.floor(A)*l.width+Math.floor(E))*4,q=g[I]>128?h:y,K=q[Math.floor(Math.random()*q.length)];a.beginPath(),a.arc(E,A,b,0,Math.PI*2),a.fillStyle=K,a.fill()}},[i]),T.jsx("canvas",{ref:t,width:300,height:300,className:"rounded-full shadow-inner bg-slate-100 dark:bg-slate-700 mx-auto"})},WN=({onBack:i,onComplete:t})=>{const[l,a]=Z.useState([]),[r,d]=Z.useState(0),[m,g]=Z.useState([]),[y,h]=Z.useState(""),[v,x]=Z.useState(!1);Z.useEffect(()=>{const b=Array.from({length:10},()=>({number:Math.floor(Math.random()*90)+10}));a(b)},[]);const E=()=>{const b=[...m,y];g(b),h(""),r<l.length-1?d(r+1):x(!0)};if(l.length===0)return T.jsx("div",{className:"p-10 text-center dark:text-white",children:"Loading Plates..."});if(v){const b=l.filter((V,J)=>{var te;return V.number.toString().trim()===((te=m[J])==null?void 0:te.trim())}).length,I=b>=8,w=l.map((V,J)=>({id:`cb-q-${J}`,type:"short_answer",content:`Ishihara Plate #${J+1}`,correctAnswer:V.number.toString(),explanation:`Plate displayed number ${V.number}`,metadata:{difficulty:"Medium",idealTimeSeconds:10,topic:"Buta Warna",subtest:"Ishihara"}})),q=m.map((V,J)=>({questionId:`cb-q-${J}`,selectedAnswer:V,isCorrect:V.trim()===l[J].number.toString().trim(),scoreEarned:V.trim()===l[J].number.toString().trim()?10:0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1})),K={id:`cb-${Date.now()}`,date:new Date().toISOString(),category:"BUTAWRNA",score:b*10,maxScore:100,details:{type:"Ishihara Simulation",passed:I},questions:w,answers:q};return T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex items-center justify-center transition-colors",children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl max-w-lg w-full text-center max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:[T.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${I?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:I?T.jsx(Il,{size:40}):T.jsx(HN,{size:40})}),T.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-800 dark:text-white",children:I?"Hasil Normal":"Indikasi Buta Warna"}),T.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Skor Anda: ",b,"/",l.length]}),T.jsx("div",{className:"mb-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden text-left",children:T.jsxs("table",{className:"w-full text-sm",children:[T.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-300 font-bold",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-3",children:"Plate"}),T.jsx("th",{className:"p-3",children:"Angka"}),T.jsx("th",{className:"p-3",children:"Jawab"}),T.jsx("th",{className:"p-3",children:"Status"})]})}),T.jsx("tbody",{children:l.map((V,J)=>{const te=m[J],ne=V.number.toString().trim()===te.trim();return T.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-700 text-slate-700 dark:text-slate-300",children:[T.jsxs("td",{className:"p-3 font-medium",children:["#",J+1]}),T.jsx("td",{className:"p-3 font-mono",children:V.number}),T.jsx("td",{className:"p-3 font-mono text-slate-600 dark:text-slate-400",children:te||"-"}),T.jsx("td",{className:"p-3",children:ne?T.jsx(Il,{size:16,className:"text-emerald-500"}):T.jsx(Do,{size:16,className:"text-rose-500"})})]},J)})})]})}),T.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Catatan: Ini hanya simulasi. Konsultasikan dengan dokter mata untuk diagnosis resmi."}),T.jsx("button",{onClick:()=>t(K),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none",children:"Simpan & Keluar"})]})})}const A=l[r];return T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center transition-colors",children:T.jsxs("div",{className:"w-full max-w-md",children:[T.jsxs("button",{onClick:i,className:"flex items-center text-slate-500 dark:text-slate-400 mb-6 hover:text-indigo-600",children:[T.jsx(Gi,{size:18,className:"mr-2"})," Batalkan Tes"]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-lg border border-slate-100 dark:border-slate-700 text-center",children:[T.jsxs("div",{className:"text-sm font-bold text-slate-400 mb-4 uppercase tracking-widest",children:["Plate ",r+1," of ",l.length]}),T.jsx("div",{className:"mb-8 flex justify-center bg-slate-50 dark:bg-slate-700 p-4 rounded-xl",children:T.jsx(ZN,{targetNumber:A.number})}),T.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 font-medium",children:"Angka berapa yang Anda lihat?"}),T.jsx("input",{type:"number",className:"w-full p-4 text-center text-2xl font-bold border-2 border-slate-200 dark:border-slate-600 dark:bg-slate-900 dark:text-white rounded-xl mb-6 focus:border-indigo-600 focus:ring-0 outline-none",placeholder:"?",value:y,onChange:b=>h(b.target.value),autoFocus:!0,onKeyDown:b=>b.key==="Enter"&&y&&E()}),T.jsx("button",{onClick:E,disabled:!y,className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none disabled:opacity-50 hover:bg-indigo-700 transition",children:"Lanjut"}),T.jsx("p",{className:"mt-4 text-xs text-slate-400",children:"Jika tidak melihat angka, isi 0."})]})]})})},jN=({history:i,onBack:t,onReview:l,username:a,onExport:r,onImport:d})=>{const[m,g]=Z.useState("ALL"),y=Z.useRef(null),h=i.filter(A=>m==="ALL"||A.category===m),v=h.length,x=v>0?Math.round(h.reduce((A,b)=>A+b.score,0)/v):0,E=v>0?Math.max(...h.map(A=>A.score)):0;return T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition text-slate-700 dark:text-slate-300",children:T.jsx(Gi,{size:20})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Riwayat Belajar"}),T.jsxs("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[T.jsx(dg,{size:12})," ",a]})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-bold text-xs hover:bg-slate-50 dark:hover:bg-slate-700 transition shadow-sm",children:[T.jsx(Xb,{size:14})," Backup JSON"]}),T.jsxs("button",{onClick:()=>{var A;return(A=y.current)==null?void 0:A.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800 rounded-xl font-bold text-xs hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition shadow-sm",children:[T.jsx(cg,{size:14})," Restore JSON"]}),T.jsx("input",{type:"file",ref:y,className:"hidden",accept:".json",onChange:A=>{var b;(b=A.target.files)!=null&&b[0]&&d(A.target.files[0]),y.current&&(y.current.value="")}})]})]}),T.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-4 scrollbar-hide",children:[T.jsx("button",{onClick:()=>g("ALL"),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${m==="ALL"?"bg-slate-900 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:"Semua"}),d0.map(A=>T.jsx("button",{onClick:()=>g(A.id),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${m===A.id?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:A.name},A.id))]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[T.jsx(eN,{size:14})," Total Tes"]}),T.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:v})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[T.jsx(LN,{size:14})," Rata-rata"]}),T.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:x})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[T.jsx(og,{size:14})," Tertinggi"]}),T.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-500",children:E})]})]}),T.jsx("div",{className:"space-y-4",children:h.length===0?T.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-3xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:[T.jsx(ag,{size:48,className:"mx-auto mb-4 opacity-20"}),T.jsx("p",{children:"Tidak ada riwayat untuk kategori ini."})]}):h.map(A=>T.jsxs("div",{onClick:()=>l(A),className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-500 cursor-pointer transition group relative overflow-hidden",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wider ${A.category==="UTBK"?"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300":A.category==="SKD"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300":A.category==="GENERAL"?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300"}`,children:A.category}),A.skdStream&&T.jsx("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-1 rounded",children:A.skdStream})]}),T.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[T.jsx(Bb,{size:14}),new Date(A.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),T.jsx("span",{className:"opacity-50",children:""}),new Date(A.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-4xl font-black text-slate-800 dark:text-white",children:A.score}),T.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"SKOR"})]})]}),T.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4 flex justify-between items-center relative z-10",children:[T.jsxs("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[T.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-md text-xs font-bold text-slate-600 dark:text-slate-300",children:[(A.questions||[]).length," Soal"]}),A.details&&A.details.passed!==void 0&&(A.details.passed?T.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[T.jsx(Il,{size:14})," Lulus"]}):T.jsxs("span",{className:"text-rose-500 dark:text-rose-400 font-bold flex items-center gap-1",children:[T.jsx(Do,{size:14})," Tidak Lulus"]}))]}),T.jsxs("div",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400 flex items-center gap-1 group-hover:translate-x-1 transition-transform",children:["Review Detail ",T.jsx(Ui,{size:16})]})]})]},A.id))})]})})},e1=({result:i,feature:t,onBack:l})=>T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center",children:T.jsxs("div",{className:"max-w-3xl w-full",children:[T.jsxs("button",{onClick:l,className:"mb-4 text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[T.jsx(Gi,{size:18})," Kembali"]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[T.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800 dark:text-white flex items-center gap-2",children:[T.jsx(pc,{size:28,className:"text-indigo-600"})," Hasil ",t]}),T.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:T.jsx(Dn,{text:i})})]})]})}),t1=({questions:i,onComplete:t})=>{const[l,a]=Z.useState(0),[r,d]=Z.useState(""),[m,g]=Z.useState(null),[y,h]=Z.useState(!1),[v,x]=Z.useState([]),E=i[l],A=async()=>{if(r.trim()){h(!0);try{const I=await Tb(E.content,r);g(I)}catch{alert("Gagal evaluasi.")}finally{h(!1)}}},b=()=>{const I={questionId:E.id,selectedAnswer:r,isCorrect:!0,scoreEarned:(m==null?void 0:m.score)||0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1,interviewFeedback:m||void 0},w=[...v,I];x(w),d(""),g(null),l<i.length-1?a(l+1):t(w)};return T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"mb-4 text-sm font-bold text-slate-400",children:["Pertanyaan ",l+1," dari ",i.length]}),T.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:E.content}),m?T.jsxs("div",{className:"animate-fade-in-up",children:[T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:["Skor: ",m.score,"/100"]}),T.jsx("span",{className:"text-sm bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-2 py-1 rounded",children:m.toneAnalysis})]}),T.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[T.jsx("b",{children:"Feedback:"})," ",m.feedback]}),T.jsxs("div",{className:"text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-800 dark:text-emerald-300 p-3 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[T.jsx("b",{children:"Saran Jawaban:"})," ",m.improvedAnswer]})]}),T.jsx("button",{onClick:b,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:opacity-90",children:"Lanjut"})]}):T.jsxs(T.Fragment,{children:[T.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-40 focus:ring-2 focus:ring-indigo-500",placeholder:"Jawab seolah sedang interview...",value:r,onChange:I=>d(I.target.value)}),T.jsxs("button",{onClick:A,disabled:y||!r,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[y?T.jsx(ds,{className:"animate-spin"}):T.jsx(yc,{size:18})," Submit Jawaban"]})]})]})})},n1=({flashcards:i,onFinish:t})=>{const[l,a]=Z.useState(0),r=d=>{l<i.length-1?a(l+1):t()};return i.length===0?T.jsx("div",{children:"No Flashcards"}):T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:[T.jsxs("div",{className:"w-full max-w-xl mb-6 flex justify-between items-center",children:[T.jsx("button",{onClick:t,className:"text-slate-500 hover:text-indigo-600",children:T.jsx(Gi,{size:20})}),T.jsxs("span",{className:"font-bold text-slate-400",children:[l+1," / ",i.length]})]}),T.jsx(FN,{data:i[l],onNext:r})]})},i1=({topic:i,onFinish:t})=>{const[l,a]=Z.useState(""),[r,d]=Z.useState(null),[m,g]=Z.useState(!1),y=async()=>{g(!0);try{const h=await Eb(i,l);d(h)}catch{alert("Error")}finally{g(!1)}};return T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[T.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Feynman Technique"}),T.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Jelaskan topik ",T.jsxs("b",{children:['"',i,'"']})," seolah-olah Anda sedang mengajari anak kecil (5 tahun). Gunakan bahasa sederhana."]}),r?T.jsxs("div",{className:"animate-fade-in-up",children:[T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[T.jsxs("div",{className:`text-2xl font-bold ${r.understandingScore>70?"text-emerald-500":"text-amber-500"}`,children:[r.understandingScore,"/100"]}),T.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 uppercase font-bold",children:"Skor Pemahaman"})]}),T.jsxs("div",{className:"space-y-3 text-sm text-slate-700 dark:text-slate-300",children:[T.jsxs("p",{children:[T.jsx("b",{children:"Kualitas Penyederhanaan:"})," ",r.simplificationQuality]}),T.jsxs("p",{children:[T.jsx("b",{children:"Konsep yang Terlewat:"})," ",r.missingConcepts.join(", ")||"Tidak ada"]}),T.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg border border-indigo-100 dark:border-indigo-800 text-indigo-800 dark:text-indigo-300",children:[T.jsx("b",{children:"Koreksi / Saran:"})," ",r.correction]})]})]}),T.jsx("button",{onClick:t,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold",children:"Selesai Belajar"})]}):T.jsxs(T.Fragment,{children:[T.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-48 focus:ring-2 focus:ring-indigo-500",placeholder:"Mulai jelaskan di sini...",value:l,onChange:h=>a(h.target.value)}),T.jsx("button",{onClick:y,disabled:m||!l,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50",children:m?"Menganalisis...":"Cek Pemahaman Saya"})]})]})})},l1=({topic:i,onFinish:t})=>{const l=["Survey","Question","Read","Recite","Review"],[a,r]=Z.useState(0),d=["Lakukan scanning cepat pada materi. Baca judul, subjudul, dan kesimpulan. Dapatkan gambaran besar.","Buat pertanyaan dari judul/subjudul. Apa yang ingin Anda ketahui? Ubah judul menjadi pertanyaan.","Baca materi dengan seksama untuk mencari jawaban atas pertanyaan Anda tadi.","Tutup materi. Ucapkan kembali apa yang baru saja dibaca dengan kata-kata sendiri.","Review ulang seluruh materi dan catatan Anda. Pastikan semuanya tersimpan di memori."];return T.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 text-center",children:[T.jsx("div",{className:"flex justify-center mb-8",children:l.map((m,g)=>T.jsxs("div",{className:`flex items-center ${g<l.length-1?"w-full":""}`,children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm ${g<=a?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:m[0]}),g<l.length-1&&T.jsx("div",{className:`h-1 flex-1 ${g<a?"bg-indigo-600":"bg-slate-100 dark:bg-slate-700"}`})]},m))}),T.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-4",children:l[a]}),T.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mb-8",children:d[a]}),T.jsx("button",{onClick:()=>{a<4?r(a+1):t()},className:"px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition",children:a<4?"Lanjut Tahap Berikutnya":"Selesai SQ3R"})]})})},o1=({category:i,onBack:t,onStartSession:l,onGeneralInputSubmit:a,generalInput:r,setGeneralInput:d,isReadingMaterial:m,onResetMaterial:g,onSubtestSelect:y,selectedSubtest:h,weakTopicsCount:v,loading:x,skdStream:E,onSkdStreamSelect:A,onHistory:b,onStartGeneralSession:I,onStartSkripsiSession:w,username:q,isDarkMode:K,onToggleDarkMode:V})=>{const[J,te]=Z.useState(""),[ne,F]=Z.useState(null),[ae,ie]=Z.useState("MEDIUM"),[se,ge]=Z.useState("MEDIUM"),[re,Q]=Z.useState(!1),ye=Z.useRef(null),[be,U]=Z.useState(5),[O,ee]=Z.useState("Medium"),Ne=H=>{var $;const Y=($=H.target.files)==null?void 0:$[0];if(Y){if(Y.type!=="application/pdf"){alert("Hanya file PDF yang diperbolehkan.");return}F(Y.name),te(""),Q(!0);const de=new FileReader;de.onload=ve=>{var tt;const Me=((tt=ve.target)==null?void 0:tt.result).split(",")[1];setTimeout(()=>{d&&d({type:"pdf",content:Me,title:Y.name,lengthPreference:ae,difficultyPreference:se}),Q(!1)},800)},de.readAsDataURL(Y)}},fe=()=>{(r==null?void 0:r.type)==="pdf"?a({...r,lengthPreference:ae,difficultyPreference:se}):J?a({type:"text",content:J,title:"Input Manual",lengthPreference:ae,difficultyPreference:se}):alert("Mohon masukkan teks atau upload PDF.")},N=H=>T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6 animate-fade-in-up",children:[T.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Pilih Topik / Subtes:"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:H==null?void 0:H.map(Y=>T.jsx("button",{onClick:()=>y(Y),className:`px-4 py-2 rounded-full text-sm font-medium transition ${h===Y?"bg-indigo-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:Y},Y))}),h&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&T.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-6 animate-fade-in-up",children:T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[T.jsxs("div",{className:"flex-1 w-full",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Jumlah Soal"}),T.jsxs("select",{value:be,onChange:Y=>U(Number(Y.target.value)),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[T.jsx("option",{value:"5",children:"5 Soal"}),T.jsx("option",{value:"10",children:"10 Soal"}),T.jsx("option",{value:"15",children:"15 Soal"}),T.jsx("option",{value:"20",children:"20 Soal"})]})]}),T.jsxs("div",{className:"flex-1 w-full",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Tingkat Kesulitan"}),T.jsxs("select",{value:O,onChange:Y=>ee(Y.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[T.jsx("option",{value:"Easy",children:"Mudah"}),T.jsx("option",{value:"Medium",children:"Sedang"}),T.jsx("option",{value:"Hard",children:"Sulit"}),T.jsx("option",{value:"HOTS",children:"HOTS (Analisis Tinggi)"})]})]}),T.jsxs("button",{onClick:()=>l(Ie.PRACTICE,O,be),className:"w-full sm:w-auto px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[T.jsx(s0,{size:18})," Mulai Latihan"]})]})}),i==="INTERVIEW"&&h&&T.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-4 animate-fade-in-up",children:T.jsxs("button",{onClick:()=>l(Ie.DRILL),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[T.jsx(yc,{size:20})," Mulai Sesi Wawancara"]})})]});return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors duration-300",children:[T.jsx(ON,{}),T.jsxs("div",{className:"max-w-5xl mx-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("button",{onClick:t,className:"flex items-center text-slate-500 dark:text-slate-400 hover:text-indigo-600 font-medium",children:[T.jsx(Gi,{size:18,className:"mr-2"})," Kembali"]}),T.jsxs("div",{className:"flex items-center gap-3",children:[V&&T.jsx("button",{onClick:V,className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 transition",children:K?T.jsx(rg,{size:16}):T.jsx(sg,{size:16})}),T.jsxs("span",{className:"text-xs font-bold text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-full flex items-center gap-1",children:[T.jsx(dg,{size:12})," ",q]})]})]}),T.jsx("div",{className:"flex justify-between items-end mb-8",children:T.jsxs("div",{children:[T.jsxs("span",{className:"text-sm font-bold tracking-wider text-indigo-600 uppercase mb-1 block",children:[i," Dashboard"]}),T.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Pusat Kendali Belajar"})]})}),x?T.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[T.jsx(ds,{className:"animate-spin text-indigo-600 w-10 h-10 mb-4"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"AI sedang memproses materi..."}),T.jsx("div",{className:"max-w-md w-full mt-8 space-y-4",children:T.jsx(YN,{})})]}):T.jsxs(T.Fragment,{children:[i==="SKRIPSI"&&T.jsx("div",{className:"animate-fade-in-up max-w-2xl mx-auto",children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6",children:[T.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[T.jsx(pc,{size:24,className:"text-indigo-600"})," Skripsi Assistant"]}),T.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-6 focus:ring-2 focus:ring-indigo-500 h-32",placeholder:"Contoh: Pengaruh Kecerdasan Buatan terhadap...",value:J,onChange:H=>te(H.target.value)}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("button",{onClick:()=>w&&w("TITLE_IDEAS",J),className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-xl font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/40 flex flex-col items-center gap-2 border border-indigo-100 dark:border-indigo-800",children:[T.jsx(bl,{size:24})," Ide Judul"]}),T.jsxs("button",{onClick:()=>w&&w("OUTLINE",J),className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 rounded-xl font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/40 flex flex-col items-center gap-2 border border-emerald-100 dark:border-emerald-800",children:[T.jsx(tc,{size:24})," Buat Outline"]}),T.jsxs("button",{onClick:()=>w&&w("METHODOLOGY",J),className:"p-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 rounded-xl font-bold hover:bg-amber-100 dark:hover:bg-amber-900/40 flex flex-col items-center gap-2 border border-amber-100 dark:border-amber-800",children:[T.jsx(r0,{size:24})," Cek Metodologi"]}),T.jsxs("button",{onClick:()=>w&&w("PARAPHRASE",J),className:"p-4 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-300 rounded-xl font-bold hover:bg-rose-100 dark:hover:bg-rose-900/40 flex flex-col items-center gap-2 border border-rose-100 dark:border-rose-800",children:[T.jsx(Zb,{size:24})," Parafrase Teks"]})]})]})}),i==="GENERAL"&&T.jsx("div",{className:"space-y-8 animate-fade-in-up",children:m?T.jsxs("div",{className:"animate-fade-in-up",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 mb-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[T.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[T.jsx(o0,{size:20})," Materi Belajar"]}),T.jsx("button",{onClick:g,className:"text-sm text-rose-500 hover:underline",children:"Ganti Materi"})]}),(r==null?void 0:r.type)==="pdf"&&r.content&&T.jsx("div",{className:"mb-6",children:T.jsx("embed",{src:`data:application/pdf;base64,${r.content}`,className:"w-full h-[500px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})}),T.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-300 leading-relaxed max-h-[400px] overflow-y-auto p-2 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:T.jsx(Dn,{text:(r==null?void 0:r.extractedText)||(r==null?void 0:r.content)||""})})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Sudah selesai membaca? Pilih Metode Belajar:"}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:zv.map(H=>{const $={Brain:bl,Repeat:_N,MessageCircle:fN,Share2:RN,Search:r0,GraduationCap:hc,BookOpen:o0,PenTool:s0}[H.icon]||bl;return T.jsxs("button",{onClick:()=>I(H.id),className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-md transition text-left flex flex-col h-full",children:[T.jsx("div",{className:"mb-3 text-indigo-600 dark:text-indigo-400",children:T.jsx($,{size:24})}),T.jsx("h4",{className:"font-bold text-sm mb-1 text-slate-900 dark:text-white",children:H.name}),T.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:H.desc})]},H.id)})})]})]}):T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[T.jsx(cg,{size:20})," Input Materi"]}),T.jsxs("div",{className:"flex gap-2 mb-4",children:[T.jsx("input",{type:"text",className:"flex-1 p-3 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl",placeholder:ne?`PDF Terpilih: ${ne}`:"Contoh: Perang Dunia II...",value:J,disabled:!!ne,onChange:H=>te(H.target.value)}),T.jsx("input",{type:"file",ref:ye,accept:"application/pdf",className:"hidden",onChange:Ne}),T.jsxs("button",{className:`p-3 rounded-xl transition flex items-center gap-2 ${ne?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200"}`,title:"Upload PDF",onClick:()=>{var H;return(H=ye.current)==null?void 0:H.click()},children:[T.jsx(tc,{size:20}),T.jsx("span",{className:"hidden sm:inline font-bold text-sm",children:"Upload PDF"})]})]}),ne&&T.jsxs("div",{className:"mb-4 text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-lg flex items-center justify-between animate-fade-in-up border border-emerald-100 dark:border-emerald-800",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Il,{size:16})," ",T.jsxs("span",{children:["File siap: ",T.jsx("b",{children:ne})]})]}),T.jsx("button",{onClick:()=>{F(null),d&&d(null),ye.current&&(ye.current.value="")},className:"text-slate-400 hover:text-rose-500",title:"Hapus PDF",children:T.jsx(DN,{size:16})})]}),re?T.jsxs("div",{className:"mb-6 space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-2",children:[T.jsx(ds,{size:14,className:"animate-spin"})," Memuat Preview PDF..."]}),T.jsx(Di,{height:"h-[300px]",className:"rounded-xl"})]}):(r==null?void 0:r.type)==="pdf"&&r.content&&T.jsxs("div",{className:"mb-6 animate-fade-in-up",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 mb-2 block",children:"Preview PDF:"}),T.jsx("embed",{src:`data:application/pdf;base64,${r.content}`,className:"w-full h-[300px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Panjang Materi"}),T.jsxs("select",{value:ae,onChange:H=>ie(H.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[T.jsx("option",{value:"SHORT",children:"Ringkas"}),T.jsx("option",{value:"MEDIUM",children:"Standar"}),T.jsx("option",{value:"LONG",children:"Mendalam"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Kesulitan Soal"}),T.jsxs("select",{value:se,onChange:H=>ge(H.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[T.jsx("option",{value:"EASY",children:"Mudah"}),T.jsx("option",{value:"MEDIUM",children:"Sedang"}),T.jsx("option",{value:"HARD",children:"Sulit"})]})]})]}),T.jsx("button",{onClick:fe,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Proses & Baca Materi"})]})}),i==="UTBK"&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:()=>l(Ie.SIMULATION),className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group shadow-lg shadow-indigo-200 dark:shadow-none",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[T.jsx(a0,{size:24,className:"text-rose-400"})," Simulasi UTBK SNBT Full"]}),T.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"155 Soal. Durasi 195 Menit."})]}),T.jsx(Ui,{className:"group-hover:translate-x-2 transition-transform"})]}),N(Bv)]}),["TPA","PSIKOTEST"].includes(i)&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:()=>l(Ie.SIMULATION),className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[T.jsx(bl,{size:24,className:"text-indigo-400"})," Simulasi ",i," Full"]}),T.jsx("p",{className:"text-slate-400 text-sm mt-1",children:i==="TPA"?"65 Soal. Durasi 100 Menit.":"Simulasi Lengkap dengan Timer"})]}),T.jsx(Ui,{className:"group-hover:translate-x-2 transition-transform"})]}),N(i==="TPA"?Ov:Fv)]}),i==="INTERVIEW"&&N(Jv),i==="SKD"&&(E?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-slate-600 dark:text-slate-300",children:[T.jsx("button",{onClick:()=>A(null),className:"underline",children:"Ubah Jalur"})," ",T.jsx(Ui,{size:14})," ",T.jsx("b",{children:E})]}),T.jsxs("button",{onClick:()=>l(Ie.SIMULATION),className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center shadow-lg shadow-indigo-200 dark:shadow-none",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[T.jsx(a0,{size:24,className:"text-rose-400"})," Simulasi SKD CAT"]}),T.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"TWK, TIU, TKP. Durasi 100 Menit."})]}),T.jsx(Ui,{className:"group-hover:translate-x-2 transition-transform"})]}),N(Vv)]}):T.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[T.jsxs("button",{onClick:()=>A("KEDINASAN"),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[T.jsx(aN,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),T.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Sekolah Kedinasan"})]}),T.jsxs("button",{onClick:()=>A("CPNS"),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[T.jsx(qb,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),T.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"CPNS Umum"})]})]})),i!=="GENERAL"&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&T.jsxs("div",{className:"mt-8 animate-fade-in-up delay-100",children:[T.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Mode Belajar Lainnya"}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsxs("button",{onClick:()=>l(Ie.DRILL),className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[T.jsx(fg,{className:"text-amber-500 mb-2"}),T.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Learn & Drill"})]}),T.jsxs("button",{onClick:()=>l(Ie.ACTIVE_RECALL),className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[T.jsx(bl,{className:"text-emerald-500 mb-2"}),T.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Active Recall"})]}),v>0&&T.jsxs("button",{onClick:()=>l(Ie.WEAKNESS),className:"p-4 bg-white dark:bg-slate-800 border border-rose-200 dark:border-rose-900 rounded-xl hover:border-rose-500 hover:shadow-md transition text-left",children:[T.jsx(ug,{className:"text-rose-500 mb-2"}),T.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Weakness Attack"})]})]})]})]})]})]})},a1=()=>{var qi;const[i,t]=Z.useState("LOGIN"),[l,a]=Z.useState(null),[r,d]=Z.useState(null),[m,g]=Z.useState(!1),[y,h]=Z.useState(""),[v,x]=Z.useState(null),[E,A]=Z.useState(null),[b,I]=Z.useState(new Set),[w,q]=Z.useState(null),[K,V]=Z.useState([]),[J,te]=Z.useState(null),[ne,F]=Z.useState(null),[ae,ie]=Z.useState(""),[se,ge]=Z.useState([]),[re,Q]=Z.useState(null),[ye,be]=Z.useState([]),[U,O]=Z.useState(!1),[ee,Ne]=Z.useState(""),[fe,N]=Z.useState([]),[H,Y]=Z.useState(null),[$,de]=Z.useState(!1);Z.useEffect(()=>{const j=localStorage.getItem("fajmuls_username");j?ve(j):t("LOGIN"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&de(!0)},[]),Z.useEffect(()=>{$?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[$]);const ve=async j=>{const we=j.trim();if(!we)return;Ne(we),localStorage.setItem("fajmuls_username",we),t("HOME");const Xe=localStorage.getItem(`fajmuls_history_${we}`);let Ve=[];if(Xe)try{Ve=JSON.parse(Xe)}catch{console.error("History parse fail")}N(Ve)},Me=()=>{localStorage.removeItem("fajmuls_username"),Ne(""),N([]),t("LOGIN")},tt=async j=>{const we=[j,...fe];N(we),localStorage.setItem(`fajmuls_history_${ee}`,JSON.stringify(we))},Ze=()=>{if(fe.length===0){alert("Belum ada riwayat untuk disimpan.");return}const j=JSON.stringify(fe,null,2),we=new Blob([j],{type:"application/json"}),Xe=URL.createObjectURL(we),Ve=document.createElement("a");Ve.href=Xe,Ve.download=`Fajmuls_History_${ee}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),URL.revokeObjectURL(Xe)},ui=j=>{const we=new FileReader;we.onload=Xe=>{var Ve;try{const xe=(Ve=Xe.target)==null?void 0:Ve.result,ke=JSON.parse(xe);if(!Array.isArray(ke))throw new Error("Format salah");const Fe=new Set(fe.map(lt=>lt.id)),Je=ke.filter(lt=>!Fe.has(lt.id)),Ye=[...fe,...Je].sort((lt,_t)=>new Date(_t.date).getTime()-new Date(lt.date).getTime());N(Ye),localStorage.setItem(`fajmuls_history_${ee}`,JSON.stringify(Ye)),alert(`Berhasil memuat ${Je.length} riwayat baru dari file.`)}catch{alert("Gagal membaca file. Pastikan file JSON valid hasil export aplikasi ini.")}},we.readAsText(j)},Hi=j=>{a(j),j==="BUTAWRNA"?t("COLORBLIND"):(t("DASHBOARD"),d(null),g(!1),h(""),A(null),q(null),F(null),ie(""))},Ll=async j=>{O(!0);try{const we=await db(j);d({...j,extractedText:we}),g(!0)}catch{alert("Gagal memproses materi. Coba lagi.")}finally{O(!1)}},Uo=async(j,we)=>{if(!we.trim()){alert("Mohon isi judul atau topik.");return}O(!0),F(j);try{const Xe=await _b(we,j);ie(Xe),t("SESSION")}catch{alert("Gagal generate konten skripsi.")}finally{O(!1)}},pn=async j=>{if(!r){alert("Materi hilang. Silakan input ulang.");return}O(!0),q(j),x(Ie.DRILL);try{if(j==="ACTIVE_RECALL"||j==="PBL"||j==="PRACTICE"||j==="TEACHING"){const we=await i0(Ie.DRILL,"GENERAL",r,5,[],void 0,j);ge(we)}else if(j==="SPACED_REPETITION"){const we=await Sb(r);V(we)}else if(j==="MIND_MAP"){const we=await xb(r);te(we)}t("SESSION")}catch{alert("Gagal memuat materi AI.")}finally{O(!1)}},Pi=async(j,we,Xe)=>{if(l){if(["UTBK","SKD","TPA","PSIKOTEST","INTERVIEW"].includes(l)&&!y&&j!==Ie.SIMULATION&&j!==Ie.WEAKNESS){alert(`Harap pilih topik/subtes untuk ${l}.`);return}if(l==="SKD"&&!E){alert("Harap pilih jalur (CPNS / Kedinasan).");return}O(!0),x(j),be([]),ge([]),Q(null);try{const Ve=y;if(j===Ie.DRILL){const xe=await pb(l,Ve,E||void 0);Q(xe),xe&&xe.question&&ge([xe.question])}else if(j===Ie.SIMULATION&&l==="SKD"&&E){const xe=await hb(E);ge(xe||[])}else if(j===Ie.SIMULATION&&l==="UTBK"){const xe=await gb();ge(xe||[])}else if(j===Ie.SIMULATION&&l==="TPA"){const xe=await yb();ge(xe||[])}else if(j===Ie.SIMULATION&&l==="PSIKOTEST"){const xe=await vb();ge(xe||[])}else{let xe=Xe||5;l==="PSIKOTEST"&&j===Ie.SIMULATION&&(xe=40),l==="INTERVIEW"&&(xe=3);const ke=await i0(j,l,Ve,xe,Array.from(b),E||void 0,void 0,we);ge(ke||[])}t("SESSION")}catch(Ve){console.error(Ve),alert("Gagal memuat soal. Kemungkinan traffic AI sedang tinggi. Coba lagi beberapa saat.")}finally{O(!1)}}},ci=(j,we)=>{if(we){tt(we),t("HOME");return}be(j);let Xe=0,Ve=0,xe;if(l==="SKD"&&v===Ie.SIMULATION){let ke=0,Fe=0,Je=0;j.forEach(Ye=>{var _t,en,tn,Nt,We,ht;const lt=se.find(ot=>ot.id===Ye.questionId);lt&&((en=(_t=lt.metadata)==null?void 0:_t.subtest)!=null&&en.includes("TWK")&&(ke+=Ye.scoreEarned),(Nt=(tn=lt.metadata)==null?void 0:tn.subtest)!=null&&Nt.includes("TIU")&&(Fe+=Ye.scoreEarned),(ht=(We=lt.metadata)==null?void 0:We.subtest)!=null&&ht.includes("TKP")&&(Je+=Ye.scoreEarned))}),Xe=ke+Fe+Je,Ve=550,xe={twk:ke,tiu:Fe,tkp:Je,total:Xe,passed:ke>=65&&Fe>=80&&Je>=166}}else if(l==="UTBK"&&v===Ie.SIMULATION){const ke=We=>{const ht=se.filter(Hn=>{var di,fi;return(fi=(di=Hn.metadata)==null?void 0:di.subtest)==null?void 0:fi.includes(We)});if(!ht.length)return 0;const ot=j.filter(Hn=>{var di,fi,mi;return Hn.isCorrect&&((mi=(fi=(di=se.find(zi=>zi.id===Hn.questionId))==null?void 0:di.metadata)==null?void 0:fi.subtest)==null?void 0:mi.includes(We))}).length;return Math.round(200+ot/ht.length*600)},Fe=ke("Penalaran Umum"),Je=ke("PPU"),Ye=ke("PBM"),lt=ke("Kuantitatif"),_t=ke("Literasi B.Indo"),en=ke("Literasi B.Inggris"),tn=ke("Penalaran Matematika"),Nt=Math.round((Fe+Je+Ye+lt+_t+en+tn)/7);Xe=Nt,Ve=1e3,xe={pu:Fe,ppu:Je,pbm:Ye,pk:lt,lbi:_t,lbe:en,pm:tn,average:Nt}}else if(l==="TPA"&&v===Ie.SIMULATION){let ke=0,Fe=0,Je=0,Ye=0;j.forEach(en=>{var Nt,We,ht,ot;const tn=se.find(Hn=>Hn.id===en.questionId);tn&&((We=(Nt=tn.metadata)==null?void 0:Nt.subtest)!=null&&We.includes("TBI")||(ot=(ht=tn.metadata)==null?void 0:ht.subtest)!=null&&ot.includes("Inggris")?(Ye++,en.isCorrect&&Fe++):(Je++,en.isCorrect&&ke++))});const lt=Math.round(200+ke/(Je||1)*600),_t=Math.round(Fe/(Ye||1)*100);Xe=lt+_t,Ve=900,xe={tpaScore:lt,tbiScore:_t,tpaCorrect:ke,tbiCorrect:Fe}}else if(l==="INTERVIEW"){const ke=j.map(Fe=>{var Je;return((Je=Fe.interviewFeedback)==null?void 0:Je.score)||0});Xe=Math.round(ke.reduce((Fe,Je)=>Fe+Je,0)/(ke.length||1)),Ve=100}else if(l==="PSIKOTEST"&&v===Ie.SIMULATION){const ke=j.filter(_t=>_t.isCorrect).length,Fe=se.length,Je=ke/Fe,Ye=Math.round(70+Je*75);let lt=Ye>=130?"Very Superior":Ye>=120?"Superior":Ye>=110?"High Average":Ye>=90?"Average":"Low Average";Xe=Ye,Ve=160,xe={iqScore:Ye,classification:lt}}else if(l==="GENERAL"){const ke=j.reduce((Fe,Je)=>Fe+(Je.scoreEarned||0),0);Xe=Math.round(ke/(j.length||1)),Ve=100}else{const ke=j.filter(Fe=>Fe.isCorrect).length;Xe=Math.round(ke/se.length*100),Ve=100}tt({id:`h-${Date.now()}`,date:new Date().toISOString(),category:l,skdStream:E||void 0,score:Xe,maxScore:Ve,details:xe,questions:se,answers:j}),t("RESULTS")},Lo=()=>{t("HISTORY")},Go=j=>{Y(j),t("REVIEW")};if(i==="LOGIN")return T.jsx(KN,{onLogin:ve});if(i==="HOME")return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center relative transition-colors duration-300",children:[T.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-lg border-2 border-white dark:border-slate-700 shadow-sm",children:(qi=ee[0])==null?void 0:qi.toUpperCase()}),T.jsxs("div",{className:"text-left hidden sm:block",children:[T.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:ee}),T.jsxs("button",{onClick:Me,className:"text-xs text-rose-500 hover:underline flex items-center gap-1",children:[T.jsx(cN,{size:10})," Keluar"]})]})]}),T.jsxs("div",{className:"absolute top-6 right-6 flex items-center gap-3",children:[T.jsx("button",{onClick:()=>de(!$),className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 transition",children:$?T.jsx(rg,{size:18}):T.jsx(sg,{size:18})}),T.jsxs("button",{onClick:Lo,className:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 font-bold bg-indigo-50 dark:bg-indigo-900/30 px-4 py-2 rounded-lg transition shadow-sm border border-indigo-100 dark:border-indigo-800",children:[T.jsx(ag,{size:18,className:"mr-2"})," Riwayat"]})]}),T.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Fajmuls Learning"}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 text-center max-w-md",children:"Sistem belajar cerdas berbasis data. Pilih jalur belajarmu."}),T.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-6xl",children:d0.map(j=>T.jsxs("button",{onClick:()=>Hi(j.id),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all group text-left flex flex-col items-start",children:[T.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-slate-700 rounded-lg flex items-center justify-center mb-6 group-hover:bg-indigo-600 transition-colors",children:j.id==="GENERAL"?T.jsx(tc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):j.id==="SKD"?T.jsx(Hb,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):j.id==="INTERVIEW"?T.jsx(yc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):j.id==="BUTAWRNA"?T.jsx(gN,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):j.id==="PSIKOTEST"?T.jsx(bl,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):j.id==="SKRIPSI"?T.jsx(pc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):T.jsx(hc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"})}),T.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:j.name}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:j.desc})]},j.id))})]});if(i==="COLORBLIND")return T.jsx(WN,{onBack:()=>t("HOME"),onComplete:j=>ci([],j)});if(i==="DASHBOARD")return T.jsx(o1,{category:l,onBack:()=>t("HOME"),onStartSession:Pi,onGeneralInputSubmit:Ll,generalInput:r,setGeneralInput:d,isReadingMaterial:m,onResetMaterial:()=>{g(!1),d(null)},onSubtestSelect:h,selectedSubtest:y,weakTopicsCount:b.size,loading:U,skdStream:E,onSkdStreamSelect:A,onHistory:Lo,onStartGeneralSession:pn,onStartSkripsiSession:Uo,username:ee,isDarkMode:$,onToggleDarkMode:()=>de(!$)});if(i==="SESSION"){if(l==="SKRIPSI")return T.jsx(e1,{result:ae,feature:ne,onBack:()=>t("DASHBOARD")});if(l==="INTERVIEW")return T.jsx(t1,{questions:se,onComplete:ci});if(l==="GENERAL"){if(w==="SPACED_REPETITION")return T.jsx(n1,{flashcards:K,onFinish:()=>t("DASHBOARD")});if(w==="MIND_MAP")return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col transition-colors duration-300",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("button",{onClick:()=>t("DASHBOARD"),className:"flex items-center text-slate-500 dark:text-slate-400",children:[T.jsx(Gi,{size:18})," Kembali"]}),T.jsx("h2",{className:"font-bold text-slate-800 dark:text-white",children:"Mind Mapping"})]}),T.jsx(JN,{data:J})]});if(w==="FEYNMAN")return T.jsx(i1,{topic:(r==null?void 0:r.content)||"",onFinish:()=>t("DASHBOARD")});if(w==="SQ3R")return T.jsx(l1,{topic:(r==null?void 0:r.content)||"",onFinish:()=>t("DASHBOARD")})}return T.jsx(QN,{mode:v,questions:se,drillContent:re,onComplete:ci,isSkdSimulation:v===Ie.SIMULATION&&l==="SKD",isUtbkSimulation:v===Ie.SIMULATION&&l==="UTBK",category:l})}return i==="RESULTS"?T.jsx($N,{answers:ye,questions:se,onHome:()=>t("HOME"),onRetry:()=>Pi(v),category:l}):i==="HISTORY"?T.jsx(jN,{history:fe,onBack:()=>t("HOME"),onReview:Go,username:ee,onExport:Ze,onImport:ui,isDarkMode:$}):i==="REVIEW"?T.jsx(XN,{item:H,onBack:()=>t("HISTORY")}):null},pg=document.getElementById("root");if(!pg)throw new Error("Could not find root element to mount to");const s1=qv.createRoot(pg);s1.render(T.jsx(Iv.StrictMode,{children:T.jsx(a1,{})}));
