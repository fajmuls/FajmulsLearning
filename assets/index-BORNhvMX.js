(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}})();function y0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pu={exports:{}},Uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function Gv(){if(Sp)return Uo;Sp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,d){var m=null;if(d!==void 0&&(m=""+d),r.key!==void 0&&(m=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:a,key:m,ref:r!==void 0?r:null,props:d}}return Uo.Fragment=t,Uo.jsx=l,Uo.jsxs=l,Uo}var Tp;function Pv(){return Tp||(Tp=1,Pu.exports=Gv()),Pu.exports}var v=Pv(),Hu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function Hv(){if(Ep)return he;Ep=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function H(N,P,K){this.props=N,this.context=P,this.refs=M,this.updater=K||A}H.prototype.isReactComponent={},H.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=H.prototype;function O(N,P,K){this.props=N,this.context=P,this.refs=M,this.updater=K||A}var z=O.prototype=new $;z.constructor=O,w(z,H.prototype),z.isPureReactComponent=!0;var j=Array.isArray;function X(){}var J={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function W(N,P,K){var Q=K.ref;return{$$typeof:i,type:N,key:P,ref:Q!==void 0?Q:null,props:K}}function se(N,P){return W(N.type,P,N.props)}function ye(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function Ve(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return P[K]})}var Ee=/\/+/g;function Ge(N,P){return typeof N=="object"&&N!==null&&N.key!=null?Ve(""+N.key):P.toString(36)}function We(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(X,X):(N.status="pending",N.then(function(P){N.status==="pending"&&(N.status="fulfilled",N.value=P)},function(P){N.status==="pending"&&(N.status="rejected",N.reason=P)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function L(N,P,K,Q,le){var ne=typeof N;(ne==="undefined"||ne==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(ne){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case i:case t:ve=!0;break;case x:return ve=N._init,L(ve(N._payload),P,K,Q,le)}}if(ve)return le=le(N),ve=Q===""?"."+Ge(N,0):Q,j(le)?(K="",ve!=null&&(K=ve.replace(Ee,"$&/")+"/"),L(le,P,K,"",function(xn){return xn})):le!=null&&(ye(le)&&(le=se(le,K+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(Ee,"$&/")+"/")+ve)),P.push(le)),1;ve=0;var Ae=Q===""?".":Q+":";if(j(N))for(var je=0;je<N.length;je++)Q=N[je],ne=Ae+Ge(Q,je),ve+=L(Q,P,K,ne,le);else if(je=_(N),typeof je=="function")for(N=je.call(N),je=0;!(Q=N.next()).done;)Q=Q.value,ne=Ae+Ge(Q,je++),ve+=L(Q,P,K,ne,le);else if(ne==="object"){if(typeof N.then=="function")return L(We(N),P,K,Q,le);throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ve}function F(N,P,K){if(N==null)return N;var Q=[],le=0;return L(N,Q,"","",function(ne){return P.call(K,ne,le++)}),Q}function oe(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var Me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},be={map:F,forEach:function(N,P,K){F(N,function(){P.apply(this,arguments)},K)},count:function(N){var P=0;return F(N,function(){P++}),P},toArray:function(N){return F(N,function(P){return P})||[]},only:function(N){if(!ye(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return he.Activity=T,he.Children=be,he.Component=H,he.Fragment=l,he.Profiler=r,he.PureComponent=O,he.StrictMode=a,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,he.__COMPILER_RUNTIME={__proto__:null,c:function(N){return J.H.useMemoCache(N)}},he.cache=function(N){return function(){return N.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(N,P,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Q=w({},N.props),le=N.key;if(P!=null)for(ne in P.key!==void 0&&(le=""+P.key),P)!ue.call(P,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&P.ref===void 0||(Q[ne]=P[ne]);var ne=arguments.length-2;if(ne===1)Q.children=K;else if(1<ne){for(var ve=Array(ne),Ae=0;Ae<ne;Ae++)ve[Ae]=arguments[Ae+2];Q.children=ve}return W(N.type,le,Q)},he.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},he.createElement=function(N,P,K){var Q,le={},ne=null;if(P!=null)for(Q in P.key!==void 0&&(ne=""+P.key),P)ue.call(P,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(le[Q]=P[Q]);var ve=arguments.length-2;if(ve===1)le.children=K;else if(1<ve){for(var Ae=Array(ve),je=0;je<ve;je++)Ae[je]=arguments[je+2];le.children=Ae}if(N&&N.defaultProps)for(Q in ve=N.defaultProps,ve)le[Q]===void 0&&(le[Q]=ve[Q]);return W(N,ne,le)},he.createRef=function(){return{current:null}},he.forwardRef=function(N){return{$$typeof:g,render:N}},he.isValidElement=ye,he.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:oe}},he.memo=function(N,P){return{$$typeof:h,type:N,compare:P===void 0?null:P}},he.startTransition=function(N){var P=J.T,K={};J.T=K;try{var Q=N(),le=J.S;le!==null&&le(K,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(X,Me)}catch(ne){Me(ne)}finally{P!==null&&K.types!==null&&(P.types=K.types),J.T=P}},he.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},he.use=function(N){return J.H.use(N)},he.useActionState=function(N,P,K){return J.H.useActionState(N,P,K)},he.useCallback=function(N,P){return J.H.useCallback(N,P)},he.useContext=function(N){return J.H.useContext(N)},he.useDebugValue=function(){},he.useDeferredValue=function(N,P){return J.H.useDeferredValue(N,P)},he.useEffect=function(N,P){return J.H.useEffect(N,P)},he.useEffectEvent=function(N){return J.H.useEffectEvent(N)},he.useId=function(){return J.H.useId()},he.useImperativeHandle=function(N,P,K){return J.H.useImperativeHandle(N,P,K)},he.useInsertionEffect=function(N,P){return J.H.useInsertionEffect(N,P)},he.useLayoutEffect=function(N,P){return J.H.useLayoutEffect(N,P)},he.useMemo=function(N,P){return J.H.useMemo(N,P)},he.useOptimistic=function(N,P){return J.H.useOptimistic(N,P)},he.useReducer=function(N,P,K){return J.H.useReducer(N,P,K)},he.useRef=function(N){return J.H.useRef(N)},he.useState=function(N){return J.H.useState(N)},he.useSyncExternalStore=function(N,P,K){return J.H.useSyncExternalStore(N,P,K)},he.useTransition=function(){return J.H.useTransition()},he.version="19.2.3",he}var bp;function sc(){return bp||(bp=1,Hu.exports=Hv()),Hu.exports}var Y=sc();const v0=y0(Y);var Bu={exports:{}},Lo={},qu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Bv(){return _p||(_p=1,(function(i){function t(L,F){var oe=L.length;L.push(F);e:for(;0<oe;){var Me=oe-1>>>1,be=L[Me];if(0<r(be,F))L[Me]=F,L[oe]=be,oe=Me;else break e}}function l(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var F=L[0],oe=L.pop();if(oe!==F){L[0]=oe;e:for(var Me=0,be=L.length,N=be>>>1;Me<N;){var P=2*(Me+1)-1,K=L[P],Q=P+1,le=L[Q];if(0>r(K,oe))Q<be&&0>r(le,K)?(L[Me]=le,L[Q]=oe,Me=Q):(L[Me]=K,L[P]=oe,Me=P);else if(Q<be&&0>r(le,oe))L[Me]=le,L[Q]=oe,Me=Q;else break e}}return F}function r(L,F){var oe=L.sortIndex-F.sortIndex;return oe!==0?oe:L.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],x=1,T=null,E=3,_=!1,A=!1,w=!1,M=!1,H=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function z(L){for(var F=l(h);F!==null;){if(F.callback===null)a(h);else if(F.startTime<=L)a(h),F.sortIndex=F.expirationTime,t(y,F);else break;F=l(h)}}function j(L){if(w=!1,z(L),!A)if(l(y)!==null)A=!0,X||(X=!0,Ve());else{var F=l(h);F!==null&&We(j,F.startTime-L)}}var X=!1,J=-1,ue=5,W=-1;function se(){return M?!0:!(i.unstable_now()-W<ue)}function ye(){if(M=!1,X){var L=i.unstable_now();W=L;var F=!0;try{e:{A=!1,w&&(w=!1,$(J),J=-1),_=!0;var oe=E;try{t:{for(z(L),T=l(y);T!==null&&!(T.expirationTime>L&&se());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,E=T.priorityLevel;var be=Me(T.expirationTime<=L);if(L=i.unstable_now(),typeof be=="function"){T.callback=be,z(L),F=!0;break t}T===l(y)&&a(y),z(L)}else a(y);T=l(y)}if(T!==null)F=!0;else{var N=l(h);N!==null&&We(j,N.startTime-L),F=!1}}break e}finally{T=null,E=oe,_=!1}F=void 0}}finally{F?Ve():X=!1}}}var Ve;if(typeof O=="function")Ve=function(){O(ye)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ge=Ee.port2;Ee.port1.onmessage=ye,Ve=function(){Ge.postMessage(null)}}else Ve=function(){H(ye,0)};function We(L,F){J=H(function(){L(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(L){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var oe=E;E=F;try{return L()}finally{E=oe}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var oe=E;E=L;try{return F()}finally{E=oe}},i.unstable_scheduleCallback=function(L,F,oe){var Me=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,L){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=oe+be,L={id:x++,callback:F,priorityLevel:L,startTime:oe,expirationTime:be,sortIndex:-1},oe>Me?(L.sortIndex=oe,t(h,L),l(y)===null&&L===l(h)&&(w?($(J),J=-1):w=!0,We(j,oe-Me))):(L.sortIndex=be,t(y,L),A||_||(A=!0,X||(X=!0,Ve()))),L},i.unstable_shouldYield=se,i.unstable_wrapCallback=function(L){var F=E;return function(){var oe=E;E=F;try{return L.apply(this,arguments)}finally{E=oe}}}})(zu)),zu}var Ap;function qv(){return Ap||(Ap=1,qu.exports=Bv()),qu.exports}var Vu={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function zv(){if(Cp)return _t;Cp=1;var i=sc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_t.createPortal=function(y,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,x)},_t.flushSync=function(y){var h=m.T,x=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=x,a.d.f()}},_t.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},_t.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},_t.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:_}):x==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_t.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},_t.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin);a.d.L(y,x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_t.preloadModule=function(y,h){if(typeof y=="string")if(h){var x=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},_t.requestFormReset=function(y){a.d.r(y)},_t.unstable_batchedUpdates=function(y,h){return y(h)},_t.useFormState=function(y,h,x){return m.H.useFormState(y,h,x)},_t.useFormStatus=function(){return m.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var Np;function Vv(){if(Np)return Vu.exports;Np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Vu.exports=zv(),Vu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function Ov(){if(Rp)return Lo;Rp=1;var i=qv(),t=sc(),l=Vv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(s=f.return,s!==null){o=s;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return y(f),e;if(p===s)return y(f),n;p=p.sibling}throw Error(a(188))}if(o.return!==s.return)o=f,s=p;else{for(var S=!1,b=f.child;b;){if(b===o){S=!0,o=f,s=p;break}if(b===s){S=!0,s=f,o=p;break}b=b.sibling}if(!S){for(b=p.child;b;){if(b===o){S=!0,o=p,s=f;break}if(b===s){S=!0,s=p,o=f;break}b=b.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Ve(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Symbol.for("react.client.reference");function Ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case H:return"Profiler";case M:return"StrictMode";case j:return"Suspense";case X:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case O:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:Ge(e.type)||"Memo";case ue:n=e._payload,e=e._init;try{return Ge(e(n))}catch{}}return null}var We=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],be=-1;function N(e){return{current:e}}function P(e){0>be||(e.current=Me[be],Me[be]=null,be--)}function K(e,n){be++,Me[be]=e.current,e.current=n}var Q=N(null),le=N(null),ne=N(null),ve=N(null);function Ae(e,n){switch(K(ne,n),K(le,e),K(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Om(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Om(n),e=Fm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Q),K(Q,e)}function je(){P(Q),P(le),P(ne)}function xn(e){e.memoizedState!==null&&K(ve,e);var n=Q.current,o=Fm(n,e.type);n!==o&&(K(le,e),K(Q,o))}function de(e){le.current===e&&(P(Q),P(le)),ve.current===e&&(P(ve),wo._currentValue=oe)}var re,Xe;function we(e){if(re===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);re=n&&n[1]||"",Xe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+e+Xe}var lt=!1;function pt(e,n){if(!e||lt)return"";lt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(G){var U=G}Reflect.construct(e,[],V)}else{try{V.call()}catch(G){U=G}e.call(V.prototype)}}else{try{throw Error()}catch(G){U=G}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(G){if(G&&U&&typeof G.stack=="string")return[G.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),S=p[0],b=p[1];if(S&&b){var C=S.split(`
`),D=b.split(`
`);for(f=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(s===C.length||f===D.length)for(s=C.length-1,f=D.length-1;1<=s&&0<=f&&C[s]!==D[f];)f--;for(;1<=s&&0<=f;s--,f--)if(C[s]!==D[f]){if(s!==1||f!==1)do if(s--,f--,0>f||C[s]!==D[f]){var B=`
`+C[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=f);break}}}finally{lt=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?we(o):""}function Bt(e,n){switch(e.tag){case 26:case 27:case 5:return we(e.type);case 16:return we("Lazy");case 13:return e.child!==n&&n!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return we("Activity");default:return""}}function Fi(e){try{var n="",o=null;do n+=Bt(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ct=Object.prototype.hasOwnProperty,Si=i.unstable_scheduleCallback,Ji=i.unstable_cancelCallback,_s=i.unstable_shouldYield,Bl=i.unstable_requestPaint,bt=i.unstable_now,As=i.unstable_getCurrentPriorityLevel,ql=i.unstable_ImmediatePriority,Z=i.unstable_UserBlockingPriority,Se=i.unstable_NormalPriority,Ze=i.unstable_LowPriority,Ce=i.unstable_IdlePriority,nt=i.log,Te=i.unstable_setDisableYieldValue,Le=null,_e=null;function Oe(e){if(typeof nt=="function"&&Te(e),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(Le,e)}catch{}}var Pe=Math.clz32?Math.clz32:cn,wt=Math.log,un=Math.LN2;function cn(e){return e>>>=0,e===0?32:31-(wt(e)/un|0)|0}var qt=256,zt=262144,Vt=4194304;function kt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dn(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var f=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~p,s!==0?f=kt(s):(S&=b,S!==0?f=kt(S):o||(o=b&~e,o!==0&&(f=kt(o))))):(b=s&~p,b!==0?f=kt(b):S!==0?f=kt(S):o||(o=s&~e,o!==0&&(f=kt(o)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,o=n&-n,p>=o||p===32&&(o&4194048)!==0)?n:f}function fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ti(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zl(){var e=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),e}function Vl(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Ol(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _g(e,n,o,s,f,p){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var b=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(o=S&~o;0<o;){var B=31-Pe(o),V=1<<B;b[B]=0,C[B]=-1;var U=D[B];if(U!==null)for(D[B]=null,B=0;B<U.length;B++){var G=U[B];G!==null&&(G.lane&=-536870913)}o&=~V}s!==0&&_c(e,s,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function _c(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Pe(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Ac(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Pe(o),f=1<<s;f&n|e[s]&n&&(e[s]|=n),o&=~f}}function Cc(e,n){var o=n&-n;return o=(o&42)!==0?1:Cs(o),(o&(e.suspendedLanes|n))!==0?0:o}function Cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ns(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nc(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:mp(e.type))}function Rc(e,n){var o=F.p;try{return F.p=e,n()}finally{F.p=o}}var $n=Math.random().toString(36).slice(2),vt="__reactFiber$"+$n,It="__reactProps$"+$n,Ki="__reactContainer$"+$n,Rs="__reactEvents$"+$n,Ag="__reactListeners$"+$n,Cg="__reactHandles$"+$n,Mc="__reactResources$"+$n,Fl="__reactMarker$"+$n;function Ms(e){delete e[vt],delete e[It],delete e[Rs],delete e[Ag],delete e[Cg]}function Yi(e){var n=e[vt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Ki]||o[vt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=jm(e);e!==null;){if(o=e[vt])return o;e=jm(e)}return n}e=o,o=e.parentNode}return null}function $i(e){if(e=e[vt]||e[Ki]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Jl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Xi(e){var n=e[Mc];return n||(n=e[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[Fl]=!0}var wc=new Set,kc={};function Ei(e,n){Qi(e,n),Qi(e+"Capture",n)}function Qi(e,n){for(kc[e]=n,e=0;e<n.length;e++)wc.add(n[e])}var Ng=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},Dc={};function Rg(e){return Ct.call(Dc,e)?!0:Ct.call(Ic,e)?!1:Ng.test(e)?Dc[e]=!0:(Ic[e]=!0,!1)}function zo(e,n,o){if(Rg(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Vo(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function An(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mg(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ws(e){if(!e._valueTracker){var n=Uc(e)?"checked":"value";e._valueTracker=Mg(e,n,""+e[n])}}function Lc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Uc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wg=/[\n"\\]/g;function jt(e){return e.replace(wg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ks(e,n,o,s,f,p,S,b){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qt(n)):e.value!==""+Qt(n)&&(e.value=""+Qt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Is(e,S,Qt(n)):o!=null?Is(e,S,Qt(o)):s!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Qt(b):e.removeAttribute("name")}function Gc(e,n,o,s,f,p,S,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){ws(e);return}o=o!=null?""+Qt(o):"",n=n!=null?""+Qt(n):o,b||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ws(e)}function Is(e,n,o){n==="number"&&Oo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ji(e,n,o,s){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Qt(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Pc(e,n,o){if(n!=null&&(n=""+Qt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Qt(o):""}function Hc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(We(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Qt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),ws(e)}function Zi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||kg.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function qc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&o[f]!==s&&Bc(e,f,s)}else for(var p in n)n.hasOwnProperty(p)&&Bc(e,p,n[p])}function Ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(e){return Dg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Us=null;function Ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,el=null;function zc(e){var n=$i(e);if(n&&(e=n.stateNode)){var o=e[It]||null;e:switch(e=n.stateNode,n.type){case"input":if(ks(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var f=s[It]||null;if(!f)throw Error(a(90));ks(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&Lc(s)}break e;case"textarea":Pc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ji(e,!!o.multiple,n,!1)}}}var Gs=!1;function Vc(e,n,o){if(Gs)return e(n,o);Gs=!0;try{var s=e(n);return s}finally{if(Gs=!1,(Wi!==null||el!==null)&&(ka(),Wi&&(n=Wi,e=el,el=Wi=null,zc(n),e)))for(n=0;n<e.length;n++)zc(e[n])}}function Kl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[It]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Nn)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Ps=!1}var Xn=null,Hs=null,Jo=null;function Oc(){if(Jo)return Jo;var e,n=Hs,o=n.length,s,f="value"in Xn?Xn.value:Xn.textContent,p=f.length;for(e=0;e<o&&n[e]===f[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===f[p-s];s++);return Jo=f.slice(e,1<s?1-s:void 0)}function Ko(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function Fc(){return!1}function Dt(e){function n(o,s,f,p,S){this._reactName=o,this._targetInst=f,this.type=s,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(o=e[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Yo:Fc,this.isPropagationStopped=Fc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=Dt(bi),$l=T({},bi,{view:0,detail:0}),Ug=Dt($l),Bs,qs,Xl,Xo=T({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xl&&(Xl&&e.type==="mousemove"?(Bs=e.screenX-Xl.screenX,qs=e.screenY-Xl.screenY):qs=Bs=0,Xl=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:qs}}),Jc=Dt(Xo),Lg=T({},Xo,{dataTransfer:0}),Gg=Dt(Lg),Pg=T({},$l,{relatedTarget:0}),zs=Dt(Pg),Hg=T({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bg=Dt(Hg),qg=T({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zg=Dt(qg),Vg=T({},bi,{data:0}),Kc=Dt(Vg),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Jg[e])?!!n[e]:!1}function Vs(){return Kg}var Yg=T({},$l,{key:function(e){if(e.key){var n=Og[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$g=Dt(Yg),Xg=T({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=Dt(Xg),Qg=T({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),jg=Dt(Qg),Zg=T({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=Dt(Zg),ey=T({},Xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ty=Dt(ey),ny=T({},bi,{newState:0,oldState:0}),iy=Dt(ny),ly=[9,13,27,32],Os=Nn&&"CompositionEvent"in window,Ql=null;Nn&&"documentMode"in document&&(Ql=document.documentMode);var oy=Nn&&"TextEvent"in window&&!Ql,$c=Nn&&(!Os||Ql&&8<Ql&&11>=Ql),Xc=" ",Qc=!1;function jc(e,n){switch(e){case"keyup":return ly.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tl=!1;function ay(e,n){switch(e){case"compositionend":return Zc(n);case"keypress":return n.which!==32?null:(Qc=!0,Xc);case"textInput":return e=n.data,e===Xc&&Qc?null:e;default:return null}}function sy(e,n){if(tl)return e==="compositionend"||!Os&&jc(e,n)?(e=Oc(),Jo=Hs=Xn=null,tl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $c&&n.locale!=="ko"?null:n.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ry[e.type]:n==="textarea"}function ed(e,n,o,s){Wi?el?el.push(s):el=[s]:Wi=s,n=Ha(n,"onChange"),0<n.length&&(o=new $o("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var jl=null,Zl=null;function uy(e){Pm(e,0)}function Qo(e){var n=Jl(e);if(Lc(n))return e}function td(e,n){if(e==="change")return n}var nd=!1;if(Nn){var Fs;if(Nn){var Js="oninput"in document;if(!Js){var id=document.createElement("div");id.setAttribute("oninput","return;"),Js=typeof id.oninput=="function"}Fs=Js}else Fs=!1;nd=Fs&&(!document.documentMode||9<document.documentMode)}function ld(){jl&&(jl.detachEvent("onpropertychange",od),Zl=jl=null)}function od(e){if(e.propertyName==="value"&&Qo(Zl)){var n=[];ed(n,Zl,e,Ls(e)),Vc(uy,n)}}function cy(e,n,o){e==="focusin"?(ld(),jl=n,Zl=o,jl.attachEvent("onpropertychange",od)):e==="focusout"&&ld()}function dy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(Zl)}function fy(e,n){if(e==="click")return Qo(n)}function my(e,n){if(e==="input"||e==="change")return Qo(n)}function py(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ot=typeof Object.is=="function"?Object.is:py;function Wl(e,n){if(Ot(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var f=o[s];if(!Ct.call(n,f)||!Ot(e[f],n[f]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,n){var o=ad(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ad(o)}}function rd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Oo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Oo(e.document)}return n}function Ks(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var hy=Nn&&"documentMode"in document&&11>=document.documentMode,nl=null,Ys=null,eo=null,$s=!1;function cd(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$s||nl==null||nl!==Oo(s)||(s=nl,"selectionStart"in s&&Ks(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),eo&&Wl(eo,s)||(eo=s,s=Ha(Ys,"onSelect"),0<s.length&&(n=new $o("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=nl)))}function _i(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var il={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Xs={},dd={};Nn&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Ai(e){if(Xs[e])return Xs[e];if(!il[e])return e;var n=il[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in dd)return Xs[e]=n[o];return e}var fd=Ai("animationend"),md=Ai("animationiteration"),pd=Ai("animationstart"),gy=Ai("transitionrun"),yy=Ai("transitionstart"),vy=Ai("transitioncancel"),hd=Ai("transitionend"),gd=new Map,Qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qs.push("scrollEnd");function mn(e,n){gd.set(e,n),Ei(n,[e])}var jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],ll=0,js=0;function Zo(){for(var e=ll,n=js=ll=0;n<e;){var o=Zt[n];Zt[n++]=null;var s=Zt[n];Zt[n++]=null;var f=Zt[n];Zt[n++]=null;var p=Zt[n];if(Zt[n++]=null,s!==null&&f!==null){var S=s.pending;S===null?f.next=f:(f.next=S.next,S.next=f),s.pending=f}p!==0&&yd(o,f,p)}}function Wo(e,n,o,s){Zt[ll++]=e,Zt[ll++]=n,Zt[ll++]=o,Zt[ll++]=s,js|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Zs(e,n,o,s){return Wo(e,n,o,s),ea(e)}function Ci(e,n){return Wo(e,null,null,n),ea(e)}function yd(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var f=!1,p=e.return;p!==null;)p.childLanes|=o,s=p.alternate,s!==null&&(s.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-Pe(o),e=p.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=o|536870912),p):null}function ea(e){if(50<bo)throw bo=0,su=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ol={};function xy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,o,s){return new xy(e,n,o,s)}function Ws(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,n){var o=e.alternate;return o===null?(o=Ft(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function vd(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ta(e,n,o,s,f,p){var S=0;if(s=e,typeof e=="function")Ws(e)&&(S=1);else if(typeof e=="string")S=_v(e,o,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Ft(31,o,n,f),e.elementType=W,e.lanes=p,e;case w:return Ni(o.children,f,p,n);case M:S=8,f|=24;break;case H:return e=Ft(12,o,n,f|2),e.elementType=H,e.lanes=p,e;case j:return e=Ft(13,o,n,f),e.elementType=j,e.lanes=p,e;case X:return e=Ft(19,o,n,f),e.elementType=X,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case $:S=9;break e;case z:S=11;break e;case J:S=14;break e;case ue:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Ft(S,o,n,f),n.elementType=e,n.type=s,n.lanes=p,n}function Ni(e,n,o,s){return e=Ft(7,e,s,n),e.lanes=o,e}function er(e,n,o){return e=Ft(6,e,null,n),e.lanes=o,e}function xd(e){var n=Ft(18,null,null,0);return n.stateNode=e,n}function tr(e,n,o){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sd=new WeakMap;function Wt(e,n){if(typeof e=="object"&&e!==null){var o=Sd.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Fi(n)},Sd.set(e,n),n)}return{value:e,source:n,stack:Fi(n)}}var al=[],sl=0,na=null,to=0,en=[],tn=0,Qn=null,Sn=1,Tn="";function Mn(e,n){al[sl++]=to,al[sl++]=na,na=e,to=n}function Td(e,n,o){en[tn++]=Sn,en[tn++]=Tn,en[tn++]=Qn,Qn=e;var s=Sn;e=Tn;var f=32-Pe(s)-1;s&=~(1<<f),o+=1;var p=32-Pe(n)+f;if(30<p){var S=f-f%5;p=(s&(1<<S)-1).toString(32),s>>=S,f-=S,Sn=1<<32-Pe(n)+f|o<<f|s,Tn=p+e}else Sn=1<<p|o<<f|s,Tn=e}function nr(e){e.return!==null&&(Mn(e,1),Td(e,1,0))}function ir(e){for(;e===na;)na=al[--sl],al[sl]=null,to=al[--sl],al[sl]=null;for(;e===Qn;)Qn=en[--tn],en[tn]=null,Tn=en[--tn],en[tn]=null,Sn=en[--tn],en[tn]=null}function Ed(e,n){en[tn++]=Sn,en[tn++]=Tn,en[tn++]=Qn,Sn=n.id,Tn=n.overflow,Qn=e}var xt=null,et=null,De=!1,jn=null,nn=!1,lr=Error(a(519));function Zn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw no(Wt(n,e)),lr}function bd(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[vt]=e,n[It]=s,o){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(o=0;o<Ao.length;o++)Re(Ao[o],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),Gc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),Hc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||zm(n.textContent,o)?(s.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),s.onScroll!=null&&Re("scroll",n),s.onScrollEnd!=null&&Re("scrollend",n),s.onClick!=null&&(n.onclick=Cn),n=!0):n=!1,n||Zn(e,!0)}function _d(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:xt=xt.return}}function rl(e){if(e!==xt)return!1;if(!De)return _d(e),De=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Eu(e.type,e.memoizedProps)),o=!o),o&&et&&Zn(e),_d(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));et=Qm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));et=Qm(e)}else n===27?(n=et,fi(e.type)?(e=Nu,Nu=null,et=e):et=n):et=xt?on(e.stateNode.nextSibling):null;return!0}function Ri(){et=xt=null,De=!1}function or(){var e=jn;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),jn=null),e}function no(e){jn===null?jn=[e]:jn.push(e)}var ar=N(null),Mi=null,wn=null;function Wn(e,n,o){K(ar,n._currentValue),n._currentValue=o}function kn(e){e._currentValue=ar.current,P(ar)}function sr(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function rr(e,n,o,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var C=0;C<n.length;C++)if(b.context===n[C]){p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),sr(p.return,o,e),s||(S=null);break e}p=b.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(a(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),sr(S,o,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function ul(e,n,o,s){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var b=f.type;Ot(f.pendingProps.value,S.value)||(e!==null?e.push(b):e=[b])}}else if(f===ve.current){if(S=f.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(wo):e=[wo])}f=f.return}e!==null&&rr(n,e,o,s),n.flags|=262144}function ia(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Mi=e,wn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return Ad(Mi,e)}function la(e,n){return Mi===null&&wi(e),Ad(e,n)}function Ad(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},wn===null){if(e===null)throw Error(a(308));wn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else wn=wn.next=n;return o}var Sy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Ty=i.unstable_scheduleCallback,Ey=i.unstable_NormalPriority,ut={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ur(){return{controller:new Sy,data:new Map,refCount:0}}function io(e){e.refCount--,e.refCount===0&&Ty(Ey,function(){e.controller.abort()})}var lo=null,cr=0,cl=0,dl=null;function by(e,n){if(lo===null){var o=lo=[];cr=0,cl=mu(),dl={status:"pending",value:void 0,then:function(s){o.push(s)}}}return cr++,n.then(Cd,Cd),n}function Cd(){if(--cr===0&&lo!==null){dl!==null&&(dl.status="fulfilled");var e=lo;lo=null,cl=0,dl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _y(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<o.length;f++)(0,o[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),s}var Nd=L.S;L.S=function(e,n){dm=bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&by(e,n),Nd!==null&&Nd(e,n)};var ki=N(null);function dr(){var e=ki.current;return e!==null?e:Qe.pooledCache}function oa(e,n){n===null?K(ki,ki.current):K(ki,n.pool)}function Rd(){var e=dr();return e===null?null:{parent:ut._currentValue,pool:e}}var fl=Error(a(460)),fr=Error(a(474)),aa=Error(a(542)),sa={then:function(){}};function Md(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wd(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Cn,Cn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Id(e),e;default:if(typeof n.status=="string")n.then(Cn,Cn);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Id(e),e}throw Di=n,fl}}function Ii(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Di=o,fl):o}}var Di=null;function kd(){if(Di===null)throw Error(a(459));var e=Di;return Di=null,e}function Id(e){if(e===fl||e===aa)throw Error(a(483))}var ml=null,oo=0;function ra(e){var n=oo;return oo+=1,ml===null&&(ml=[]),wd(ml,e,n)}function ao(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ua(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dd(e){function n(k,R){if(e){var I=k.deletions;I===null?(k.deletions=[R],k.flags|=16):I.push(R)}}function o(k,R){if(!e)return null;for(;R!==null;)n(k,R),R=R.sibling;return null}function s(k){for(var R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function f(k,R){return k=Rn(k,R),k.index=0,k.sibling=null,k}function p(k,R,I){return k.index=I,e?(I=k.alternate,I!==null?(I=I.index,I<R?(k.flags|=67108866,R):I):(k.flags|=67108866,R)):(k.flags|=1048576,R)}function S(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,R,I,q){return R===null||R.tag!==6?(R=er(I,k.mode,q),R.return=k,R):(R=f(R,I),R.return=k,R)}function C(k,R,I,q){var ce=I.type;return ce===w?B(k,R,I.props.children,q,I.key):R!==null&&(R.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ue&&Ii(ce)===R.type)?(R=f(R,I.props),ao(R,I),R.return=k,R):(R=ta(I.type,I.key,I.props,null,k.mode,q),ao(R,I),R.return=k,R)}function D(k,R,I,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=tr(I,k.mode,q),R.return=k,R):(R=f(R,I.children||[]),R.return=k,R)}function B(k,R,I,q,ce){return R===null||R.tag!==7?(R=Ni(I,k.mode,q,ce),R.return=k,R):(R=f(R,I),R.return=k,R)}function V(k,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=er(""+R,k.mode,I),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return I=ta(R.type,R.key,R.props,null,k.mode,I),ao(I,R),I.return=k,I;case A:return R=tr(R,k.mode,I),R.return=k,R;case ue:return R=Ii(R),V(k,R,I)}if(We(R)||Ve(R))return R=Ni(R,k.mode,I,null),R.return=k,R;if(typeof R.then=="function")return V(k,ra(R),I);if(R.$$typeof===O)return V(k,la(k,R),I);ua(k,R)}return null}function U(k,R,I,q){var ce=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ce!==null?null:b(k,R,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return I.key===ce?C(k,R,I,q):null;case A:return I.key===ce?D(k,R,I,q):null;case ue:return I=Ii(I),U(k,R,I,q)}if(We(I)||Ve(I))return ce!==null?null:B(k,R,I,q,null);if(typeof I.then=="function")return U(k,R,ra(I),q);if(I.$$typeof===O)return U(k,R,la(k,I),q);ua(k,I)}return null}function G(k,R,I,q,ce){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return k=k.get(I)||null,b(R,k,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return k=k.get(q.key===null?I:q.key)||null,C(R,k,q,ce);case A:return k=k.get(q.key===null?I:q.key)||null,D(R,k,q,ce);case ue:return q=Ii(q),G(k,R,I,q,ce)}if(We(q)||Ve(q))return k=k.get(I)||null,B(R,k,q,ce,null);if(typeof q.then=="function")return G(k,R,I,ra(q),ce);if(q.$$typeof===O)return G(k,R,I,la(R,q),ce);ua(R,q)}return null}function ie(k,R,I,q){for(var ce=null,He=null,ae=R,xe=R=0,Ie=null;ae!==null&&xe<I.length;xe++){ae.index>xe?(Ie=ae,ae=null):Ie=ae.sibling;var Be=U(k,ae,I[xe],q);if(Be===null){ae===null&&(ae=Ie);break}e&&ae&&Be.alternate===null&&n(k,ae),R=p(Be,R,xe),He===null?ce=Be:He.sibling=Be,He=Be,ae=Ie}if(xe===I.length)return o(k,ae),De&&Mn(k,xe),ce;if(ae===null){for(;xe<I.length;xe++)ae=V(k,I[xe],q),ae!==null&&(R=p(ae,R,xe),He===null?ce=ae:He.sibling=ae,He=ae);return De&&Mn(k,xe),ce}for(ae=s(ae);xe<I.length;xe++)Ie=G(ae,k,xe,I[xe],q),Ie!==null&&(e&&Ie.alternate!==null&&ae.delete(Ie.key===null?xe:Ie.key),R=p(Ie,R,xe),He===null?ce=Ie:He.sibling=Ie,He=Ie);return e&&ae.forEach(function(yi){return n(k,yi)}),De&&Mn(k,xe),ce}function fe(k,R,I,q){if(I==null)throw Error(a(151));for(var ce=null,He=null,ae=R,xe=R=0,Ie=null,Be=I.next();ae!==null&&!Be.done;xe++,Be=I.next()){ae.index>xe?(Ie=ae,ae=null):Ie=ae.sibling;var yi=U(k,ae,Be.value,q);if(yi===null){ae===null&&(ae=Ie);break}e&&ae&&yi.alternate===null&&n(k,ae),R=p(yi,R,xe),He===null?ce=yi:He.sibling=yi,He=yi,ae=Ie}if(Be.done)return o(k,ae),De&&Mn(k,xe),ce;if(ae===null){for(;!Be.done;xe++,Be=I.next())Be=V(k,Be.value,q),Be!==null&&(R=p(Be,R,xe),He===null?ce=Be:He.sibling=Be,He=Be);return De&&Mn(k,xe),ce}for(ae=s(ae);!Be.done;xe++,Be=I.next())Be=G(ae,k,xe,Be.value,q),Be!==null&&(e&&Be.alternate!==null&&ae.delete(Be.key===null?xe:Be.key),R=p(Be,R,xe),He===null?ce=Be:He.sibling=Be,He=Be);return e&&ae.forEach(function(Lv){return n(k,Lv)}),De&&Mn(k,xe),ce}function $e(k,R,I,q){if(typeof I=="object"&&I!==null&&I.type===w&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _:e:{for(var ce=I.key;R!==null;){if(R.key===ce){if(ce=I.type,ce===w){if(R.tag===7){o(k,R.sibling),q=f(R,I.props.children),q.return=k,k=q;break e}}else if(R.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ue&&Ii(ce)===R.type){o(k,R.sibling),q=f(R,I.props),ao(q,I),q.return=k,k=q;break e}o(k,R);break}else n(k,R);R=R.sibling}I.type===w?(q=Ni(I.props.children,k.mode,q,I.key),q.return=k,k=q):(q=ta(I.type,I.key,I.props,null,k.mode,q),ao(q,I),q.return=k,k=q)}return S(k);case A:e:{for(ce=I.key;R!==null;){if(R.key===ce)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){o(k,R.sibling),q=f(R,I.children||[]),q.return=k,k=q;break e}else{o(k,R);break}else n(k,R);R=R.sibling}q=tr(I,k.mode,q),q.return=k,k=q}return S(k);case ue:return I=Ii(I),$e(k,R,I,q)}if(We(I))return ie(k,R,I,q);if(Ve(I)){if(ce=Ve(I),typeof ce!="function")throw Error(a(150));return I=ce.call(I),fe(k,R,I,q)}if(typeof I.then=="function")return $e(k,R,ra(I),q);if(I.$$typeof===O)return $e(k,R,la(k,I),q);ua(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(o(k,R.sibling),q=f(R,I),q.return=k,k=q):(o(k,R),q=er(I,k.mode,q),q.return=k,k=q),S(k)):o(k,R)}return function(k,R,I,q){try{oo=0;var ce=$e(k,R,I,q);return ml=null,ce}catch(ae){if(ae===fl||ae===aa)throw ae;var He=Ft(29,ae,null,k.mode);return He.lanes=q,He.return=k,He}finally{}}}var Ui=Dd(!0),Ud=Dd(!1),ei=!1;function mr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ni(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=ea(e),yd(e,null,o),n}return Wo(e,s,n,o),ea(e)}function so(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Ac(e,o)}}function hr(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?f=p=n:p=p.next=n}else f=p=n;o={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var gr=!1;function ro(){if(gr){var e=dl;if(e!==null)throw e}}function uo(e,n,o,s){gr=!1;var f=e.updateQueue;ei=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,D=C.next;C.next=null,S===null?p=D:S.next=D,S=C;var B=e.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==S&&(b===null?B.firstBaseUpdate=D:b.next=D,B.lastBaseUpdate=C))}if(p!==null){var V=f.baseState;S=0,B=D=C=null,b=p;do{var U=b.lane&-536870913,G=U!==b.lane;if(G?(ke&U)===U:(s&U)===U){U!==0&&U===cl&&(gr=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ie=e,fe=b;U=n;var $e=o;switch(fe.tag){case 1:if(ie=fe.payload,typeof ie=="function"){V=ie.call($e,V,U);break e}V=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=fe.payload,U=typeof ie=="function"?ie.call($e,V,U):ie,U==null)break e;V=T({},V,U);break e;case 2:ei=!0}}U=b.callback,U!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[U]:G.push(U))}else G={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(D=B=G,C=V):B=B.next=G,S|=U;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);B===null&&(C=V),f.baseState=C,f.firstBaseUpdate=D,f.lastBaseUpdate=B,p===null&&(f.shared.lanes=0),si|=S,e.lanes=S,e.memoizedState=V}}function Ld(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Gd(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Ld(o[e],n)}var pl=N(null),ca=N(0);function Pd(e,n){e=qn,K(ca,e),K(pl,n),qn=e|n.baseLanes}function yr(){K(ca,qn),K(pl,pl.current)}function vr(){qn=ca.current,P(pl),P(ca)}var Jt=N(null),ln=null;function ii(e){var n=e.alternate;K(st,st.current&1),K(Jt,e),ln===null&&(n===null||pl.current!==null||n.memoizedState!==null)&&(ln=e)}function xr(e){K(st,st.current),K(Jt,e),ln===null&&(ln=e)}function Hd(e){e.tag===22?(K(st,st.current),K(Jt,e),ln===null&&(ln=e)):li()}function li(){K(st,st.current),K(Jt,Jt.current)}function Kt(e){P(Jt),ln===e&&(ln=null),P(st)}var st=N(0);function da(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Au(o)||Cu(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var In=0,ge=null,Ke=null,ct=null,fa=!1,hl=!1,Li=!1,ma=0,co=0,gl=null,Ay=0;function ot(){throw Error(a(321))}function Sr(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Ot(e[o],n[o]))return!1;return!0}function Tr(e,n,o,s,f,p){return In=p,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Ef:Gr,Li=!1,p=o(s,f),Li=!1,hl&&(p=qd(n,o,s,f)),Bd(e),p}function Bd(e){L.H=po;var n=Ke!==null&&Ke.next!==null;if(In=0,ct=Ke=ge=null,fa=!1,co=0,gl=null,n)throw Error(a(300));e===null||dt||(e=e.dependencies,e!==null&&ia(e)&&(dt=!0))}function qd(e,n,o,s){ge=e;var f=0;do{if(hl&&(gl=null),co=0,hl=!1,25<=f)throw Error(a(301));if(f+=1,ct=Ke=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=bf,p=n(o,s)}while(hl);return p}function Cy(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?fo(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(ge.flags|=1024),n}function Er(){var e=ma!==0;return ma=0,e}function br(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function _r(e){if(fa){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fa=!1}In=0,ct=Ke=ge=null,hl=!1,co=ma=0,gl=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?ge.memoizedState=ct=e:ct=ct.next=e,ct}function rt(){if(Ke===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=ct===null?ge.memoizedState:ct.next;if(n!==null)ct=n,Ke=e;else{if(e===null)throw ge.alternate===null?Error(a(467)):Error(a(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},ct===null?ge.memoizedState=ct=e:ct=ct.next=e}return ct}function pa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(e){var n=co;return co+=1,gl===null&&(gl=[]),e=wd(gl,e,n),n=ge,(ct===null?n.memoizedState:ct.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Ef:Gr),e}function ha(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fo(e);if(e.$$typeof===O)return St(e)}throw Error(a(438,String(e)))}function Ar(e){var n=null,o=ge.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=pa(),ge.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=se;return n.index++,o}function Dn(e,n){return typeof n=="function"?n(e):n}function ga(e){var n=rt();return Cr(n,Ke,e)}function Cr(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var f=e.baseQueue,p=s.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}n.baseQueue=f=p,s.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var b=S=null,C=null,D=n,B=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(ke&V)===V:(In&V)===V){var U=D.revertLane;if(U===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===cl&&(B=!0);else if((In&U)===U){D=D.next,U===cl&&(B=!0);continue}else V={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(b=C=V,S=p):C=C.next=V,ge.lanes|=U,si|=U;V=D.action,Li&&o(p,V),p=D.hasEagerState?D.eagerState:o(p,V)}else U={lane:V,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(b=C=U,S=p):C=C.next=U,ge.lanes|=V,si|=V;D=D.next}while(D!==null&&D!==n);if(C===null?S=p:C.next=b,!Ot(p,e.memoizedState)&&(dt=!0,B&&(o=dl,o!==null)))throw o;e.memoizedState=p,e.baseState=S,e.baseQueue=C,s.lastRenderedState=p}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Nr(e){var n=rt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,f=o.pending,p=n.memoizedState;if(f!==null){o.pending=null;var S=f=f.next;do p=e(p,S.action),S=S.next;while(S!==f);Ot(p,n.memoizedState)||(dt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,s]}function zd(e,n,o){var s=ge,f=rt(),p=De;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!Ot((Ke||f).memoizedState,o);if(S&&(f.memoizedState=o,dt=!0),f=f.queue,wr(Fd.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||ct!==null&&ct.memoizedState.tag&1){if(s.flags|=2048,yl(9,{destroy:void 0},Od.bind(null,s,f,o,n),null),Qe===null)throw Error(a(349));p||(In&127)!==0||Vd(s,n,o)}return o}function Vd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ge.updateQueue,n===null?(n=pa(),ge.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Od(e,n,o,s){n.value=o,n.getSnapshot=s,Jd(n)&&Kd(e)}function Fd(e,n,o){return o(function(){Jd(n)&&Kd(e)})}function Jd(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Ot(e,o)}catch{return!0}}function Kd(e){var n=Ci(e,2);n!==null&&Ht(n,e,2)}function Rr(e){var n=Nt();if(typeof e=="function"){var o=e;if(e=o(),Li){Oe(!0);try{o()}finally{Oe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},n}function Yd(e,n,o,s){return e.baseState=o,Cr(e,Ke,typeof s=="function"?s:Dn)}function Ny(e,n,o,s,f){if(xa(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};L.T!==null?o(!0):p.isTransition=!1,s(p),o=n.pending,o===null?(p.next=n.pending=p,$d(n,p)):(p.next=o.next,n.pending=o.next=p)}}function $d(e,n){var o=n.action,s=n.payload,f=e.state;if(n.isTransition){var p=L.T,S={};L.T=S;try{var b=o(f,s),C=L.S;C!==null&&C(S,b),Xd(e,n,b)}catch(D){Mr(e,n,D)}finally{p!==null&&S.types!==null&&(p.types=S.types),L.T=p}}else try{p=o(f,s),Xd(e,n,p)}catch(D){Mr(e,n,D)}}function Xd(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Qd(e,n,s)},function(s){return Mr(e,n,s)}):Qd(e,n,o)}function Qd(e,n,o){n.status="fulfilled",n.value=o,jd(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,$d(e,o)))}function Mr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,jd(n),n=n.next;while(n!==s)}e.action=null}function jd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zd(e,n){return n}function Wd(e,n){if(De){var o=Qe.formState;if(o!==null){e:{var s=ge;if(De){if(et){t:{for(var f=et,p=nn;f.nodeType!==8;){if(!p){f=null;break t}if(f=on(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){et=on(f.nextSibling),s=f.data==="F!";break e}}Zn(s)}s=!1}s&&(n=o[0])}}return o=Nt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:n},o.queue=s,o=xf.bind(null,ge,s),s.dispatch=o,s=Rr(!1),p=Lr.bind(null,ge,!1,s.queue),s=Nt(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,o=Ny.bind(null,ge,f,p,o),f.dispatch=o,s.memoizedState=e,[n,o,!1]}function ef(e){var n=rt();return tf(n,Ke,e)}function tf(e,n,o){if(n=Cr(e,n,Zd)[0],e=ga(Dn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=fo(n)}catch(S){throw S===fl?aa:S}else s=n;n=rt();var f=n.queue,p=f.dispatch;return o!==n.memoizedState&&(ge.flags|=2048,yl(9,{destroy:void 0},Ry.bind(null,f,o),null)),[s,p,e]}function Ry(e,n){e.action=n}function nf(e){var n=rt(),o=Ke;if(o!==null)return tf(n,o,e);rt(),n=n.memoizedState,o=rt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function yl(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=ge.updateQueue,n===null&&(n=pa(),ge.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function lf(){return rt().memoizedState}function ya(e,n,o,s){var f=Nt();ge.flags|=e,f.memoizedState=yl(1|n,{destroy:void 0},o,s===void 0?null:s)}function va(e,n,o,s){var f=rt();s=s===void 0?null:s;var p=f.memoizedState.inst;Ke!==null&&s!==null&&Sr(s,Ke.memoizedState.deps)?f.memoizedState=yl(n,p,o,s):(ge.flags|=e,f.memoizedState=yl(1|n,p,o,s))}function of(e,n){ya(8390656,8,e,n)}function wr(e,n){va(2048,8,e,n)}function My(e){ge.flags|=4;var n=ge.updateQueue;if(n===null)n=pa(),ge.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function af(e){var n=rt().memoizedState;return My({ref:n,nextImpl:e}),function(){if((ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function sf(e,n){return va(4,2,e,n)}function rf(e,n){return va(4,4,e,n)}function uf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cf(e,n,o){o=o!=null?o.concat([e]):null,va(4,4,uf.bind(null,n,e),o)}function kr(){}function df(e,n){var o=rt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&Sr(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function ff(e,n){var o=rt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&Sr(n,s[1]))return s[0];if(s=e(),Li){Oe(!0);try{e()}finally{Oe(!1)}}return o.memoizedState=[s,n],s}function Ir(e,n,o){return o===void 0||(In&1073741824)!==0&&(ke&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=mm(),ge.lanes|=e,si|=e,o)}function mf(e,n,o,s){return Ot(o,n)?o:pl.current!==null?(e=Ir(e,o,s),Ot(e,n)||(dt=!0),e):(In&42)===0||(In&1073741824)!==0&&(ke&261930)===0?(dt=!0,e.memoizedState=o):(e=mm(),ge.lanes|=e,si|=e,n)}function pf(e,n,o,s,f){var p=F.p;F.p=p!==0&&8>p?p:8;var S=L.T,b={};L.T=b,Lr(e,!1,n,o);try{var C=f(),D=L.S;if(D!==null&&D(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=_y(C,s);mo(e,n,B,Xt(e))}else mo(e,n,s,Xt(e))}catch(V){mo(e,n,{then:function(){},status:"rejected",reason:V},Xt())}finally{F.p=p,S!==null&&b.types!==null&&(S.types=b.types),L.T=S}}function wy(){}function Dr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var f=hf(e).queue;pf(e,f,n,oe,o===null?wy:function(){return gf(e),o(s)})}function hf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:oe},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gf(e){var n=hf(e);n.next===null&&(n=e.alternate.memoizedState),mo(e,n.next.queue,{},Xt())}function Ur(){return St(wo)}function yf(){return rt().memoizedState}function vf(){return rt().memoizedState}function ky(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Xt();e=ti(o);var s=ni(n,e,o);s!==null&&(Ht(s,n,o),so(s,n,o)),n={cache:ur()},e.payload=n;return}n=n.return}}function Iy(e,n,o){var s=Xt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xa(e)?Sf(n,o):(o=Zs(e,n,o,s),o!==null&&(Ht(o,e,s),Tf(o,n,s)))}function xf(e,n,o){var s=Xt();mo(e,n,o,s)}function mo(e,n,o,s){var f={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(xa(e))Sf(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,b=p(S,o);if(f.hasEagerState=!0,f.eagerState=b,Ot(b,S))return Wo(e,n,f,0),Qe===null&&Zo(),!1}catch{}finally{}if(o=Zs(e,n,f,s),o!==null)return Ht(o,e,s),Tf(o,n,s),!0}return!1}function Lr(e,n,o,s){if(s={lane:2,revertLane:mu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xa(e)){if(n)throw Error(a(479))}else n=Zs(e,o,s,2),n!==null&&Ht(n,e,2)}function xa(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function Sf(e,n){hl=fa=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Tf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Ac(e,o)}}var po={readContext:St,use:ha,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};po.useEffectEvent=ot;var Ef={readContext:St,use:ha,useCallback:function(e,n){return Nt().memoizedState=[e,n===void 0?null:n],e},useContext:St,useEffect:of,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,ya(4194308,4,uf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return ya(4194308,4,e,n)},useInsertionEffect:function(e,n){ya(4,2,e,n)},useMemo:function(e,n){var o=Nt();n=n===void 0?null:n;var s=e();if(Li){Oe(!0);try{e()}finally{Oe(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Nt();if(o!==void 0){var f=o(n);if(Li){Oe(!0);try{o(n)}finally{Oe(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=Iy.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var n=Nt();return e={current:e},n.memoizedState=e},useState:function(e){e=Rr(e);var n=e.queue,o=xf.bind(null,ge,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:kr,useDeferredValue:function(e,n){var o=Nt();return Ir(o,e,n)},useTransition:function(){var e=Rr(!1);return e=pf.bind(null,ge,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=ge,f=Nt();if(De){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Qe===null)throw Error(a(349));(ke&127)!==0||Vd(s,n,o)}f.memoizedState=o;var p={value:o,getSnapshot:n};return f.queue=p,of(Fd.bind(null,s,p,e),[e]),s.flags|=2048,yl(9,{destroy:void 0},Od.bind(null,s,p,o,n),null),o},useId:function(){var e=Nt(),n=Qe.identifierPrefix;if(De){var o=Tn,s=Sn;o=(s&~(1<<32-Pe(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=ma++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Ay++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ur,useFormState:Wd,useActionState:Wd,useOptimistic:function(e){var n=Nt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Lr.bind(null,ge,!0,o),o.dispatch=n,[e,n]},useMemoCache:Ar,useCacheRefresh:function(){return Nt().memoizedState=ky.bind(null,ge)},useEffectEvent:function(e){var n=Nt(),o={impl:e};return n.memoizedState=o,function(){if((ze&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Gr={readContext:St,use:ha,useCallback:df,useContext:St,useEffect:wr,useImperativeHandle:cf,useInsertionEffect:sf,useLayoutEffect:rf,useMemo:ff,useReducer:ga,useRef:lf,useState:function(){return ga(Dn)},useDebugValue:kr,useDeferredValue:function(e,n){var o=rt();return mf(o,Ke.memoizedState,e,n)},useTransition:function(){var e=ga(Dn)[0],n=rt().memoizedState;return[typeof e=="boolean"?e:fo(e),n]},useSyncExternalStore:zd,useId:yf,useHostTransitionStatus:Ur,useFormState:ef,useActionState:ef,useOptimistic:function(e,n){var o=rt();return Yd(o,Ke,e,n)},useMemoCache:Ar,useCacheRefresh:vf};Gr.useEffectEvent=af;var bf={readContext:St,use:ha,useCallback:df,useContext:St,useEffect:wr,useImperativeHandle:cf,useInsertionEffect:sf,useLayoutEffect:rf,useMemo:ff,useReducer:Nr,useRef:lf,useState:function(){return Nr(Dn)},useDebugValue:kr,useDeferredValue:function(e,n){var o=rt();return Ke===null?Ir(o,e,n):mf(o,Ke.memoizedState,e,n)},useTransition:function(){var e=Nr(Dn)[0],n=rt().memoizedState;return[typeof e=="boolean"?e:fo(e),n]},useSyncExternalStore:zd,useId:yf,useHostTransitionStatus:Ur,useFormState:nf,useActionState:nf,useOptimistic:function(e,n){var o=rt();return Ke!==null?Yd(o,Ke,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ar,useCacheRefresh:vf};bf.useEffectEvent=af;function Pr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:T({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Hr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Xt(),f=ti(s);f.payload=n,o!=null&&(f.callback=o),n=ni(e,f,s),n!==null&&(Ht(n,e,s),so(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Xt(),f=ti(s);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=ni(e,f,s),n!==null&&(Ht(n,e,s),so(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Xt(),s=ti(o);s.tag=2,n!=null&&(s.callback=n),n=ni(e,s,o),n!==null&&(Ht(n,e,o),so(n,e,o))}};function _f(e,n,o,s,f,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,S):n.prototype&&n.prototype.isPureReactComponent?!Wl(o,s)||!Wl(f,p):!0}function Af(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Hr.enqueueReplaceState(n,n.state,null)}function Gi(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=T({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function Cf(e){jo(e)}function Nf(e){console.error(e)}function Rf(e){jo(e)}function Sa(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Mf(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Br(e,n,o){return o=ti(o),o.tag=3,o.payload={element:null},o.callback=function(){Sa(e,n)},o}function wf(e){return e=ti(e),e.tag=3,e}function kf(e,n,o,s){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;e.payload=function(){return f(p)},e.callback=function(){Mf(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Mf(n,o,s),typeof f!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function Dy(e,n,o,s,f){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&ul(n,o,f,!0),o=Jt.current,o!==null){switch(o.tag){case 31:case 13:return ln===null?Ia():o.alternate===null&&at===0&&(at=3),o.flags&=-257,o.flags|=65536,o.lanes=f,s===sa?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),cu(e,s,f)),!1;case 22:return o.flags|=65536,s===sa?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),cu(e,s,f)),!1}throw Error(a(435,o.tag))}return cu(e,s,f),Ia(),!1}if(De)return n=Jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==lr&&(e=Error(a(422),{cause:s}),no(Wt(e,o)))):(s!==lr&&(n=Error(a(423),{cause:s}),no(Wt(n,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Wt(s,o),f=Br(e.stateNode,s,f),hr(e,f),at!==4&&(at=2)),!1;var p=Error(a(520),{cause:s});if(p=Wt(p,o),Eo===null?Eo=[p]:Eo.push(p),at!==4&&(at=2),n===null)return!0;s=Wt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=Br(o.stateNode,s,e),hr(o,e),!1;case 1:if(n=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ri===null||!ri.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=wf(f),kf(f,e,o,s),hr(o,f),!1}o=o.return}while(o!==null);return!1}var qr=Error(a(461)),dt=!1;function Tt(e,n,o,s){n.child=e===null?Ud(n,null,o,s):Ui(n,e.child,o,s)}function If(e,n,o,s,f){o=o.render;var p=n.ref;if("ref"in s){var S={};for(var b in s)b!=="ref"&&(S[b]=s[b])}else S=s;return wi(n),s=Tr(e,n,o,S,p,f),b=Er(),e!==null&&!dt?(br(e,n,f),Un(e,n,f)):(De&&b&&nr(n),n.flags|=1,Tt(e,n,s,f),n.child)}function Df(e,n,o,s,f){if(e===null){var p=o.type;return typeof p=="function"&&!Ws(p)&&p.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=p,Uf(e,n,p,s,f)):(e=ta(o.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!$r(e,f)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:Wl,o(S,s)&&e.ref===n.ref)return Un(e,n,f)}return n.flags|=1,e=Rn(p,s),e.ref=n.ref,e.return=n,n.child=e}function Uf(e,n,o,s,f){if(e!==null){var p=e.memoizedProps;if(Wl(p,s)&&e.ref===n.ref)if(dt=!1,n.pendingProps=s=p,$r(e,f))(e.flags&131072)!==0&&(dt=!0);else return n.lanes=e.lanes,Un(e,n,f)}return zr(e,n,o,s,f)}function Lf(e,n,o,s){var f=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~p}else s=0,n.child=null;return Gf(e,n,p,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&oa(n,p!==null?p.cachePool:null),p!==null?Pd(n,p):yr(),Hd(n);else return s=n.lanes=536870912,Gf(e,n,p!==null?p.baseLanes|o:o,o,s)}else p!==null?(oa(n,p.cachePool),Pd(n,p),li(),n.memoizedState=null):(e!==null&&oa(n,null),yr(),li());return Tt(e,n,f,o),n.child}function ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gf(e,n,o,s,f){var p=dr();return p=p===null?null:{parent:ut._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},e!==null&&oa(n,null),yr(),Hd(n),e!==null&&ul(e,n,s,!0),n.childLanes=f,null}function Ta(e,n){return n=ba({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Pf(e,n,o){return Ui(n,e.child,null,o),e=Ta(n,n.pendingProps),e.flags|=2,Kt(n),n.memoizedState=null,e}function Uy(e,n,o){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(De){if(s.mode==="hidden")return e=Ta(n,s),n.lanes=536870912,ho(null,e);if(xr(n),(e=et)?(e=Xm(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:Sn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},o=xd(e),o.return=n,n.child=o,xt=n,et=null)):e=null,e===null)throw Zn(n);return n.lanes=536870912,null}return Ta(n,s)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(xr(n),f)if(n.flags&256)n.flags&=-257,n=Pf(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(dt||ul(e,n,o,!1),f=(o&e.childLanes)!==0,dt||f){if(s=Qe,s!==null&&(S=Cc(s,o),S!==0&&S!==p.retryLane))throw p.retryLane=S,Ci(e,S),Ht(s,e,S),qr;Ia(),n=Pf(e,n,o)}else e=p.treeContext,et=on(S.nextSibling),xt=n,De=!0,jn=null,nn=!1,e!==null&&Ed(n,e),n=Ta(n,s),n.flags|=4096;return n}return e=Rn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ea(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function zr(e,n,o,s,f){return wi(n),o=Tr(e,n,o,s,void 0,f),s=Er(),e!==null&&!dt?(br(e,n,f),Un(e,n,f)):(De&&s&&nr(n),n.flags|=1,Tt(e,n,o,f),n.child)}function Hf(e,n,o,s,f,p){return wi(n),n.updateQueue=null,o=qd(n,s,o,f),Bd(e),s=Er(),e!==null&&!dt?(br(e,n,p),Un(e,n,p)):(De&&s&&nr(n),n.flags|=1,Tt(e,n,o,p),n.child)}function Bf(e,n,o,s,f){if(wi(n),n.stateNode===null){var p=ol,S=o.contextType;typeof S=="object"&&S!==null&&(p=St(S)),p=new o(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},mr(n),S=o.contextType,p.context=typeof S=="object"&&S!==null?St(S):ol,p.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Pr(n,o,S,s),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Hr.enqueueReplaceState(p,p.state,null),uo(n,s,p,f),ro(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var b=n.memoizedProps,C=Gi(o,b);p.props=C;var D=p.context,B=o.contextType;S=ol,typeof B=="object"&&B!==null&&(S=St(B));var V=o.getDerivedStateFromProps;B=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||D!==S)&&Af(n,p,s,S),ei=!1;var U=n.memoizedState;p.state=U,uo(n,s,p,f),ro(),D=n.memoizedState,b||U!==D||ei?(typeof V=="function"&&(Pr(n,o,V,s),D=n.memoizedState),(C=ei||_f(n,o,C,s,U,D,S))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),p.props=s,p.state=D,p.context=S,s=C):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,pr(e,n),S=n.memoizedProps,B=Gi(o,S),p.props=B,V=n.pendingProps,U=p.context,D=o.contextType,C=ol,typeof D=="object"&&D!==null&&(C=St(D)),b=o.getDerivedStateFromProps,(D=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==V||U!==C)&&Af(n,p,s,C),ei=!1,U=n.memoizedState,p.state=U,uo(n,s,p,f),ro();var G=n.memoizedState;S!==V||U!==G||ei||e!==null&&e.dependencies!==null&&ia(e.dependencies)?(typeof b=="function"&&(Pr(n,o,b,s),G=n.memoizedState),(B=ei||_f(n,o,B,s,U,G,C)||e!==null&&e.dependencies!==null&&ia(e.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,G,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,G,C)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=G),p.props=s,p.state=G,p.context=C,s=B):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,Ea(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=Ui(n,e.child,null,f),n.child=Ui(n,null,o,f)):Tt(e,n,o,f),n.memoizedState=p.state,e=n.child):e=Un(e,n,f),e}function qf(e,n,o,s){return Ri(),n.flags|=256,Tt(e,n,o,s),n.child}var Vr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Or(e){return{baseLanes:e,cachePool:Rd()}}function Fr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=$t),e}function zf(e,n,o){var s=n.pendingProps,f=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(De){if(f?ii(n):li(),(e=et)?(e=Xm(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:Sn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},o=xd(e),o.return=n,n.child=o,xt=n,et=null)):e=null,e===null)throw Zn(n);return Cu(e)?n.lanes=32:n.lanes=536870912,null}var b=s.children;return s=s.fallback,f?(li(),f=n.mode,b=ba({mode:"hidden",children:b},f),s=Ni(s,f,o,null),b.return=n,s.return=n,b.sibling=s,n.child=b,s=n.child,s.memoizedState=Or(o),s.childLanes=Fr(e,S,o),n.memoizedState=Vr,ho(null,s)):(ii(n),Jr(n,b))}var C=e.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(p)n.flags&256?(ii(n),n.flags&=-257,n=Kr(e,n,o)):n.memoizedState!==null?(li(),n.child=e.child,n.flags|=128,n=null):(li(),b=s.fallback,f=n.mode,s=ba({mode:"visible",children:s.children},f),b=Ni(b,f,o,null),b.flags|=2,s.return=n,b.return=n,s.sibling=b,n.child=s,Ui(n,e.child,null,o),s=n.child,s.memoizedState=Or(o),s.childLanes=Fr(e,S,o),n.memoizedState=Vr,n=ho(null,s));else if(ii(n),Cu(b)){if(S=b.nextSibling&&b.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(a(419)),s.stack="",s.digest=S,no({value:s,source:null,stack:null}),n=Kr(e,n,o)}else if(dt||ul(e,n,o,!1),S=(o&e.childLanes)!==0,dt||S){if(S=Qe,S!==null&&(s=Cc(S,o),s!==0&&s!==C.retryLane))throw C.retryLane=s,Ci(e,s),Ht(S,e,s),qr;Au(b)||Ia(),n=Kr(e,n,o)}else Au(b)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,et=on(b.nextSibling),xt=n,De=!0,jn=null,nn=!1,e!==null&&Ed(n,e),n=Jr(n,s.children),n.flags|=4096);return n}return f?(li(),b=s.fallback,f=n.mode,C=e.child,D=C.sibling,s=Rn(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,D!==null?b=Rn(D,b):(b=Ni(b,f,o,null),b.flags|=2),b.return=n,s.return=n,s.sibling=b,n.child=s,ho(null,s),s=n.child,b=e.child.memoizedState,b===null?b=Or(o):(f=b.cachePool,f!==null?(C=ut._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Rd(),b={baseLanes:b.baseLanes|o,cachePool:f}),s.memoizedState=b,s.childLanes=Fr(e,S,o),n.memoizedState=Vr,ho(e.child,s)):(ii(n),o=e.child,e=o.sibling,o=Rn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function Jr(e,n){return n=ba({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ba(e,n){return e=Ft(22,e,null,n),e.lanes=0,e}function Kr(e,n,o){return Ui(n,e.child,null,o),e=Jr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vf(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),sr(e.return,n,o)}function Yr(e,n,o,s,f,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:f,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=f,S.treeForkCount=p)}function Of(e,n,o){var s=n.pendingProps,f=s.revealOrder,p=s.tail;s=s.children;var S=st.current,b=(S&2)!==0;if(b?(S=S&1|2,n.flags|=128):S&=1,K(st,S),Tt(e,n,s,o),s=De?to:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,o,n);else if(e.tag===19)Vf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&da(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),Yr(n,!1,f,o,p,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&da(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}Yr(n,!0,o,null,p,s);break;case"together":Yr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Un(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),si|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(ul(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Rn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Rn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function $r(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ia(e)))}function Ly(e,n,o){switch(n.tag){case 3:Ae(n,n.stateNode.containerInfo),Wn(n,ut,e.memoizedState.cache),Ri();break;case 27:case 5:xn(n);break;case 4:Ae(n,n.stateNode.containerInfo);break;case 10:Wn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(ii(n),n.flags|=128,null):(o&n.child.childLanes)!==0?zf(e,n,o):(ii(n),e=Un(e,n,o),e!==null?e.sibling:null);ii(n);break;case 19:var f=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(ul(e,n,o,!1),s=(o&n.childLanes)!==0),f){if(s)return Of(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(st,st.current),s)break;return null;case 22:return n.lanes=0,Lf(e,n,o,n.pendingProps);case 24:Wn(n,ut,e.memoizedState.cache)}return Un(e,n,o)}function Ff(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)dt=!0;else{if(!$r(e,o)&&(n.flags&128)===0)return dt=!1,Ly(e,n,o);dt=(e.flags&131072)!==0}else dt=!1,De&&(n.flags&1048576)!==0&&Td(n,to,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Ii(n.elementType),n.type=e,typeof e=="function")Ws(e)?(s=Gi(e,s),n.tag=1,n=Bf(null,n,e,s,o)):(n.tag=0,n=zr(null,n,e,s,o));else{if(e!=null){var f=e.$$typeof;if(f===z){n.tag=11,n=If(null,n,e,s,o);break e}else if(f===J){n.tag=14,n=Df(null,n,e,s,o);break e}}throw n=Ge(e)||e,Error(a(306,n,""))}}return n;case 0:return zr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,f=Gi(s,n.pendingProps),Bf(e,n,s,f,o);case 3:e:{if(Ae(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var p=n.memoizedState;f=p.element,pr(e,n),uo(n,s,null,o);var S=n.memoizedState;if(s=S.cache,Wn(n,ut,s),s!==p.cache&&rr(n,[ut],o,!0),ro(),s=S.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=qf(e,n,s,o);break e}else if(s!==f){f=Wt(Error(a(424)),n),no(f),n=qf(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=on(e.firstChild),xt=n,De=!0,jn=null,nn=!0,o=Ud(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ri(),s===f){n=Un(e,n,o);break e}Tt(e,n,s,o)}n=n.child}return n;case 26:return Ea(e,n),e===null?(o=tp(n.type,null,n.pendingProps,null))?n.memoizedState=o:De||(o=n.type,e=n.pendingProps,s=Ba(ne.current).createElement(o),s[vt]=n,s[It]=e,Et(s,o,e),ht(s),n.stateNode=s):n.memoizedState=tp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return xn(n),e===null&&De&&(s=n.stateNode=Zm(n.type,n.pendingProps,ne.current),xt=n,nn=!0,f=et,fi(n.type)?(Nu=f,et=on(s.firstChild)):et=f),Tt(e,n,n.pendingProps.children,o),Ea(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&De&&((f=s=et)&&(s=dv(s,n.type,n.pendingProps,nn),s!==null?(n.stateNode=s,xt=n,et=on(s.firstChild),nn=!1,f=!0):f=!1),f||Zn(n)),xn(n),f=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,s=p.children,Eu(f,p)?s=null:S!==null&&Eu(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=Tr(e,n,Cy,null,null,o),wo._currentValue=f),Ea(e,n),Tt(e,n,s,o),n.child;case 6:return e===null&&De&&((e=o=et)&&(o=fv(o,n.pendingProps,nn),o!==null?(n.stateNode=o,xt=n,et=null,e=!0):e=!1),e||Zn(n)),null;case 13:return zf(e,n,o);case 4:return Ae(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Ui(n,null,s,o):Tt(e,n,s,o),n.child;case 11:return If(e,n,n.type,n.pendingProps,o);case 7:return Tt(e,n,n.pendingProps,o),n.child;case 8:return Tt(e,n,n.pendingProps.children,o),n.child;case 12:return Tt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Wn(n,n.type,s.value),Tt(e,n,s.children,o),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,wi(n),f=St(f),s=s(f),n.flags|=1,Tt(e,n,s,o),n.child;case 14:return Df(e,n,n.type,n.pendingProps,o);case 15:return Uf(e,n,n.type,n.pendingProps,o);case 19:return Of(e,n,o);case 31:return Uy(e,n,o);case 22:return Lf(e,n,o,n.pendingProps);case 24:return wi(n),s=St(ut),e===null?(f=dr(),f===null&&(f=Qe,p=ur(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),n.memoizedState={parent:s,cache:f},mr(n),Wn(n,ut,f)):((e.lanes&o)!==0&&(pr(e,n),uo(n,null,null,o),ro()),f=e.memoizedState,p=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Wn(n,ut,s)):(s=p.cache,Wn(n,ut,s),s!==f.cache&&rr(n,[ut],o,!0))),Tt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ln(e){e.flags|=4}function Xr(e,n,o,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw Di=sa,fr}else e.flags&=-16777217}function Jf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ap(n))if(ym())e.flags|=8192;else throw Di=sa,fr}function _a(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zl():536870912,e.lanes|=n,Tl|=n)}function go(e,n){if(!De)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function Gy(e,n,o){var s=n.pendingProps;switch(ir(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),kn(ut),je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(rl(n)?Ln(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,or())),tt(n),null;case 26:var f=n.type,p=n.memoizedState;return e===null?(Ln(n),p!==null?(tt(n),Jf(n,p)):(tt(n),Xr(n,f,null,s,o))):p?p!==e.memoizedState?(Ln(n),tt(n),Jf(n,p)):(tt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Ln(n),tt(n),Xr(n,f,e,s,o)),null;case 27:if(de(n),o=ne.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Ln(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return tt(n),null}e=Q.current,rl(n)?bd(n):(e=Zm(f,s,o),n.stateNode=e,Ln(n))}return tt(n),null;case 5:if(de(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Ln(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return tt(n),null}if(p=Q.current,rl(n))bd(n);else{var S=Ba(ne.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?S.createElement(f,{is:s.is}):S.createElement(f)}}p[vt]=n,p[It]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(Et(p,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ln(n)}}return tt(n),Xr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Ln(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ne.current,rl(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,f=xt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[vt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||zm(e.nodeValue,o)),e||Zn(n,!0)}else e=Ba(e).createTextNode(s),e[vt]=n,n.stateNode=e}return tt(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=rl(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[vt]=n}else Ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),e=!1}else o=or(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Kt(n),n):(Kt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return tt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=rl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[vt]=n}else Ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),f=!1}else f=or(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Kt(n),n):(Kt(n),null)}return Kt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),_a(n,n.updateQueue),tt(n),null);case 4:return je(),e===null&&yu(n.stateNode.containerInfo),tt(n),null;case 10:return kn(n.type),tt(n),null;case 19:if(P(st),s=n.memoizedState,s===null)return tt(n),null;if(f=(n.flags&128)!==0,p=s.rendering,p===null)if(f)go(s,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=da(e),p!==null){for(n.flags|=128,go(s,!1),e=p.updateQueue,n.updateQueue=e,_a(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)vd(o,e),o=o.sibling;return K(st,st.current&1|2),De&&Mn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&bt()>Ma&&(n.flags|=128,f=!0,go(s,!1),n.lanes=4194304)}else{if(!f)if(e=da(p),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,_a(n,e),go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!De)return tt(n),null}else 2*bt()-s.renderingStartTime>Ma&&o!==536870912&&(n.flags|=128,f=!0,go(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,o=st.current,K(st,f?o&1|2:o&1),De&&Mn(n,s.treeForkCount),e):(tt(n),null);case 22:case 23:return Kt(n),vr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),o=n.updateQueue,o!==null&&_a(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&P(ki),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kn(ut),tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Py(e,n){switch(ir(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kn(ut),je(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return de(n),null;case 31:if(n.memoizedState!==null){if(Kt(n),n.alternate===null)throw Error(a(340));Ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Kt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(st),null;case 4:return je(),null;case 10:return kn(n.type),null;case 22:case 23:return Kt(n),vr(),e!==null&&P(ki),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return kn(ut),null;case 25:return null;default:return null}}function Kf(e,n){switch(ir(n),n.tag){case 3:kn(ut),je();break;case 26:case 27:case 5:de(n);break;case 4:je();break;case 31:n.memoizedState!==null&&Kt(n);break;case 13:Kt(n);break;case 19:P(st);break;case 10:kn(n.type);break;case 22:case 23:Kt(n),vr(),e!==null&&P(ki);break;case 24:kn(ut)}}function yo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var f=s.next;o=f;do{if((o.tag&e)===e){s=void 0;var p=o.create,S=o.inst;s=p(),S.destroy=s}o=o.next}while(o!==f)}}catch(b){Je(n,n.return,b)}}function oi(e,n,o){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var p=f.next;s=p;do{if((s.tag&e)===e){var S=s.inst,b=S.destroy;if(b!==void 0){S.destroy=void 0,f=n;var C=o,D=b;try{D()}catch(B){Je(f,C,B)}}}s=s.next}while(s!==p)}}catch(B){Je(n,n.return,B)}}function Yf(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Gd(n,o)}catch(s){Je(e,e.return,s)}}}function $f(e,n,o){o.props=Gi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Je(e,n,s)}}function vo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(f){Je(e,n,f)}}function En(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(f){Je(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(e,n,f)}else o.current=null}function Xf(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(f){Je(e,e.return,f)}}function Qr(e,n,o){try{var s=e.stateNode;ov(s,e.type,o,n),s[It]=n}catch(f){Je(e,e.return,f)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function jr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Cn));else if(s!==4&&(s===27&&fi(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Zr(e,n,o),e=e.sibling;e!==null;)Zr(e,n,o),e=e.sibling}function Aa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&fi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Aa(e,n,o),e=e.sibling;e!==null;)Aa(e,n,o),e=e.sibling}function jf(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Et(n,s,o),n[vt]=e,n[It]=o}catch(p){Je(e,e.return,p)}}var Gn=!1,ft=!1,Wr=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Hy(e,n){if(e=e.containerInfo,Su=Ka,e=ud(e),Ks(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var f=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,b=-1,C=-1,D=0,B=0,V=e,U=null;t:for(;;){for(var G;V!==o||f!==0&&V.nodeType!==3||(b=S+f),V!==p||s!==0&&V.nodeType!==3||(C=S+s),V.nodeType===3&&(S+=V.nodeValue.length),(G=V.firstChild)!==null;)U=V,V=G;for(;;){if(V===e)break t;if(U===o&&++D===f&&(b=S),U===p&&++B===s&&(C=S),(G=V.nextSibling)!==null)break;V=U,U=V.parentNode}V=G}o=b===-1||C===-1?null:{start:b,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tu={focusedElem:e,selectionRange:o},Ka=!1,gt=n;gt!==null;)if(n=gt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,gt=e;else for(;gt!==null;){switch(n=gt,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=n,f=p.memoizedProps,p=p.memoizedState,s=o.stateNode;try{var ie=Gi(o.type,f);e=s.getSnapshotBeforeUpdate(ie,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Je(o,o.return,fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)_u(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,gt=e;break}gt=n.return}}function Wf(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Hn(e,o),s&4&&yo(5,o);break;case 1:if(Hn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Je(o,o.return,S)}else{var f=Gi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(o,o.return,S)}}s&64&&Yf(o),s&512&&vo(o,o.return);break;case 3:if(Hn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Gd(e,n)}catch(S){Je(o,o.return,S)}}break;case 27:n===null&&s&4&&jf(o);case 26:case 5:Hn(e,o),n===null&&s&4&&Xf(o),s&512&&vo(o,o.return);break;case 12:Hn(e,o);break;case 31:Hn(e,o),s&4&&nm(e,o);break;case 13:Hn(e,o),s&4&&im(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Yy.bind(null,o),mv(e,o))));break;case 22:if(s=o.memoizedState!==null||Gn,!s){n=n!==null&&n.memoizedState!==null||ft,f=Gn;var p=ft;Gn=s,(ft=n)&&!p?Bn(e,o,(o.subtreeFlags&8772)!==0):Hn(e,o),Gn=f,ft=p}break;case 30:break;default:Hn(e,o)}}function em(e){var n=e.alternate;n!==null&&(e.alternate=null,em(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ms(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,Ut=!1;function Pn(e,n,o){for(o=o.child;o!==null;)tm(e,n,o),o=o.sibling}function tm(e,n,o){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(Le,o)}catch{}switch(o.tag){case 26:ft||En(o,n),Pn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||En(o,n);var s=it,f=Ut;fi(o.type)&&(it=o.stateNode,Ut=!1),Pn(e,n,o),No(o.stateNode),it=s,Ut=f;break;case 5:ft||En(o,n);case 6:if(s=it,f=Ut,it=null,Pn(e,n,o),it=s,Ut=f,it!==null)if(Ut)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(o.stateNode)}catch(p){Je(o,n,p)}else try{it.removeChild(o.stateNode)}catch(p){Je(o,n,p)}break;case 18:it!==null&&(Ut?(e=it,Ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ml(e)):Ym(it,o.stateNode));break;case 4:s=it,f=Ut,it=o.stateNode.containerInfo,Ut=!0,Pn(e,n,o),it=s,Ut=f;break;case 0:case 11:case 14:case 15:oi(2,o,n),ft||oi(4,o,n),Pn(e,n,o);break;case 1:ft||(En(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&$f(o,n,s)),Pn(e,n,o);break;case 21:Pn(e,n,o);break;case 22:ft=(s=ft)||o.memoizedState!==null,Pn(e,n,o),ft=s;break;default:Pn(e,n,o)}}function nm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ml(e)}catch(o){Je(n,n.return,o)}}}function im(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(o){Je(n,n.return,o)}}function By(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zf),n;default:throw Error(a(435,e.tag))}}function Ca(e,n){var o=By(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var f=$y.bind(null,e,s);s.then(f,f)}})}function Lt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var f=o[s],p=e,S=n,b=S;e:for(;b!==null;){switch(b.tag){case 27:if(fi(b.type)){it=b.stateNode,Ut=!1;break e}break;case 5:it=b.stateNode,Ut=!1;break e;case 3:case 4:it=b.stateNode.containerInfo,Ut=!0;break e}b=b.return}if(it===null)throw Error(a(160));tm(p,S,f),it=null,Ut=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)lm(n,e),n=n.sibling}var pn=null;function lm(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(n,e),Gt(e),s&4&&(oi(3,e,e.return),yo(3,e),oi(5,e,e.return));break;case 1:Lt(n,e),Gt(e),s&512&&(ft||o===null||En(o,o.return)),s&64&&Gn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var f=pn;if(Lt(n,e),Gt(e),s&512&&(ft||o===null||En(o,o.return)),s&4){var p=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Fl]||p[vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(s),f.head.insertBefore(p,f.querySelector("head > title"))),Et(p,s,o),p[vt]=e,ht(p),s=p;break e;case"link":var S=lp("link","href",f).get(s+(o.href||""));if(S){for(var b=0;b<S.length;b++)if(p=S[b],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(b,1);break t}}p=f.createElement(s),Et(p,s,o),f.head.appendChild(p);break;case"meta":if(S=lp("meta","content",f).get(s+(o.content||""))){for(b=0;b<S.length;b++)if(p=S[b],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(b,1);break t}}p=f.createElement(s),Et(p,s,o),f.head.appendChild(p);break;default:throw Error(a(468,s))}p[vt]=e,ht(p),s=p}e.stateNode=s}else op(f,e.type,e.stateNode);else e.stateNode=ip(f,s,e.memoizedProps);else p!==s?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,s===null?op(f,e.type,e.stateNode):ip(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Qr(e,e.memoizedProps,o.memoizedProps)}break;case 27:Lt(n,e),Gt(e),s&512&&(ft||o===null||En(o,o.return)),o!==null&&s&4&&Qr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Lt(n,e),Gt(e),s&512&&(ft||o===null||En(o,o.return)),e.flags&32){f=e.stateNode;try{Zi(f,"")}catch(ie){Je(e,e.return,ie)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Qr(e,f,o!==null?o.memoizedProps:f)),s&1024&&(Wr=!0);break;case 6:if(Lt(n,e),Gt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(ie){Je(e,e.return,ie)}}break;case 3:if(Va=null,f=pn,pn=qa(n.containerInfo),Lt(n,e),pn=f,Gt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(ie){Je(e,e.return,ie)}Wr&&(Wr=!1,om(e));break;case 4:s=pn,pn=qa(e.stateNode.containerInfo),Lt(n,e),Gt(e),pn=s;break;case 12:Lt(n,e),Gt(e);break;case 31:Lt(n,e),Gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ca(e,s)));break;case 13:Lt(n,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ra=bt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ca(e,s)));break;case 22:f=e.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,D=Gn,B=ft;if(Gn=D||f,ft=B||C,Lt(n,e),ft=B,Gn=D,Gt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(o===null||C||Gn||ft||Pi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){C=o=n;try{if(p=C.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{b=C.stateNode;var V=C.memoizedProps.style,U=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ie){Je(C,C.return,ie)}}}else if(n.tag===6){if(o===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(ie){Je(C,C.return,ie)}}}else if(n.tag===18){if(o===null){C=n;try{var G=C.stateNode;f?$m(G,!0):$m(C.stateNode,!1)}catch(ie){Je(C,C.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Ca(e,o))));break;case 19:Lt(n,e),Gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ca(e,s)));break;case 30:break;case 21:break;default:Lt(n,e),Gt(e)}}function Gt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Qf(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,p=jr(e);Aa(e,p,f);break;case 5:var S=o.stateNode;o.flags&32&&(Zi(S,""),o.flags&=-33);var b=jr(e);Aa(e,b,S);break;case 3:case 4:var C=o.stateNode.containerInfo,D=jr(e);Zr(e,D,C);break;default:throw Error(a(161))}}catch(B){Je(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;om(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wf(e,n.alternate,n),n=n.sibling}function Pi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:oi(4,n,n.return),Pi(n);break;case 1:En(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&$f(n,n.return,o),Pi(n);break;case 27:No(n.stateNode);case 26:case 5:En(n,n.return),Pi(n);break;case 22:n.memoizedState===null&&Pi(n);break;case 30:Pi(n);break;default:Pi(n)}e=e.sibling}}function Bn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Bn(f,p,o),yo(4,p);break;case 1:if(Bn(f,p,o),s=p,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Je(s,s.return,D)}if(s=p,f=s.updateQueue,f!==null){var b=s.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Ld(C[f],b)}catch(D){Je(s,s.return,D)}}o&&S&64&&Yf(p),vo(p,p.return);break;case 27:jf(p);case 26:case 5:Bn(f,p,o),o&&s===null&&S&4&&Xf(p),vo(p,p.return);break;case 12:Bn(f,p,o);break;case 31:Bn(f,p,o),o&&S&4&&nm(f,p);break;case 13:Bn(f,p,o),o&&S&4&&im(f,p);break;case 22:p.memoizedState===null&&Bn(f,p,o),vo(p,p.return);break;case 30:break;default:Bn(f,p,o)}n=n.sibling}}function eu(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&io(o))}function tu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&io(e))}function hn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)am(e,n,o,s),n=n.sibling}function am(e,n,o,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:hn(e,n,o,s),f&2048&&yo(9,n);break;case 1:hn(e,n,o,s);break;case 3:hn(e,n,o,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&io(e)));break;case 12:if(f&2048){hn(e,n,o,s),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,b=p.onPostCommit;typeof b=="function"&&b(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Je(n,n.return,C)}}else hn(e,n,o,s);break;case 31:hn(e,n,o,s);break;case 13:hn(e,n,o,s);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?hn(e,n,o,s):xo(e,n):p._visibility&2?hn(e,n,o,s):(p._visibility|=2,vl(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&eu(S,n);break;case 24:hn(e,n,o,s),f&2048&&tu(n.alternate,n);break;default:hn(e,n,o,s)}}function vl(e,n,o,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,b=o,C=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:vl(p,S,b,C,f),yo(8,S);break;case 23:break;case 22:var B=S.stateNode;S.memoizedState!==null?B._visibility&2?vl(p,S,b,C,f):xo(p,S):(B._visibility|=2,vl(p,S,b,C,f)),f&&D&2048&&eu(S.alternate,S);break;case 24:vl(p,S,b,C,f),f&&D&2048&&tu(S.alternate,S);break;default:vl(p,S,b,C,f)}n=n.sibling}}function xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,f=s.flags;switch(s.tag){case 22:xo(o,s),f&2048&&eu(s.alternate,s);break;case 24:xo(o,s),f&2048&&tu(s.alternate,s);break;default:xo(o,s)}n=n.sibling}}var So=8192;function xl(e,n,o){if(e.subtreeFlags&So)for(e=e.child;e!==null;)sm(e,n,o),e=e.sibling}function sm(e,n,o){switch(e.tag){case 26:xl(e,n,o),e.flags&So&&e.memoizedState!==null&&Av(o,pn,e.memoizedState,e.memoizedProps);break;case 5:xl(e,n,o);break;case 3:case 4:var s=pn;pn=qa(e.stateNode.containerInfo),xl(e,n,o),pn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=So,So=16777216,xl(e,n,o),So=s):xl(e,n,o));break;default:xl(e,n,o)}}function rm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function To(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];gt=s,cm(s,e)}rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:To(e),e.flags&2048&&oi(9,e,e.return);break;case 3:To(e);break;case 12:To(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Na(e)):To(e);break;default:To(e)}}function Na(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];gt=s,cm(s,e)}rm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:oi(8,n,n.return),Na(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Na(n));break;default:Na(n)}e=e.sibling}}function cm(e,n){for(;gt!==null;){var o=gt;switch(o.tag){case 0:case 11:case 15:oi(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:io(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,gt=s;else e:for(o=e;gt!==null;){s=gt;var f=s.sibling,p=s.return;if(em(s),s===o){gt=null;break e}if(f!==null){f.return=p,gt=f;break e}gt=p}}}var qy={getCacheForType:function(e){var n=St(ut),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return St(ut).controller.signal}},zy=typeof WeakMap=="function"?WeakMap:Map,ze=0,Qe=null,Ne=null,ke=0,Fe=0,Yt=null,ai=!1,Sl=!1,nu=!1,qn=0,at=0,si=0,Hi=0,iu=0,$t=0,Tl=0,Eo=null,Pt=null,lu=!1,Ra=0,dm=0,Ma=1/0,wa=null,ri=null,mt=0,ui=null,El=null,zn=0,ou=0,au=null,fm=null,bo=0,su=null;function Xt(){return(ze&2)!==0&&ke!==0?ke&-ke:L.T!==null?mu():Nc()}function mm(){if($t===0)if((ke&536870912)===0||De){var e=zt;zt<<=1,(zt&3932160)===0&&(zt=262144),$t=e}else $t=536870912;return e=Jt.current,e!==null&&(e.flags|=32),$t}function Ht(e,n,o){(e===Qe&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(bl(e,0),ci(e,ke,$t,!1)),Ol(e,o),((ze&2)===0||e!==Qe)&&(e===Qe&&((ze&2)===0&&(Hi|=o),at===4&&ci(e,ke,$t,!1)),bn(e))}function pm(e,n,o){if((ze&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||fn(e,n),f=s?Fy(e,n):uu(e,n,!0),p=s;do{if(f===0){Sl&&!s&&ci(e,n,0,!1);break}else{if(o=e.current.alternate,p&&!Vy(o)){f=uu(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var b=e;f=Eo;var C=b.current.memoizedState.isDehydrated;if(C&&(bl(b,S).flags|=256),S=uu(b,S,!1),S!==2){if(nu&&!C){b.errorRecoveryDisabledLanes|=p,Hi|=p,f=4;break e}p=Pt,Pt=f,p!==null&&(Pt===null?Pt=p:Pt.push.apply(Pt,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){bl(e,0),ci(e,n,0,!0);break}e:{switch(s=e,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ci(s,n,$t,!ai);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Ra+300-bt(),10<f)){if(ci(s,n,$t,!ai),dn(s,0,!0)!==0)break e;zn=n,s.timeoutHandle=Jm(hm.bind(null,s,o,Pt,wa,lu,n,$t,Hi,Tl,ai,p,"Throttled",-0,0),f);break e}hm(s,o,Pt,wa,lu,n,$t,Hi,Tl,ai,p,null,-0,0)}}break}while(!0);bn(e)}function hm(e,n,o,s,f,p,S,b,C,D,B,V,U,G){if(e.timeoutHandle=-1,V=n.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},sm(n,p,V);var ie=(p&62914560)===p?Ra-bt():(p&4194048)===p?dm-bt():0;if(ie=Cv(V,ie),ie!==null){zn=p,e.cancelPendingCommit=ie(bm.bind(null,e,n,p,o,s,f,S,b,C,B,V,null,U,G)),ci(e,p,S,!D);return}}bm(e,n,p,o,s,f,S,b,C)}function Vy(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var f=o[s],p=f.getSnapshot;f=f.value;try{if(!Ot(p(),f))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ci(e,n,o,s){n&=~iu,n&=~Hi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var p=31-Pe(f),S=1<<p;s[p]=-1,f&=~S}o!==0&&_c(e,o,n)}function ka(){return(ze&6)===0?(_o(0),!1):!0}function ru(){if(Ne!==null){if(Fe===0)var e=Ne.return;else e=Ne,wn=Mi=null,_r(e),ml=null,oo=0,e=Ne;for(;e!==null;)Kf(e.alternate,e),e=e.return;Ne=null}}function bl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,rv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),zn=0,ru(),Qe=e,Ne=o=Rn(e.current,null),ke=n,Fe=0,Yt=null,ai=!1,Sl=fn(e,n),nu=!1,Tl=$t=iu=Hi=si=at=0,Pt=Eo=null,lu=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Pe(s),p=1<<f;n|=e[f],s&=~p}return qn=n,Zo(),o}function gm(e,n){ge=null,L.H=po,n===fl||n===aa?(n=kd(),Fe=3):n===fr?(n=kd(),Fe=4):Fe=n===qr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Yt=n,Ne===null&&(at=1,Sa(e,Wt(n,e.current)))}function ym(){var e=Jt.current;return e===null?!0:(ke&4194048)===ke?ln===null:(ke&62914560)===ke||(ke&536870912)!==0?e===ln:!1}function vm(){var e=L.H;return L.H=po,e===null?po:e}function xm(){var e=L.A;return L.A=qy,e}function Ia(){at=4,ai||(ke&4194048)!==ke&&Jt.current!==null||(Sl=!0),(si&134217727)===0&&(Hi&134217727)===0||Qe===null||ci(Qe,ke,$t,!1)}function uu(e,n,o){var s=ze;ze|=2;var f=vm(),p=xm();(Qe!==e||ke!==n)&&(wa=null,bl(e,n)),n=!1;var S=at;e:do try{if(Fe!==0&&Ne!==null){var b=Ne,C=Yt;switch(Fe){case 8:ru(),S=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(n=!0);var D=Fe;if(Fe=0,Yt=null,_l(e,b,C,D),o&&Sl){S=0;break e}break;default:D=Fe,Fe=0,Yt=null,_l(e,b,C,D)}}Oy(),S=at;break}catch(B){gm(e,B)}while(!0);return n&&e.shellSuspendCounter++,wn=Mi=null,ze=s,L.H=f,L.A=p,Ne===null&&(Qe=null,ke=0,Zo()),S}function Oy(){for(;Ne!==null;)Sm(Ne)}function Fy(e,n){var o=ze;ze|=2;var s=vm(),f=xm();Qe!==e||ke!==n?(wa=null,Ma=bt()+500,bl(e,n)):Sl=fn(e,n);e:do try{if(Fe!==0&&Ne!==null){n=Ne;var p=Yt;t:switch(Fe){case 1:Fe=0,Yt=null,_l(e,n,p,1);break;case 2:case 9:if(Md(p)){Fe=0,Yt=null,Tm(n);break}n=function(){Fe!==2&&Fe!==9||Qe!==e||(Fe=7),bn(e)},p.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Md(p)?(Fe=0,Yt=null,Tm(n)):(Fe=0,Yt=null,_l(e,n,p,7));break;case 5:var S=null;switch(Ne.tag){case 26:S=Ne.memoizedState;case 5:case 27:var b=Ne;if(S?ap(S):b.stateNode.complete){Fe=0,Yt=null;var C=b.sibling;if(C!==null)Ne=C;else{var D=b.return;D!==null?(Ne=D,Da(D)):Ne=null}break t}}Fe=0,Yt=null,_l(e,n,p,5);break;case 6:Fe=0,Yt=null,_l(e,n,p,6);break;case 8:ru(),at=6;break e;default:throw Error(a(462))}}Jy();break}catch(B){gm(e,B)}while(!0);return wn=Mi=null,L.H=s,L.A=f,ze=o,Ne!==null?0:(Qe=null,ke=0,Zo(),at)}function Jy(){for(;Ne!==null&&!_s();)Sm(Ne)}function Sm(e){var n=Ff(e.alternate,e,qn);e.memoizedProps=e.pendingProps,n===null?Da(e):Ne=n}function Tm(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Hf(o,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=Hf(o,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:_r(n);default:Kf(o,n),n=Ne=vd(n,qn),n=Ff(o,n,qn)}e.memoizedProps=e.pendingProps,n===null?Da(e):Ne=n}function _l(e,n,o,s){wn=Mi=null,_r(n),ml=null,oo=0;var f=n.return;try{if(Dy(e,f,n,o,ke)){at=1,Sa(e,Wt(o,e.current)),Ne=null;return}}catch(p){if(f!==null)throw Ne=f,p;at=1,Sa(e,Wt(o,e.current)),Ne=null;return}n.flags&32768?(De||s===1?e=!0:Sl||(ke&536870912)!==0?e=!1:(ai=e=!0,(s===2||s===9||s===3||s===6)&&(s=Jt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Em(n,e)):Da(n)}function Da(e){var n=e;do{if((n.flags&32768)!==0){Em(n,ai);return}e=n.return;var o=Gy(n.alternate,n,qn);if(o!==null){Ne=o;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=e}while(n!==null);at===0&&(at=5)}function Em(e,n){do{var o=Py(e.alternate,e);if(o!==null){o.flags&=32767,Ne=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=o}while(e!==null);at=6,Ne=null}function bm(e,n,o,s,f,p,S,b,C){e.cancelPendingCommit=null;do Ua();while(mt!==0);if((ze&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=js,_g(e,o,p,S,b,C),e===Qe&&(Ne=Qe=null,ke=0),El=n,ui=e,zn=o,ou=p,au=f,fm=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xy(Se,function(){return Rm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null,f=F.p,F.p=2,S=ze,ze|=4;try{Hy(e,n,o)}finally{ze=S,F.p=f,L.T=s}}mt=1,_m(),Am(),Cm()}}function _m(){if(mt===1){mt=0;var e=ui,n=El,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var s=F.p;F.p=2;var f=ze;ze|=4;try{lm(n,e);var p=Tu,S=ud(e.containerInfo),b=p.focusedElem,C=p.selectionRange;if(S!==b&&b&&b.ownerDocument&&rd(b.ownerDocument.documentElement,b)){if(C!==null&&Ks(b)){var D=C.start,B=C.end;if(B===void 0&&(B=D),"selectionStart"in b)b.selectionStart=D,b.selectionEnd=Math.min(B,b.value.length);else{var V=b.ownerDocument||document,U=V&&V.defaultView||window;if(U.getSelection){var G=U.getSelection(),ie=b.textContent.length,fe=Math.min(C.start,ie),$e=C.end===void 0?fe:Math.min(C.end,ie);!G.extend&&fe>$e&&(S=$e,$e=fe,fe=S);var k=sd(b,fe),R=sd(b,$e);if(k&&R&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var I=V.createRange();I.setStart(k.node,k.offset),G.removeAllRanges(),fe>$e?(G.addRange(I),G.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),G.addRange(I))}}}}for(V=[],G=b;G=G.parentNode;)G.nodeType===1&&V.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var q=V[b];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Ka=!!Su,Tu=Su=null}finally{ze=f,F.p=s,L.T=o}}e.current=n,mt=2}}function Am(){if(mt===2){mt=0;var e=ui,n=El,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var s=F.p;F.p=2;var f=ze;ze|=4;try{Wf(e,n.alternate,n)}finally{ze=f,F.p=s,L.T=o}}mt=3}}function Cm(){if(mt===4||mt===3){mt=0,Bl();var e=ui,n=El,o=zn,s=fm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mt=5:(mt=0,El=ui=null,Nm(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ri=null),Ns(o),n=n.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(Le,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=L.T,f=F.p,F.p=2,L.T=null;try{for(var p=e.onRecoverableError,S=0;S<s.length;S++){var b=s[S];p(b.value,{componentStack:b.stack})}}finally{L.T=n,F.p=f}}(zn&3)!==0&&Ua(),bn(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===su?bo++:(bo=0,su=e):bo=0,_o(0)}}function Nm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,io(n)))}function Ua(){return _m(),Am(),Cm(),Rm()}function Rm(){if(mt!==5)return!1;var e=ui,n=ou;ou=0;var o=Ns(zn),s=L.T,f=F.p;try{F.p=32>o?32:o,L.T=null,o=au,au=null;var p=ui,S=zn;if(mt=0,El=ui=null,zn=0,(ze&6)!==0)throw Error(a(331));var b=ze;if(ze|=4,um(p.current),am(p,p.current,S,o),ze=b,_o(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(Le,p)}catch{}return!0}finally{F.p=f,L.T=s,Nm(e,n)}}function Mm(e,n,o){n=Wt(o,n),n=Br(e.stateNode,n,2),e=ni(e,n,2),e!==null&&(Ol(e,2),bn(e))}function Je(e,n,o){if(e.tag===3)Mm(e,e,o);else for(;n!==null;){if(n.tag===3){Mm(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ri===null||!ri.has(s))){e=Wt(o,e),o=wf(2),s=ni(n,o,2),s!==null&&(kf(o,s,n,e),Ol(s,2),bn(s));break}}n=n.return}}function cu(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new zy;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(o)||(nu=!0,f.add(o),e=Ky.bind(null,e,n,o),n.then(e,e))}function Ky(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Qe===e&&(ke&o)===o&&(at===4||at===3&&(ke&62914560)===ke&&300>bt()-Ra?(ze&2)===0&&bl(e,0):iu|=o,Tl===ke&&(Tl=0)),bn(e)}function wm(e,n){n===0&&(n=zl()),e=Ci(e,n),e!==null&&(Ol(e,n),bn(e))}function Yy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),wm(e,o)}function $y(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),wm(e,o)}function Xy(e,n){return Si(e,n)}var La=null,Al=null,du=!1,Ga=!1,fu=!1,di=0;function bn(e){e!==Al&&e.next===null&&(Al===null?La=Al=e:Al=Al.next=e),Ga=!0,du||(du=!0,jy())}function _o(e,n){if(!fu&&Ga){fu=!0;do for(var o=!1,s=La;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var p=0;else{var S=s.suspendedLanes,b=s.pingedLanes;p=(1<<31-Pe(42|e)+1)-1,p&=f&~(S&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Um(s,p))}else p=ke,p=dn(s,s===Qe?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||fn(s,p)||(o=!0,Um(s,p));s=s.next}while(o);fu=!1}}function Qy(){km()}function km(){Ga=du=!1;var e=0;di!==0&&sv()&&(e=di);for(var n=bt(),o=null,s=La;s!==null;){var f=s.next,p=Im(s,n);p===0?(s.next=null,o===null?La=f:o.next=f,f===null&&(Al=o)):(o=s,(e!==0||(p&3)!==0)&&(Ga=!0)),s=f}mt!==0&&mt!==5||_o(e),di!==0&&(di=0)}function Im(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-Pe(p),b=1<<S,C=f[S];C===-1?((b&o)===0||(b&s)!==0)&&(f[S]=Ti(b,n)):C<=n&&(e.expiredLanes|=b),p&=~b}if(n=Qe,o=ke,o=dn(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ji(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||fn(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Ji(s),Ns(o)){case 2:case 8:o=Z;break;case 32:o=Se;break;case 268435456:o=Ce;break;default:o=Se}return s=Dm.bind(null,e),o=Si(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Ji(s),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,n){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ua()&&e.callbackNode!==o)return null;var s=ke;return s=dn(e,e===Qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(pm(e,s,n),Im(e,bt()),e.callbackNode!=null&&e.callbackNode===o?Dm.bind(null,e):null)}function Um(e,n){if(Ua())return null;pm(e,n,!0)}function jy(){uv(function(){(ze&6)!==0?Si(ql,Qy):km()})}function mu(){if(di===0){var e=cl;e===0&&(e=qt,qt<<=1,(qt&261888)===0&&(qt=256)),di=e}return di}function Lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fo(""+e)}function Gm(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Zy(e,n,o,s,f){if(n==="submit"&&o&&o.stateNode===f){var p=Lm((f[It]||null).action),S=s.submitter;S&&(n=(n=S[It]||null)?Lm(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var b=new $o("action","action",null,s,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(di!==0){var C=S?Gm(f,S):new FormData(f);Dr(o,{pending:!0,data:C,method:f.method,action:p},null,C)}}else typeof p=="function"&&(b.preventDefault(),C=S?Gm(f,S):new FormData(f),Dr(o,{pending:!0,data:C,method:f.method,action:p},p,C))},currentTarget:f}]})}}for(var pu=0;pu<Qs.length;pu++){var hu=Qs[pu],Wy=hu.toLowerCase(),ev=hu[0].toUpperCase()+hu.slice(1);mn(Wy,"on"+ev)}mn(fd,"onAnimationEnd"),mn(md,"onAnimationIteration"),mn(pd,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(gy,"onTransitionRun"),mn(yy,"onTransitionStart"),mn(vy,"onTransitionCancel"),mn(hd,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function Pm(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],f=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var S=s.length-1;0<=S;S--){var b=s[S],C=b.instance,D=b.currentTarget;if(b=b.listener,C!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=D;try{p(f)}catch(B){jo(B)}f.currentTarget=null,p=C}else for(S=0;S<s.length;S++){if(b=s[S],C=b.instance,D=b.currentTarget,b=b.listener,C!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=D;try{p(f)}catch(B){jo(B)}f.currentTarget=null,p=C}}}}function Re(e,n){var o=n[Rs];o===void 0&&(o=n[Rs]=new Set);var s=e+"__bubble";o.has(s)||(Hm(n,e,2,!1),o.add(s))}function gu(e,n,o){var s=0;n&&(s|=4),Hm(o,e,s,n)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Pa]){e[Pa]=!0,wc.forEach(function(o){o!=="selectionchange"&&(tv.has(o)||gu(o,!1,e),gu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pa]||(n[Pa]=!0,gu("selectionchange",!1,n))}}function Hm(e,n,o,s){switch(mp(n)){case 2:var f=Mv;break;case 8:f=wv;break;default:f=Iu}o=f.bind(null,n,o,e),f=void 0,!Ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function vu(e,n,o,s,f){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var b=s.stateNode.containerInfo;if(b===f)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;b!==null;){if(S=Yi(b),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=p=S;continue e}b=b.parentNode}}s=s.return}Vc(function(){var D=p,B=Ls(o),V=[];e:{var U=gd.get(e);if(U!==void 0){var G=$o,ie=e;switch(e){case"keypress":if(Ko(o)===0)break e;case"keydown":case"keyup":G=$g;break;case"focusin":ie="focus",G=zs;break;case"focusout":ie="blur",G=zs;break;case"beforeblur":case"afterblur":G=zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=jg;break;case fd:case md:case pd:G=Bg;break;case hd:G=Wg;break;case"scroll":case"scrollend":G=Ug;break;case"wheel":G=ty;break;case"copy":case"cut":case"paste":G=zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Yc;break;case"toggle":case"beforetoggle":G=iy}var fe=(n&4)!==0,$e=!fe&&(e==="scroll"||e==="scrollend"),k=fe?U!==null?U+"Capture":null:U;fe=[];for(var R=D,I;R!==null;){var q=R;if(I=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||I===null||k===null||(q=Kl(R,k),q!=null&&fe.push(Co(R,q,I))),$e)break;R=R.return}0<fe.length&&(U=new G(U,ie,null,o,B),V.push({event:U,listeners:fe}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",U&&o!==Us&&(ie=o.relatedTarget||o.fromElement)&&(Yi(ie)||ie[Ki]))break e;if((G||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,G?(ie=o.relatedTarget||o.toElement,G=D,ie=ie?Yi(ie):null,ie!==null&&($e=d(ie),fe=ie.tag,ie!==$e||fe!==5&&fe!==27&&fe!==6)&&(ie=null)):(G=null,ie=D),G!==ie)){if(fe=Jc,q="onMouseLeave",k="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Yc,q="onPointerLeave",k="onPointerEnter",R="pointer"),$e=G==null?U:Jl(G),I=ie==null?U:Jl(ie),U=new fe(q,R+"leave",G,o,B),U.target=$e,U.relatedTarget=I,q=null,Yi(B)===D&&(fe=new fe(k,R+"enter",ie,o,B),fe.target=I,fe.relatedTarget=$e,q=fe),$e=q,G&&ie)t:{for(fe=nv,k=G,R=ie,I=0,q=k;q;q=fe(q))I++;q=0;for(var ce=R;ce;ce=fe(ce))q++;for(;0<I-q;)k=fe(k),I--;for(;0<q-I;)R=fe(R),q--;for(;I--;){if(k===R||R!==null&&k===R.alternate){fe=k;break t}k=fe(k),R=fe(R)}fe=null}else fe=null;G!==null&&Bm(V,U,G,fe,!1),ie!==null&&$e!==null&&Bm(V,$e,ie,fe,!0)}}e:{if(U=D?Jl(D):window,G=U.nodeName&&U.nodeName.toLowerCase(),G==="select"||G==="input"&&U.type==="file")var He=td;else if(Wc(U))if(nd)He=my;else{He=dy;var ae=cy}else G=U.nodeName,!G||G.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Ds(D.elementType)&&(He=td):He=fy;if(He&&(He=He(e,D))){ed(V,He,o,B);break e}ae&&ae(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&Is(U,"number",U.value)}switch(ae=D?Jl(D):window,e){case"focusin":(Wc(ae)||ae.contentEditable==="true")&&(nl=ae,Ys=D,eo=null);break;case"focusout":eo=Ys=nl=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,cd(V,o,B);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":cd(V,o,B)}var xe;if(Os)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else tl?jc(e,o)&&(Ie="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&($c&&o.locale!=="ko"&&(tl||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&tl&&(xe=Oc()):(Xn=B,Hs="value"in Xn?Xn.value:Xn.textContent,tl=!0)),ae=Ha(D,Ie),0<ae.length&&(Ie=new Kc(Ie,e,null,o,B),V.push({event:Ie,listeners:ae}),xe?Ie.data=xe:(xe=Zc(o),xe!==null&&(Ie.data=xe)))),(xe=oy?ay(e,o):sy(e,o))&&(Ie=Ha(D,"onBeforeInput"),0<Ie.length&&(ae=new Kc("onBeforeInput","beforeinput",null,o,B),V.push({event:ae,listeners:Ie}),ae.data=xe)),Zy(V,e,D,o,B)}Pm(V,n)})}function Co(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ha(e,n){for(var o=n+"Capture",s=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Kl(e,o),f!=null&&s.unshift(Co(e,f,p)),f=Kl(e,n),f!=null&&s.push(Co(e,f,p))),e.tag===3)return s;e=e.return}return[]}function nv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,n,o,s,f){for(var p=n._reactName,S=[];o!==null&&o!==s;){var b=o,C=b.alternate,D=b.stateNode;if(b=b.tag,C!==null&&C===s)break;b!==5&&b!==26&&b!==27||D===null||(C=D,f?(D=Kl(o,p),D!=null&&S.unshift(Co(o,D,C))):f||(D=Kl(o,p),D!=null&&S.push(Co(o,D,C)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var iv=/\r\n?/g,lv=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace(iv,`
`).replace(lv,"")}function zm(e,n){return n=qm(n),qm(e)===n}function Ye(e,n,o,s,f,p){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Zi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Zi(e,""+s);break;case"className":Vo(e,"class",s);break;case"tabIndex":Vo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Vo(e,o,s);break;case"style":qc(e,s,p);break;case"data":if(n!=="object"){Vo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Fo(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(n!=="input"&&Ye(e,n,"name",f.name,f,null),Ye(e,n,"formEncType",f.formEncType,f,null),Ye(e,n,"formMethod",f.formMethod,f,null),Ye(e,n,"formTarget",f.formTarget,f,null)):(Ye(e,n,"encType",f.encType,f,null),Ye(e,n,"method",f.method,f,null),Ye(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Fo(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=Cn);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Fo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Re("beforetoggle",e),Re("toggle",e),zo(e,"popover",s);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":zo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ig.get(o)||o,zo(e,o,s))}}function xu(e,n,o,s,f,p){switch(o){case"style":qc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Zi(e,s):(typeof s=="number"||typeof s=="bigint")&&Zi(e,""+s);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),n=o.slice(2,f?o.length-7:void 0),p=e[It]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof s=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,f);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):zo(e,o,s)}}}function Et(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var s=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(e,n,p,S,o,null)}}f&&Ye(e,n,"srcSet",o.srcSet,o,null),s&&Ye(e,n,"src",o.src,o,null);return;case"input":Re("invalid",e);var b=p=S=f=null,C=null,D=null;for(s in o)if(o.hasOwnProperty(s)){var B=o[s];if(B!=null)switch(s){case"name":f=B;break;case"type":S=B;break;case"checked":C=B;break;case"defaultChecked":D=B;break;case"value":p=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ye(e,n,s,B,o,null)}}Gc(e,p,b,C,D,S,f,!1);return;case"select":Re("invalid",e),s=S=p=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":S=b;break;case"multiple":s=b;default:Ye(e,n,f,b,o,null)}n=p,o=S,e.multiple=!!s,n!=null?ji(e,!!s,n,!1):o!=null&&ji(e,!!s,o,!0);return;case"textarea":Re("invalid",e),p=f=s=null;for(S in o)if(o.hasOwnProperty(S)&&(b=o[S],b!=null))switch(S){case"value":s=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:Ye(e,n,S,b,o,null)}Hc(e,s,f,p);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(s=o[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ye(e,n,C,s,o,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(s=0;s<Ao.length;s++)Re(Ao[s],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(s=o[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(e,n,D,s,o,null)}return;default:if(Ds(n)){for(B in o)o.hasOwnProperty(B)&&(s=o[B],s!==void 0&&xu(e,n,B,s,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(s=o[b],s!=null&&Ye(e,n,b,s,o,null))}function ov(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,b=null,C=null,D=null,B=null;for(G in o){var V=o[G];if(o.hasOwnProperty(G)&&V!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=V;default:s.hasOwnProperty(G)||Ye(e,n,G,null,s,V)}}for(var U in s){var G=s[U];if(V=o[U],s.hasOwnProperty(U)&&(G!=null||V!=null))switch(U){case"type":p=G;break;case"name":f=G;break;case"checked":D=G;break;case"defaultChecked":B=G;break;case"value":S=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==V&&Ye(e,n,U,G,s,V)}}ks(e,S,b,C,D,B,p,f);return;case"select":G=S=b=U=null;for(p in o)if(C=o[p],o.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":G=C;default:s.hasOwnProperty(p)||Ye(e,n,p,null,s,C)}for(f in s)if(p=s[f],C=o[f],s.hasOwnProperty(f)&&(p!=null||C!=null))switch(f){case"value":U=p;break;case"defaultValue":b=p;break;case"multiple":S=p;default:p!==C&&Ye(e,n,f,p,s,C)}n=b,o=S,s=G,U!=null?ji(e,!!o,U,!1):!!s!=!!o&&(n!=null?ji(e,!!o,n,!0):ji(e,!!o,o?[]:"",!1));return;case"textarea":G=U=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(e,n,b,null,s,f)}for(S in s)if(f=s[S],p=o[S],s.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":U=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Ye(e,n,S,f,s,p)}Pc(e,U,G);return;case"option":for(var ie in o)if(U=o[ie],o.hasOwnProperty(ie)&&U!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:Ye(e,n,ie,null,s,U)}for(C in s)if(U=s[C],G=o[C],s.hasOwnProperty(C)&&U!==G&&(U!=null||G!=null))switch(C){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ye(e,n,C,U,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in o)U=o[fe],o.hasOwnProperty(fe)&&U!=null&&!s.hasOwnProperty(fe)&&Ye(e,n,fe,null,s,U);for(D in s)if(U=s[D],G=o[D],s.hasOwnProperty(D)&&U!==G&&(U!=null||G!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Ye(e,n,D,U,s,G)}return;default:if(Ds(n)){for(var $e in o)U=o[$e],o.hasOwnProperty($e)&&U!==void 0&&!s.hasOwnProperty($e)&&xu(e,n,$e,void 0,s,U);for(B in s)U=s[B],G=o[B],!s.hasOwnProperty(B)||U===G||U===void 0&&G===void 0||xu(e,n,B,U,s,G);return}}for(var k in o)U=o[k],o.hasOwnProperty(k)&&U!=null&&!s.hasOwnProperty(k)&&Ye(e,n,k,null,s,U);for(V in s)U=s[V],G=o[V],!s.hasOwnProperty(V)||U===G||U==null&&G==null||Ye(e,n,V,U,s,G)}function Vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function av(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var f=o[s],p=f.transferSize,S=f.initiatorType,b=f.duration;if(p&&b&&Vm(S)){for(S=0,b=f.responseEnd,s+=1;s<o.length;s++){var C=o[s],D=C.startTime;if(D>b)break;var B=C.transferSize,V=C.initiatorType;B&&Vm(V)&&(C=C.responseEnd,S+=B*(C<b?1:(b-D)/(C-D)))}if(--s,n+=8*(p+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Su=null,Tu=null;function Ba(e){return e.nodeType===9?e:e.ownerDocument}function Om(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Eu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bu=null;function sv(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var Jm=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,Km=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Km<"u"?function(e){return Km.resolve(null).then(e).catch(cv)}:Jm;function cv(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function Ym(e,n){var o=n,s=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(f),Ml(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")No(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,No(o);for(var p=o.firstChild;p;){var S=p.nextSibling,b=p.nodeName;p[Fl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=S}}else o==="body"&&No(e.ownerDocument.body);o=f}while(o);Ml(n)}function $m(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function _u(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_u(o),Ms(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function dv(e,n,o,s){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Fl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function fv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=on(e.nextSibling),e===null))return null;return e}function Xm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=on(e.nextSibling),e===null))return null;return e}function Au(e){return e.data==="$?"||e.data==="$~"}function Cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function on(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Nu=null;function Qm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return on(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function jm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Zm(e,n,o){switch(n=Ba(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function No(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ms(e)}var an=new Map,Wm=new Set;function qa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=F.d;F.d={f:pv,r:hv,D:gv,C:yv,L:vv,m:xv,X:Tv,S:Sv,M:Ev};function pv(){var e=Vn.f(),n=ka();return e||n}function hv(e){var n=$i(e);n!==null&&n.tag===5&&n.type==="form"?gf(n):Vn.r(e)}var Cl=typeof document>"u"?null:document;function ep(e,n,o){var s=Cl;if(s&&typeof n=="string"&&n){var f=jt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Wm.has(f)||(Wm.add(f),e={rel:e,crossOrigin:o,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),Et(n,"link",e),ht(n),s.head.appendChild(n)))}}function gv(e){Vn.D(e),ep("dns-prefetch",e,null)}function yv(e,n){Vn.C(e,n),ep("preconnect",e,n)}function vv(e,n,o){Vn.L(e,n,o);var s=Cl;if(s&&e&&n){var f='link[rel="preload"][as="'+jt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+jt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+jt(o.imageSizes)+'"]')):f+='[href="'+jt(e)+'"]';var p=f;switch(n){case"style":p=Nl(e);break;case"script":p=Rl(e)}an.has(p)||(e=T({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),an.set(p,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(Ro(p))||n==="script"&&s.querySelector(Mo(p))||(n=s.createElement("link"),Et(n,"link",e),ht(n),s.head.appendChild(n)))}}function xv(e,n){Vn.m(e,n);var o=Cl;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+jt(s)+'"][href="'+jt(e)+'"]',p=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Rl(e)}if(!an.has(p)&&(e=T({rel:"modulepreload",href:e},n),an.set(p,e),o.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Mo(p)))return}s=o.createElement("link"),Et(s,"link",e),ht(s),o.head.appendChild(s)}}}function Sv(e,n,o){Vn.S(e,n,o);var s=Cl;if(s&&e){var f=Xi(s).hoistableStyles,p=Nl(e);n=n||"default";var S=f.get(p);if(!S){var b={loading:0,preload:null};if(S=s.querySelector(Ro(p)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},o),(o=an.get(p))&&Ru(e,o);var C=S=s.createElement("link");ht(C),Et(C,"link",e),C._p=new Promise(function(D,B){C.onload=D,C.onerror=B}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,za(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:b},f.set(p,S)}}}function Tv(e,n){Vn.X(e,n);var o=Cl;if(o&&e){var s=Xi(o).hoistableScripts,f=Rl(e),p=s.get(f);p||(p=o.querySelector(Mo(f)),p||(e=T({src:e,async:!0},n),(n=an.get(f))&&Mu(e,n),p=o.createElement("script"),ht(p),Et(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function Ev(e,n){Vn.M(e,n);var o=Cl;if(o&&e){var s=Xi(o).hoistableScripts,f=Rl(e),p=s.get(f);p||(p=o.querySelector(Mo(f)),p||(e=T({src:e,async:!0,type:"module"},n),(n=an.get(f))&&Mu(e,n),p=o.createElement("script"),ht(p),Et(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function tp(e,n,o,s){var f=(f=ne.current)?qa(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Nl(o.href),o=Xi(f).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Nl(o.href);var p=Xi(f).hoistableStyles,S=p.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=f.querySelector(Ro(e)))&&!p._p&&(S.instance=p,S.state.loading=5),an.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},an.set(e,o),p||bv(f,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(o),o=Xi(f).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nl(e){return'href="'+jt(e)+'"'}function Ro(e){return'link[rel="stylesheet"]['+e+"]"}function np(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function bv(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Et(n,"link",o),ht(n),e.head.appendChild(n))}function Rl(e){return'[src="'+jt(e)+'"]'}function Mo(e){return"script[async]"+e}function ip(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+jt(o.href)+'"]');if(s)return n.instance=s,ht(s),s;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),Et(s,"style",f),za(s,o.precedence,e),n.instance=s;case"stylesheet":f=Nl(o.href);var p=e.querySelector(Ro(f));if(p)return n.state.loading|=4,n.instance=p,ht(p),p;s=np(o),(f=an.get(f))&&Ru(s,f),p=(e.ownerDocument||e).createElement("link"),ht(p);var S=p;return S._p=new Promise(function(b,C){S.onload=b,S.onerror=C}),Et(p,"link",s),n.state.loading|=4,za(p,o.precedence,e),n.instance=p;case"script":return p=Rl(o.src),(f=e.querySelector(Mo(p)))?(n.instance=f,ht(f),f):(s=o,(f=an.get(p))&&(s=T({},o),Mu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),ht(f),Et(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,za(s,o.precedence,e));return n.instance}function za(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,p=f,S=0;S<s.length;S++){var b=s[S];if(b.dataset.precedence===n)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Ru(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Mu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Va=null;function lp(e,n,o){if(Va===null){var s=new Map,f=Va=new Map;f.set(o,s)}else f=Va,s=f.get(o),s||(s=new Map,f.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var p=o[f];if(!(p[Fl]||p[vt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var b=s.get(S);b?b.push(p):s.set(S,[p])}}return s}function op(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function _v(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ap(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Av(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Nl(s.href),p=n.querySelector(Ro(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Oa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=p,ht(p);return}p=n.ownerDocument||n,s=np(s),(f=an.get(f))&&Ru(s,f),p=p.createElement("link"),ht(p);var S=p;S._p=new Promise(function(b,C){S.onload=b,S.onerror=C}),Et(p,"link",s),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Oa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var wu=0;function Cv(e,n){return e.stylesheets&&e.count===0&&Ja(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Ja(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&wu===0&&(wu=62500*av());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ja(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>wu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Oa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ja(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fa=null;function Ja(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fa=new Map,n.forEach(Nv,e),Fa=null,Oa.call(e))}function Nv(e,n){if(!(n.state.loading&4)){var o=Fa.get(e);if(o)var s=o.get(null);else{o=new Map,Fa.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}f=n.instance,S=f.getAttribute("data-precedence"),p=o.get(S)||s,p===s&&o.set(null,f),o.set(S,f),this.count++,s=Oa.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var wo={$$typeof:O,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Rv(e,n,o,s,f,p,S,b,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.hiddenUpdates=Vl(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function sp(e,n,o,s,f,p,S,b,C,D,B,V){return e=new Rv(e,n,o,S,C,D,B,V,b),n=1,p===!0&&(n|=24),p=Ft(3,null,null,n),e.current=p,p.stateNode=e,n=ur(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:o,cache:n},mr(p),e}function rp(e){return e?(e=ol,e):ol}function up(e,n,o,s,f,p){f=rp(f),s.context===null?s.context=f:s.pendingContext=f,s=ti(n),s.payload={element:o},p=p===void 0?null:p,p!==null&&(s.callback=p),o=ni(e,s,n),o!==null&&(Ht(o,e,n),so(o,e,n))}function cp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function ku(e,n){cp(e,n),(e=e.alternate)&&cp(e,n)}function dp(e){if(e.tag===13||e.tag===31){var n=Ci(e,67108864);n!==null&&Ht(n,e,67108864),ku(e,67108864)}}function fp(e){if(e.tag===13||e.tag===31){var n=Xt();n=Cs(n);var o=Ci(e,n);o!==null&&Ht(o,e,n),ku(e,n)}}var Ka=!0;function Mv(e,n,o,s){var f=L.T;L.T=null;var p=F.p;try{F.p=2,Iu(e,n,o,s)}finally{F.p=p,L.T=f}}function wv(e,n,o,s){var f=L.T;L.T=null;var p=F.p;try{F.p=8,Iu(e,n,o,s)}finally{F.p=p,L.T=f}}function Iu(e,n,o,s){if(Ka){var f=Du(s);if(f===null)vu(e,n,s,Ya,o),pp(e,s);else if(Iv(f,e,n,o,s))s.stopPropagation();else if(pp(e,s),n&4&&-1<kv.indexOf(e)){for(;f!==null;){var p=$i(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=kt(p.pendingLanes);if(S!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;S;){var C=1<<31-Pe(S);b.entanglements[1]|=C,S&=~C}bn(p),(ze&6)===0&&(Ma=bt()+500,_o(0))}}break;case 31:case 13:b=Ci(p,2),b!==null&&Ht(b,p,2),ka(),ku(p,2)}if(p=Du(s),p===null&&vu(e,n,s,Ya,o),p===f)break;f=p}f!==null&&s.stopPropagation()}else vu(e,n,s,null,o)}}function Du(e){return e=Ls(e),Uu(e)}var Ya=null;function Uu(e){if(Ya=null,e=Yi(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=m(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ya=e,null}function mp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case ql:return 2;case Z:return 8;case Se:case Ze:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var Lu=!1,mi=null,pi=null,hi=null,ko=new Map,Io=new Map,gi=[],kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pp(e,n){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":ko.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(n.pointerId)}}function Do(e,n,o,s,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:p,targetContainers:[f]},n!==null&&(n=$i(n),n!==null&&dp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Iv(e,n,o,s,f){switch(n){case"focusin":return mi=Do(mi,e,n,o,s,f),!0;case"dragenter":return pi=Do(pi,e,n,o,s,f),!0;case"mouseover":return hi=Do(hi,e,n,o,s,f),!0;case"pointerover":var p=f.pointerId;return ko.set(p,Do(ko.get(p)||null,e,n,o,s,f)),!0;case"gotpointercapture":return p=f.pointerId,Io.set(p,Do(Io.get(p)||null,e,n,o,s,f)),!0}return!1}function hp(e){var n=Yi(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){e.blockedOn=n,Rc(e.priority,function(){fp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,Rc(e.priority,function(){fp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $a(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Du(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Us=s,o.target.dispatchEvent(s),Us=null}else return n=$i(o),n!==null&&dp(n),e.blockedOn=o,!1;n.shift()}return!0}function gp(e,n,o){$a(e)&&o.delete(n)}function Dv(){Lu=!1,mi!==null&&$a(mi)&&(mi=null),pi!==null&&$a(pi)&&(pi=null),hi!==null&&$a(hi)&&(hi=null),ko.forEach(gp),Io.forEach(gp)}function Xa(e,n){e.blockedOn===n&&(e.blockedOn=null,Lu||(Lu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Dv)))}var Qa=null;function yp(e){Qa!==e&&(Qa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qa===e&&(Qa=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(Uu(s||o)===null)continue;break}var p=$i(o);p!==null&&(e.splice(n,3),n-=3,Dr(p,{pending:!0,data:f,method:o.method,action:s},s,f))}}))}function Ml(e){function n(C){return Xa(C,e)}mi!==null&&Xa(mi,e),pi!==null&&Xa(pi,e),hi!==null&&Xa(hi,e),ko.forEach(n),Io.forEach(n);for(var o=0;o<gi.length;o++){var s=gi[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<gi.length&&(o=gi[0],o.blockedOn===null);)hp(o),o.blockedOn===null&&gi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var f=o[s],p=o[s+1],S=f[It]||null;if(typeof p=="function")S||yp(o);else if(S){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[It]||null)b=S.formAction;else if(Uu(f)!==null)continue}else b=S.action;typeof b=="function"?o[s+1]=b:(o.splice(s,3),s-=3),yp(o)}}}function vp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Gu(e){this._internalRoot=e}ja.prototype.render=Gu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Xt();up(o,s,e,n,null,null)},ja.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;up(e.current,2,null,e,null,null),ka(),n[Ki]=null}};function ja(e){this._internalRoot=e}ja.prototype.unstable_scheduleHydration=function(e){if(e){var n=Nc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<gi.length&&n!==0&&n<gi[o].priority;o++);gi.splice(o,0,e),o===0&&hp(e)}};var xp=t.version;if(xp!=="19.2.3")throw Error(a(527,xp,"19.2.3"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Uv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{Le=Za.inject(Uv),_e=Za}catch{}}return Lo.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",f=Cf,p=Nf,S=Rf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=sp(e,1,!1,null,null,o,s,null,f,p,S,vp),e[Ki]=n.current,yu(e),new Gu(n)},Lo.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,f="",p=Cf,S=Nf,b=Rf,C=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),n=sp(e,1,!0,n,o??null,s,f,C,p,S,b,vp),n.context=rp(null),o=n.current,s=Xt(),s=Cs(s),f=ti(s),f.callback=null,ni(o,f,s),o=s,n.current.lanes=o,Ol(n,o),bn(n),e[Ki]=n.current,yu(e),new ja(n)},Lo.version="19.2.3",Lo}var Mp;function Fv(){if(Mp)return Bu.exports;Mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bu.exports=Ov(),Bu.exports}var Jv=Fv();const Kv=y0(Jv);var Ue=(i=>(i.DRILL="Learn & Drill",i.ACTIVE_RECALL="Active Recall",i.SIMULATION="Test Simulation",i.WEAKNESS="Weakness Attack",i.EXAMPLE="Contoh Soal",i.PRACTICE="Latihan Kustom",i))(Ue||{});const Yv=i=>{let t=i;return()=>(t=(t*9301+49297)%233280,t/233280)},On=(i,t)=>i.sort(()=>t()-.5),wp=(i,t)=>i[Math.floor(t()*i.length)],kp=[{t:"Nasionalisme",q:"Sikap yang mencerminkan cinta tanah air dalam bidang ekonomi adalah...",a:["Mencintai produk dalam negeri","Membayar pajak tepat waktu","Mengikuti upacara bendera","Menjaga ketertiban umum","Menghormati pejuang"]},{t:"Integritas",q:"Seorang ASN ditawari gratifikasi oleh rekanan proyek. Sikap yang paling tepat sesuai nilai integritas adalah...",a:["Menolak dengan tegas dan melaporkan","Menolak secara halus","Menerima lalu menyumbangkan","Menerima jika tidak ada yang tahu","Mempertimbangkan risiko"]},{t:"Bela Negara",q:"Ancaman nirmiliter yang membahayakan kedaulatan negara dalam bidang sosial budaya adalah...",a:["Gaya hidup kebarat-baratan (Westernisasi)","Serangan siber","Invasi militer asing","Sabotase infrastruktur","Pelanggaran wilayah laut"]},{t:"Pilar Negara",q:"Lambang negara Garuda Pancasila diatur dalam UUD 1945 pasal...",a:["36A","36","36B","35","36C"]},{t:"Sejarah",q:"Perjanjian yang menandai pengakuan kedaulatan Indonesia oleh Belanda adalah...",a:["Konferensi Meja Bundar","Perjanjian Renville","Perjanjian Linggarjati","Perjanjian Roem-Royen","Perjanjian Kalijati"]},{t:"UUD 1945",q:"Hak DPR untuk meminta keterangan kepada pemerintah mengenai kebijakan pemerintah yang penting dan strategis disebut...",a:["Hak Interpelasi","Hak Angket","Hak Menyatakan Pendapat","Hak Imunitas","Hak Budget"]},{t:"Bahasa Indo",q:"Penulisan kata serapan yang **benar** di bawah ini adalah...",a:["Kualitas","Kwalitas","Qualitas","Kuwalitas","Kualitet"]},{t:"Pancasila",q:"Mengembangkan perbuatan yang luhur, yang mencerminkan sikap dan suasana kekeluargaan dan kegotongroyongan merupakan butir pengamalan sila ke...",a:["5","4","3","2","1"]}],Ip=[{topic:"Pelayanan Publik",situations:["Pelanggan marah-marah karena antrian","Sistem komputer mati saat pelayanan","Lansia bingung mengisi formulir","Rekan kerja judes pada tamu"]},{topic:"Jejaring Kerja",situations:["Rekan satu tim pasif dan malas","Perbedaan pendapat tajam saat rapat","Atasan memberikan instruksi yang kurang jelas","Diminta bekerjasama dengan divisi saingan"]},{topic:"Sosial Budaya",situations:["Ditempatkan di daerah terpencil beda budaya","Tetangga mengadakan acara yang bising","Rekan kerja membawa makanan berbau menyengat","Diskusi isu SARA di grup kantor"]},{topic:"TIK",situations:["Kantor beralih ke aplikasi digital baru","File penting terkena virus","Koneksi internet lambat saat deadline","Rekan senior menolak memakai komputer"]},{topic:"Profesionalisme",situations:["Diberi tugas di luar jobdesk saat sibuk","Melihat rekan kerja korupsi waktu","Sakit namun ada rapat penting","Keluarga minta fasilitas kantor"]},{topic:"Anti Radikalisme",situations:["Teman menyebar hoax pemecah belah","Ajakan kajian yang menyimpang","Simbol radikal di meja rekan","Diskusi menjelekkan pemerintah"]}],Ou=(i,t)=>{const l=[],a=i>1,r=Yv(i*1337);for(let d=0;d<30;d++){const m=kp[(d+i)%kp.length];let g=m.q,y=m.a[0],h=On([...m.a],r);if(m.t==="UUD 1945"){const x=28+d%5,T=1+i%2;g=`Bunyi pasal ${x} ayat (${T}) UUD 1945 berkaitan dengan...`,y=`Hak Asasi Manusia (Variasi ${x})`,h=On([y,"Pertahanan Negara","Pendidikan","Ekonomi","Bendera Negara"],r)}else if(m.t==="Sejarah"){const x=["Budi Utomo","Sumpah Pemuda","Proklamasi","Dekrit Presiden","Supersemar"],T=x[(d+i)%x.length];g=`Peristiwa ${T} terjadi pada tahun...`,y={"Budi Utomo":"1908","Sumpah Pemuda":"1928",Proklamasi:"1945","Dekrit Presiden":"1959",Supersemar:"1966"}[T],h=On([y,"1905","1920","1949","1998"],r)}l.push({id:`p${i}-twk-${d}`,type:"multiple_choice",content:g,options:h,correctAnswer:y,explanation:`Jawaban: ${y}. Soal ini menguji wawasan tentang ${m.t}.`,metadata:{difficulty:"Medium",idealTimeSeconds:40,topic:"TWK",subtest:`TWK - ${m.t}`}})}for(let d=0;d<35;d++){let m,g,y,h,x;if(d<10){h="TIU - Numerik";const T=Math.floor(r()*10)+2,E=Math.floor(r()*20)+5;if(d%3===0){const _=3*T+E;m=`Jika 3x + ${E} = ${_}, maka nilai x adalah...`,g=T.toString(),y=On([g,(T+1).toString(),(T-1).toString(),(T*2).toString(),(T+2).toString()],r),x=`3x + ${E} = ${_} -> 3x = ${_-E} -> x = ${T}`}else if(d%3===1){const _=Math.floor(r()*5)+1,A=i+1,w=[_,_+A,_+A*2,_+A*3,_+A*4];m=`Lanjutkan deret berikut: ${w[0]}, ${w[1]}, ${w[2]}, ${w[3]}, ...`,g=w[4].toString(),y=On([g,(w[4]+1).toString(),(w[4]-2).toString(),(w[4]*2).toString(),w[3].toString()],r),x=`Pola deret adalah penambahan +${A} setiap suku.`}else{const _=T*1e3,A=E*1e3;m=`Uang Ani Rp${_} dan uang Budi Rp${A}. Perbandingan uang Ani dan Budi adalah...`;const w=(H,$)=>$?w($,H%$):H,M=w(_,A);g=`${_/M}:${A/M}`,y=On([g,`${A/M}:${_/M}`,"1:2","2:3","3:4"],r),x=`Sederhanakan ${_} dan ${A} dengan membagi ${M}.`}}else if(d<20){h="TIU - Verbal";const T=["Semua Dokter","Sebagian Mahasiswa","Semua PNS","Tidak ada Guru"],E=["memakai kacamata","rajin membaca","disiplin","datang terlambat"],_=wp(T,r),A=wp(E,r);m=`${_} adalah orang yang ${A}. Pak Budi adalah anggota dari kelompok tersebut. Simpulan yang tepat adalah...`,g="Pak Budi mungkin "+A,_.includes("Semua")&&(g="Pak Budi pasti "+A),y=On([g,"Pak Budi tidak "+A,"Tidak dapat disimpulkan","Semua orang adalah Pak Budi","Salah semua"],r),x="Gunakan prinsip silogisme: Premis Mayor + Premis Minor = Kesimpulan."}else{h="TIU - Figural";const T=["Berputar 90 derajat","Dicerminkan","Warna berubah hitam-putih","Jumlah sisi bertambah satu"],E=T[(d+i)%T.length];m=`[Soal Gambar] Gambar 1 ke Gambar 2 mengalami perubahan: ${E}. Jika pola ini diterapkan pada Gambar 3 (Segitiga), maka Gambar 4 adalah...`,E.includes("sisi")?g="Segiempat":E.includes("Berputar")?g="Segitiga miring kanan":g="Segitiga terbalik / berubah warna",y=On([g,"Lingkaran","Segilima","Tetap Segitiga","Garis Lurus"],r),x=`Analogi gambar mengikuti pola: ${E}.`}l.push({id:`p${i}-tiu-${d}`,type:"multiple_choice",content:m,options:y,correctAnswer:g,explanation:x,metadata:{difficulty:a?"Hard":"Medium",idealTimeSeconds:60,topic:"TIU",subtest:h}})}for(let d=0;d<45;d++){const m=Ip[(d+i)%Ip.length],g=m.situations[(d+i)%m.situations.length],y=`[${m.topic}] ${g}. Sikap Anda adalah...`,h=[{txt:"Segera bertindak proaktif, solutif, dan mengutamakan kepentingan bersama.",score:5},{txt:"Melakukan tindakan sesuai prosedur dan arahan atasan.",score:4},{txt:"Meminta bantuan rekan lain untuk menyelesaikan.",score:3},{txt:"Menunggu situasi membaik atau diam saja.",score:2},{txt:"Marah, mengeluh, atau meninggalkan tanggung jawab.",score:1}],x=h.map(E=>{let _=E.txt;return m.topic==="TIK"&&E.score===5&&(_="Mempelajari sistem baru dengan antusias dan mengajarkan rekan lain."),m.topic==="Pelayanan Publik"&&E.score===5&&(_="Melayani dengan ramah, cepat, dan tuntas melebihi ekspektasi."),{...E,txt:_}}),T=On(x,r);l.push({id:`p${i}-tkp-${d}`,type:"multiple_choice",content:y,options:T.map(E=>E.txt),correctAnswer:h[0].txt,tkpPoints:T.map(E=>({option:E.txt,points:E.score})),explanation:`Aspek: ${m.topic}. Poin 5 diberikan pada jawaban yang menunjukkan inisiatif, kematangan emosi, dan orientasi pelayanan terbaik.`,metadata:{difficulty:"Medium",idealTimeSeconds:45,topic:"TKP",subtest:`TKP - ${m.topic}`}})}return l},x0=[{id:"SKRIPSI",name:"Skripsi Helper",desc:"Bantuan Judul, Outline, & Metodologi"},{id:"UTBK",name:"UTBK SNBT",desc:"Tes Potensi Skolastik & Literasi"},{id:"SKD",name:"SKD CPNS/Kedinasan",desc:"TWK, TIU, TKP"},{id:"TPA",name:"TPA & TBI",desc:"Tes Potensi Akademik & B.Inggris (Seleksi Lanjutan)"},{id:"PSIKOTEST",name:"Psikotes General",desc:"Tes IQ: Logika, Spasial, Numerik"},{id:"INTERVIEW",name:"Wawancara Tulis",desc:"Simulasi Jawab Interview & Review AI"},{id:"BUTAWRNA",name:"Tes Buta Warna",desc:"Simulasi Ishihara & Warna"},{id:"GENERAL",name:"Materi Umum",desc:"Belajar Apapun: PDF, Topik, Hafalan"}],$v=[{id:"ACTIVE_RECALL",name:"Active Recall",desc:"Paksa otak mengingat tanpa melihat catatan.",icon:"Brain"},{id:"PRACTICE",name:"Latihan Soal",desc:"Drill soal pilihan ganda dari materi.",icon:"PenTool"},{id:"SPACED_REPETITION",name:"Spaced Repetition",desc:"Flashcards untuk hafalan jangka panjang.",icon:"Repeat"},{id:"FEYNMAN",name:"Feynman Technique",desc:"Jelaskan materi seolah ke anak kecil.",icon:"MessageCircle"},{id:"MIND_MAP",name:"Mind Mapping",desc:"Visualisasikan hubungan antar konsep.",icon:"Share2"},{id:"PBL",name:"Problem-Based",desc:"Belajar lewat studi kasus nyata.",icon:"Search"},{id:"TEACHING",name:"Teaching Method",desc:"Simulasi mengajar murid (AI).",icon:"GraduationCap"},{id:"SQ3R",name:"SQ3R Method",desc:"Survey, Question, Read, Recite, Review.",icon:"BookOpen"}],Xv=["Penalaran Umum","Pengetahuan Kuantitatif","Pemahaman Bacaan & Menulis","Pengetahuan & Pemahaman Umum","Literasi Bahasa Indonesia","Literasi Bahasa Inggris","Penalaran Matematika"],Qv=["Tes Wawasan Kebangsaan (TWK)","Tes Intelegensia Umum (TIU)","Tes Karakteristik Pribadi (TKP)"],jv=["Verbal (Analogi, Silogisme)","Numerik (Deret, Aritmatika)","Penalaran Logis & Analitis","Spasial (Gambar)","Tes Bahasa Inggris (TBI)"],Zv=["Tes IQ General (Campuran)","Logika Aritmatika","Kemampuan Verbal","Spasial & Pola Gambar"],Wv=["Pertanyaan Personal (Kelebihan/Kekurangan)","Motivasi & Komitmen","Studi Kasus & Problem Solving","Wawasan Kebangsaan & Integritas"],ex=(i,t,l)=>Array.from({length:i}).map((a,r)=>({id:`${t}-${l}-${r}`,type:"multiple_choice",content:`Soal Latihan ${t} - ${l} No. ${r+1}. (Soal Statis)`,options:["Jawaban A","Jawaban B","Jawaban C","Jawaban D","Jawaban E"],correctAnswer:"Jawaban A",explanation:"Penjelasan default.",metadata:{difficulty:"Medium",idealTimeSeconds:60,topic:l,subtest:l}})),rc=(i,t,l,a,r,d,m=0)=>{let g=[];return r.forEach(y=>{g=[...g,...ex(y.count,l,y.name)]}),{id:i,title:t,category:l,skdStream:d,durationMinutes:a,isAiGenerated:!1,createdAt:new Date().toISOString(),questions:g}},tx=[],nx=[{id:"skd-kedinasan-1",title:"TO SKD Kedinasan 1 (110 Soal)",category:"SKD",skdStream:"KEDINASAN",durationMinutes:100,isAiGenerated:!1,createdAt:new Date().toISOString(),questions:Ou(1)},{id:"skd-kedinasan-2",title:"TO SKD Kedinasan 2 (110 Soal)",category:"SKD",skdStream:"KEDINASAN",durationMinutes:100,isAiGenerated:!1,createdAt:new Date().toISOString(),questions:Ou(2)},{id:"skd-kedinasan-3",title:"TO SKD Kedinasan 3 (110 Soal)",category:"SKD",skdStream:"KEDINASAN",durationMinutes:100,isAiGenerated:!1,createdAt:new Date().toISOString(),questions:Ou(3)}],ix=[{name:"Penalaran Umum",count:30},{name:"Pengetahuan dan Pemahaman Umum",count:20},{name:"Pemahaman Bacaan dan Menulis",count:20},{name:"Pengetahuan Kuantitatif",count:20},{name:"Literasi Bahasa Indonesia",count:30},{name:"Literasi Bahasa Inggris",count:20},{name:"Penalaran Matematika",count:20}],lx=Array.from({length:5}).map((i,t)=>rc(`utbk-to-${t+1}`,`TO UTBK ${t+1} (Bawaan)`,"UTBK",195,ix,void 0,t)),ox=[{name:"TPA",count:45},{name:"Tes Bahasa Inggris (TBI)",count:20}],ax=Array.from({length:5}).map((i,t)=>rc(`tpa-to-${t+1}`,`TO TPA TBI ${t+1} (Bawaan)`,"TPA",100,ox,void 0,t)),sx=[{name:"General IQ",count:40}],rx=Array.from({length:5}).map((i,t)=>rc(`psiko-to-${t+1}`,`TO Psikotest ${t+1} (Bawaan)`,"PSIKOTEST",40,sx,void 0,t)),ux=[{name:"Penalaran Umum",duration:30},{name:"Pengetahuan dan Pemahaman Umum",duration:15},{name:"Pemahaman Bacaan dan Menulis",duration:25},{name:"Pengetahuan Kuantitatif",duration:20},{name:"Literasi Bahasa Indonesia",duration:45},{name:"Literasi Bahasa Inggris",duration:30},{name:"Penalaran Matematika",duration:30}];var cx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dx,fx;function mx(){return{geminiUrl:dx,vertexUrl:fx}}function px(i,t,l,a){var r,d;if(!(i!=null&&i.baseUrl)){const m=mx();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kn{}function te(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const x=y[h];c(x,t.slice(d+1),l[h])}else for(const h of y)c(h,t.slice(d+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function hx(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),d=a.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}Ku(i,r,d,0,m)}}function Ku(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Ku(y,t,l,a+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,x]of Object.entries(y)){const T=[];for(const E of l.slice(a))E==="*"?T.push(h):T.push(E);c(m,T,x)}for(const h of g)delete m[h]}}else{const m=i;d in m&&Ku(m[d],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function yx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],xx(m)),t}function vx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],Sx(m)),t}function xx(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Tx(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Sx(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Ex(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Tx(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],Rx(l)),t}function Ex(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],Mx(l)),t}function bx(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function _x(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Ax(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],Cx(m)),t}function Cx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function S0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],Nx(m)),t}function Nx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Rx(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],uc(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Mx(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],uc(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Dp||(Dp={}));var Up;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Up||(Up={}));var Lp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Lp||(Lp={}));var ee;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ee||(ee={}));var Gp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gp||(Gp={}));var Pp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Pp||(Pp={}));var Hp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Hp||(Hp={}));var Bp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Bp||(Bp={}));var qp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(qp||(qp={}));var zp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(zp||(zp={}));var Vp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Vp||(Vp={}));var Op;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Op||(Op={}));var Fp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fp||(Fp={}));var Jp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Jp||(Jp={}));var Kp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Kp||(Kp={}));var Yp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Yp||(Yp={}));var $p;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})($p||($p={}));var Xp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xp||(Xp={}));var Qp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qp||(Qp={}));var jp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(jp||(jp={}));var Zp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Zp||(Zp={}));var rs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(rs||(rs={}));var Wp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Wp||(Wp={}));var eh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(eh||(eh={}));var th;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(th||(th={}));var Yu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yu||(Yu={}));var nh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(nh||(nh={}));var ih;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ih||(ih={}));var lh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(lh||(lh={}));var oh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(oh||(oh={}));var ah;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(ah||(ah={}));var sh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(sh||(sh={}));var rh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(rh||(rh={}));var uh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(uh||(uh={}));var ch;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ch||(ch={}));var dh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dh||(dh={}));var fh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fh||(fh={}));var mh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(mh||(mh={}));var ph;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(ph||(ph={}));var hh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(hh||(hh={}));var gh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(gh||(gh={}));var yh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yh||(yh={}));var vh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(vh||(vh={}));var xh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(xh||(xh={}));var Sh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Sh||(Sh={}));var Th;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Th||(Th={}));var Eh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Eh||(Eh={}));var bh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(bh||(bh={}));var _h;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(_h||(_h={}));var Ah;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ah||(Ah={}));var Ch;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Ch||(Ch={}));var Nh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Nh||(Nh={}));var Rh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rh||(Rh={}));var Mh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Mh||(Mh={}));var Il;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Il||(Il={}));class $u{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Go{get text(){var t,l,a,r,d,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const T=[];for(const E of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,A]of Object.entries(E))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(A!==null||A!==void 0)&&T.push(_);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var t,l,a,r,d,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const T of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,_]of Object.entries(T))E!=="inlineData"&&(_!==null||_!==void 0)&&x.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,d,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,d,m,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,d,m,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class wh{}class kh{}class wx{}class kx{}class Ix{}class Dx{}class Ih{}class Dh{}class Uh{}class Ux{}class us{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new us;let r;const d=t;return l?r=vx(d):r=yx(d),Object.assign(a,r),a}}class Lh{}class Gh{}class Ph{}class Hh{}class Lx{}class Gx{}class Px{}class cc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new cc,d=Ax(t);return Object.assign(a,d),a}}class Hx{}class Bx{}class qx{}class Bh{}class zx{get text(){var t,l,a;let r="",d=!1;const m=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,l,a;let r="";const d=[];for(const m of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Vx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class dc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new dc,d=S0(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function T0(i,t){const l=qe(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function E0(i){return Array.isArray(i)?i.map(t=>cs(t)):[cs(i)]}function cs(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function b0(i){const t=cs(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function _0(i){const t=cs(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function qh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function A0(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>qh(t)):[qh(i)]}function Xu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function zh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Vh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function At(i){if(i==null)throw new Error("ContentUnion is required");return Xu(i)?i:{role:"user",parts:A0(i)}}function fc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=At(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=At(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>At(l)):[At(t)]}function sn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(zh(i)||Vh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[At(i)]}const t=[],l=[],a=Xu(i[0]);for(const r of i){const d=Xu(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(zh(r)||Vh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:A0(l)}),t}function Ox(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(ee).includes(l[0].toUpperCase())?l[0].toUpperCase():ee.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(ee).includes(a.toUpperCase())?a.toUpperCase():ee.TYPE_UNSPECIFIED})}}function Ul(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&Ox(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ee).includes(g.toUpperCase())?g.toUpperCase():ee.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=Ul(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(Ul(h))}t[m]=y}else if(r.includes(m)){const y={};for(const[h,x]of Object.entries(g))y[h]=Ul(x);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function mc(i){return Ul(i)}function pc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function hc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Gl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ul(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ul(t.response));return i}function Pl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function Fx(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function Yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Fx(i,t,"cachedContents")}function C0(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function vi(i){return uc(i)}function Jx(i){return i!=null&&typeof i=="object"&&"name"in i}function Kx(i){return i!=null&&typeof i=="object"&&"video"in i}function Yx(i){return i!=null&&typeof i=="object"&&"uri"in i}function N0(i){var t;let l;if(Jx(i)&&(l=i.name),!(Yx(i)&&(l=i.uri,l===void 0))&&!(Kx(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function R0(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function M0(i){for(const t of["models","tunedModels","publisherModels"])if($x(i,t))return i[t];return[]}function $x(i,t){return i!==null&&typeof i=="object"&&t in i}function Xx(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Qx(i,t={}){const l=[],a=new Set;for(const r of i){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=Xx(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function w0(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function jx(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function k0(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Hl(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function I0(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zx(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>IS(m))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["inlinedEmbedContentResponses"],d)}return t}function Wx(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function eS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function os(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],I0(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const m=u(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],Zx(k0(h))),t}function Qu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],I0(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["createTime"]);m!=null&&c(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const x=u(i,["model"]);x!=null&&c(t,["model"],x);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],tS(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],Wx(k0(E)));const _=u(i,["completionStats"]);return _!=null&&c(t,["completionStats"],_),t}function tS(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function nS(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>kS(i,m))),c(l,["requests","requests"],d)}return l}function iS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function lS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function oS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Hl(i,a)),l}function aS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Hl(i,a)),l}function sS(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],rS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function rS(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function D0(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>BS(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function uS(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function cS(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],eS(jx(r))),l}function Oh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],nS(i,w0(i,r)));const d=u(t,["config"]);return d!=null&&uS(d,l),l}function dS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],qe(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],iS(w0(i,r)));const d=u(t,["config"]);return d!=null&&cS(d,l),l}function fS(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function mS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],SS(i,r));const d=u(t,["config"]);return d!=null&&fS(d,l),l}function pS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Hl(i,a)),l}function hS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Hl(i,a)),l}function gS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function yS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function vS(i,t){const l={},a=u(t,["contents"]);if(a!=null){let d=fc(i,a);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],xS(r,l)),hx(l,{"requests[].*":"requests[].request.*"})),l}function xS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function SS(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],vS(i,r)),l}function TS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ES(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _S(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],D0(At(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const A=u(t,["frequencyPenalty"]);A!=null&&c(a,["frequencyPenalty"],A);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const H=u(t,["responseSchema"]);H!=null&&c(a,["responseSchema"],mc(H));const $=u(t,["responseJsonSchema"]);if($!=null&&c(a,["responseJsonSchema"],$),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let Ee=O;Array.isArray(Ee)&&(Ee=Ee.map(Ge=>qS(Ge))),c(l,["safetySettings"],Ee)}const z=u(t,["tools"]);if(l!==void 0&&z!=null){let Ee=Pl(z);Array.isArray(Ee)&&(Ee=Ee.map(Ge=>VS(Gl(Ge)))),c(l,["tools"],Ee)}const j=u(t,["toolConfig"]);if(l!==void 0&&j!=null&&c(l,["toolConfig"],zS(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&c(l,["cachedContent"],Yn(i,X));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const ue=u(t,["mediaResolution"]);ue!=null&&c(a,["mediaResolution"],ue);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],pc(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],wS(ye));const Ve=u(t,["enableEnhancedCivicAnswers"]);return Ve!=null&&c(a,["enableEnhancedCivicAnswers"],Ve),a}function AS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>sS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function CS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Hl(i,a)),l}function NS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Hl(i,a)),l}function RS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function MS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function wS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function kS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let g=sn(r);Array.isArray(g)&&(g=g.map(y=>D0(y))),c(l,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(l,["metadata"],d);const m=u(t,["config"]);return m!=null&&c(l,["request","generationConfig"],_S(i,m,u(l,["request"],{}))),l}function IS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],AS(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function DS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function US(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),l}function LS(i){const t={},l=u(i,["config"]);return l!=null&&DS(l,t),t}function GS(i){const t={},l=u(i,["config"]);return l!=null&&US(l,t),t}function PS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>os(m))),c(t,["batchJobs"],d)}return t}function HS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Qu(m))),c(t,["batchJobs"],d)}return t}function BS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],TS(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],ES(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],lS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function qS(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function zS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],bS(a)),t}function VS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],RS(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],MS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Jn||(Jn={}));class Vi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,d;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OS extends Kn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Vi(Jn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Oh(this.apiClient,t),a=l._url,r=te("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const x of y){const T=Object.assign({},x);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const _=T.request;_.systemInstruction=E,T.request=_}h.push(T)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(m)a.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=dS(this.apiClient,t);return g=te("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Qu(x))}else{const h=Oh(this.apiClient,t);return g=te("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>os(x))}}async createEmbeddingsInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mS(this.apiClient,t);return d=te("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>os(y))}}async get(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=NS(this.apiClient,t);return g=te("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Qu(x))}else{const h=CS(this.apiClient,t);return g=te("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>os(x))}}async cancel(t){var l,a,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=aS(this.apiClient,t);m=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=oS(this.apiClient,t);m=te("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=GS(t);return g=te("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=HS(x),E=new Bh;return Object.assign(E,T),E})}else{const h=LS(t);return g=te("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=PS(x),E=new Bh;return Object.assign(E,T),E})}}async delete(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=hS(this.apiClient,t);return g=te("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>yS(x))}else{const h=pS(this.apiClient,t);return g=te("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>gS(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Fh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>mT(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function JS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=sn(m);Array.isArray(x)&&(x=x.map(T=>Fh(T))),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Fh(At(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(T=>hT(T))),c(t,["tools"],x)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],pT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function KS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let T=sn(m);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],At(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>gT(E))),c(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),l}function YS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],T0(i,a));const r=u(t,["config"]);return r!=null&&JS(r,l),l}function $S(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],T0(i,a));const r=u(t,["config"]);return r!=null&&KS(r,l),l}function XS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Yn(i,a)),l}function QS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Yn(i,a)),l}function jS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ZS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function WS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function eT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tT(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nT(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function iT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Yn(i,a)),l}function lT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Yn(i,a)),l}function oT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function aT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function sT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function rT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function uT(i){const t={},l=u(i,["config"]);return l!=null&&sT(l,t),t}function cT(i){const t={},l=u(i,["config"]);return l!=null&&rT(l,t),t}function dT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function fT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function mT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],WS(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],eT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],FS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function pT(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],tT(a)),t}function hT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],oT(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],aT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function gT(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>nT(E))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function yT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function vT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function xT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],Yn(i,a));const r=u(t,["config"]);return r!=null&&yT(r,l),l}function ST(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],Yn(i,a));const r=u(t,["config"]);return r!=null&&vT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends Kn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Vi(Jn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$S(this.apiClient,t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=YS(this.apiClient,t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=lT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=iT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=QS(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=ZS(x),E=new Ph;return Object.assign(E,T),E})}else{const h=XS(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=jS(x),E=new Ph;return Object.assign(E,T),E})}}async update(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ST(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=xT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=cT(t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=fT(x),E=new Hh;return Object.assign(E,T),E})}else{const h=uT(t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=dT(x),E=new Hh;return Object.assign(E,T),E})}}}function ds(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Jh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(i){return this instanceof pe?(this.v=i,this):new pe(i)}function gn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(_){return function(A){return Promise.resolve(A).then(_,T)}}function g(_,A){a[_]&&(r[_]=function(w){return new Promise(function(M,H){d.push([_,w,M,H])>1||y(_,w)})},A&&(r[_]=A(r[_])))}function y(_,A){try{h(a[_](A))}catch(w){E(d[0][3],w)}}function h(_){_.value instanceof pe?Promise.resolve(_.value.v).then(x,T):E(d[0][2],_)}function x(_){y("next",_)}function T(_){y("throw",_)}function E(_,A){_(A),d.shift(),d.length&&y(d[0][0],d[0][1])}}function yn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Jh=="function"?Jh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=i[d]&&function(m){return new Promise(function(g,y){m=i[d](m),r(g,y,m.done,m.value)})}}function r(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:U0(l)}function U0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function bT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Kh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let d=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),d&&!U0(i[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class _T{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new AT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class AT{constructor(t,l,a,r={},d=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),bT(d)}async sendMessage(t){var l;await this.sendPromise;const a=At(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await r,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,x=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];x!=null&&(E=(g=x.slice(T))!==null&&g!==void 0?g:[]);const _=h?[h]:[];this.recordHistory(a,_,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=At(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const l=t?Kh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return gn(this,arguments,function*(){var r,d,m,g,y,h;const x=[];try{for(var T=!0,E=yn(t),_;_=yield pe(E.next()),r=_.done,!r;T=!0){g=_.value,T=!1;const A=g;if(ET(A)){const w=(h=(y=A.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;w!==void 0&&x.push(w)}yield yield pe(A)}}catch(A){d={error:A}}finally{try{!T&&!r&&(m=E.return)&&(yield pe(m.call(E)))}finally{if(d)throw d.error}}this.recordHistory(l,x)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(d=>d.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Kh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ys extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ys.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CT(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function NT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function RT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],N0(l)),t}function MT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function wT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],N0(l)),t}function kT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function IT(i){const t={},l=u(i,["config"]);return l!=null&&kT(l,t),t}function DT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UT extends Kn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Vi(Jn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IT(t);return d=te("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=DT(y),x=new Hx;return Object.assign(x,h),x})}}async createInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CT(t);return d=te("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=NT(y),x=new Bx;return Object.assign(x,h),x})}}async get(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wT(t);return d=te("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RT(t);return d=te("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=MT(y),x=new qx;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function as(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function LT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>jT(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function GT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function PT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function HT(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function BT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const _=u(i,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const A=u(i,["responseModalities"]);A!=null&&c(t,["responseModalities"],A);const w=u(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const H=u(i,["seed"]);H!=null&&c(t,["seed"],H);const $=u(i,["speechConfig"]);$!=null&&c(t,["speechConfig"],$);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const z=u(i,["temperature"]);z!=null&&c(t,["temperature"],z);const j=u(i,["thinkingConfig"]);j!=null&&c(t,["thinkingConfig"],j);const X=u(i,["topK"]);X!=null&&c(t,["topK"],X);const J=u(i,["topP"]);if(J!=null&&c(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function zT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function VT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],hc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&c(t,["setup","systemInstruction"],LT(At(A)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let X=Pl(w);Array.isArray(X)&&(X=X.map(J=>WT(Gl(J)))),c(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],ZT(M));const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const $=u(i,["outputAudioTranscription"]);t!==void 0&&$!=null&&c(t,["setup","outputAudioTranscription"],$);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&c(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function OT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],BT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],hc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&c(t,["setup","systemInstruction"],At(A));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let J=Pl(w);Array.isArray(J)&&(J=J.map(ue=>eE(Gl(ue)))),c(t,["setup","tools"],J)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],M);const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const $=u(i,["outputAudioTranscription"]);t!==void 0&&$!=null&&c(t,["setup","outputAudioTranscription"],$);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const j=u(i,["proactivity"]);t!==void 0&&j!=null&&c(t,["setup","proactivity"],j);const X=u(i,["explicitVadSignal"]);return t!==void 0&&X!=null&&c(t,["setup","explicitVadSignal"],X),l}function FT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],qe(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],VT(r,l)),l}function JT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],qe(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],OT(r,l)),l}function KT(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function YT(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function $T(i){const t={},l=u(i,["media"]);if(l!=null){let h=E0(l);Array.isArray(h)&&(h=h.map(x=>as(x))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],as(_0(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],as(b0(d)));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function XT(i){const t={},l=u(i,["media"]);if(l!=null){let h=E0(l);Array.isArray(h)&&(h=h.map(x=>x)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],_0(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],b0(d));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function QT(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const m=u(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],tE(m));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function jT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],GT(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],PT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],as(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function ZT(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function WT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],qT(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],zT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function eE(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>HT(E))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function tE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["promptTokensDetails"],_)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["cacheTokensDetails"],_)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["responseTokensDetails"],_)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["toolUsePromptTokensDetails"],_)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],lE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function lE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function oE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let d=sn(r);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["contents"],d)}return l}function aE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function sE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],rE(a)),t}function rE(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function vs(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>yb(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function uE(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function cE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function dE(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],At(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>H0(g))),c(t,["tools"],m)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],nb(d)),l}function fE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let m=sn(r);Array.isArray(m)&&(m=m.map(g=>vs(g))),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&cE(d),l}function mE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let m=sn(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&dE(d,l),l}function pE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function hE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function gE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],qe(i,a)),l}function yE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],qe(i,a)),l}function vE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function xE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function SE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const _=u(i,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const A=u(i,["outputMimeType"]);t!==void 0&&A!=null&&c(t,["parameters","outputOptions","mimeType"],A);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const H=u(i,["labels"]);t!==void 0&&H!=null&&c(t,["labels"],H);const $=u(i,["editMode"]);t!==void 0&&$!=null&&c(t,["parameters","editMode"],$);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),l}function TE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>bb(y))),c(l,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&SE(m,l),l}function EE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>xs(d))),c(t,["generatedImages"],r)}return t}function bE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function _E(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function AE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let g=fc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&bE(d,l);const m=u(t,["model"]);return m!==void 0&&c(l,["requests[]","model"],qe(i,m)),l}function CE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let m=fc(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["instances[]","content"],m)}const d=u(t,["config"]);return d!=null&&_E(d,l),l}function NE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function RE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>sE(m))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function ME(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function wE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function kE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function IE(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function DE(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function UE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],vs(At(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const A=u(t,["frequencyPenalty"]);A!=null&&c(a,["frequencyPenalty"],A);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const H=u(t,["responseSchema"]);H!=null&&c(a,["responseSchema"],mc(H));const $=u(t,["responseJsonSchema"]);if($!=null&&c(a,["responseJsonSchema"],$),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let Ee=O;Array.isArray(Ee)&&(Ee=Ee.map(Ge=>_b(Ge))),c(l,["safetySettings"],Ee)}const z=u(t,["tools"]);if(l!==void 0&&z!=null){let Ee=Pl(z);Array.isArray(Ee)&&(Ee=Ee.map(Ge=>kb(Gl(Ge)))),c(l,["tools"],Ee)}const j=u(t,["toolConfig"]);if(l!==void 0&&j!=null&&c(l,["toolConfig"],wb(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&c(l,["cachedContent"],Yn(i,X));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const ue=u(t,["mediaResolution"]);ue!=null&&c(a,["mediaResolution"],ue);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],pc(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],sb(ye));const Ve=u(t,["enableEnhancedCivicAnswers"]);return Ve!=null&&c(a,["enableEnhancedCivicAnswers"],Ve),a}function LE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],At(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const _=u(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const A=u(t,["frequencyPenalty"]);A!=null&&c(a,["frequencyPenalty"],A);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const H=u(t,["responseSchema"]);H!=null&&c(a,["responseSchema"],mc(H));const $=u(t,["responseJsonSchema"]);$!=null&&c(a,["responseJsonSchema"],$);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const z=u(t,["modelSelectionConfig"]);z!=null&&c(a,["modelConfig"],z);const j=u(t,["safetySettings"]);if(l!==void 0&&j!=null){let L=j;Array.isArray(L)&&(L=L.map(F=>F)),c(l,["safetySettings"],L)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let L=Pl(X);Array.isArray(L)&&(L=L.map(F=>H0(Gl(F)))),c(l,["tools"],L)}const J=u(t,["toolConfig"]);l!==void 0&&J!=null&&c(l,["toolConfig"],J);const ue=u(t,["labels"]);l!==void 0&&ue!=null&&c(l,["labels"],ue);const W=u(t,["cachedContent"]);l!==void 0&&W!=null&&c(l,["cachedContent"],Yn(i,W));const se=u(t,["responseModalities"]);se!=null&&c(a,["responseModalities"],se);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const Ve=u(t,["speechConfig"]);Ve!=null&&c(a,["speechConfig"],pc(Ve));const Ee=u(t,["audioTimestamp"]);Ee!=null&&c(a,["audioTimestamp"],Ee);const Ge=u(t,["thinkingConfig"]);Ge!=null&&c(a,["thinkingConfig"],Ge);const We=u(t,["imageConfig"]);if(We!=null&&c(a,["imageConfig"],rb(We)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Yh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let m=sn(r);Array.isArray(m)&&(m=m.map(g=>vs(g))),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],UE(i,d,l)),l}function $h(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let m=sn(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],LE(i,d,l)),l}function Xh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>iE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Qh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(x=>x)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const m=u(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function GE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const x=u(i,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(i,["imageSize"]);if(t!==void 0&&_!=null&&c(t,["parameters","sampleImageSize"],_),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function PE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const _=u(i,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const A=u(i,["outputMimeType"]);t!==void 0&&A!=null&&c(t,["parameters","outputOptions","mimeType"],A);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const H=u(i,["labels"]);t!==void 0&&H!=null&&c(t,["labels"],H);const $=u(i,["imageSize"]);t!==void 0&&$!=null&&c(t,["parameters","sampleImageSize"],$);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),l}function HE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&GE(d,l),l}function BE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&PE(d,l),l}function qE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>ZE(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],G0(r)),t}function zE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>xs(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],P0(r)),t}function VE(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],Ss(x));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(_=>Fb(_))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function OE(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const A=u(i,["generateAudio"]);t!==void 0&&A!=null&&c(t,["parameters","generateAudio"],A);const w=u(i,["lastFrame"]);t!==void 0&&w!=null&&c(t,["instances[0]","lastFrame"],vn(w));const M=u(i,["referenceImages"]);if(t!==void 0&&M!=null){let O=M;Array.isArray(O)&&(O=O.map(z=>Jb(z))),c(t,["instances[0]","referenceImages"],O)}const H=u(i,["mask"]);t!==void 0&&H!=null&&c(t,["instances[0]","mask"],Ob(H));const $=u(i,["compressionQuality"]);return t!==void 0&&$!=null&&c(t,["parameters","compressionQuality"],$),l}function FE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],$E(m)),t}function JE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],XE(m)),t}function KE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],Ss(d));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],B0(m));const g=u(t,["source"]);g!=null&&QE(g,l);const y=u(t,["config"]);return y!=null&&VE(y,l),l}function YE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],vn(d));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],q0(m));const g=u(t,["source"]);g!=null&&jE(g,l);const y=u(t,["config"]);return y!=null&&OE(y,l),l}function $E(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>eb(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function XE(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>tb(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function QE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ss(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],B0(d)),l}function jE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],vn(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],q0(d)),l}function ZE(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],ub(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],G0(r)),t}function xs(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],L0(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],P0(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function WE(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],L0(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function eb(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],zb(l)),t}function tb(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],Vb(l)),t}function nb(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const _=u(i,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const A=u(i,["responseModalities"]);A!=null&&c(t,["responseModalities"],A);const w=u(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const H=u(i,["seed"]);H!=null&&c(t,["seed"],H);const $=u(i,["speechConfig"]);$!=null&&c(t,["speechConfig"],$);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const z=u(i,["temperature"]);z!=null&&c(t,["temperature"],z);const j=u(i,["thinkingConfig"]);j!=null&&c(t,["thinkingConfig"],j);const X=u(i,["topK"]);X!=null&&c(t,["topK"],X);const J=u(i,["topP"]);if(J!=null&&c(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ib(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],qe(i,a)),l}function lb(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],qe(i,a)),l}function ob(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function ab(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function sb(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function rb(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const d=u(i,["outputMimeType"]);d!=null&&c(t,["imageOutputOptions","mimeType"],d);const m=u(i,["outputCompressionQuality"]);return m!=null&&c(t,["imageOutputOptions","compressionQuality"],m),t}function ub(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],vi(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function L0(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],vi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ss(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],vi(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function vn(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],vi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function cb(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],R0(i,g)),a}function db(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],R0(i,g)),a}function fb(i,t){const l={},a=u(t,["config"]);return a!=null&&cb(i,a,l),l}function mb(i,t){const l={},a=u(t,["config"]);return a!=null&&db(i,a,l),l}function pb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=M0(r);Array.isArray(d)&&(d=d.map(m=>ju(m))),c(t,["models"],d)}return t}function hb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=M0(r);Array.isArray(d)&&(d=d.map(m=>Zu(m))),c(t,["models"],d)}return t}function gb(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function ju(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const m=u(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],Ib(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const x=u(i,["temperature"]);x!=null&&c(t,["temperature"],x);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const _=u(i,["topK"]);_!=null&&c(t,["topK"],_);const A=u(i,["thinking"]);return A!=null&&c(t,["thinking"],A),t}function Zu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const m=u(i,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>ME(E))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],Db(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const x=u(i,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function yb(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],wE(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],kE(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],nE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function vb(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],vn(l)),t}function xb(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const _=u(i,["labels"]);return t!==void 0&&_!=null&&c(t,["labels"],_),l}function Sb(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["source"]);r!=null&&Eb(r,l);const d=u(t,["config"]);return d!=null&&xb(d,l),l}function Tb(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>xs(r))),c(t,["generatedImages"],a)}return t}function Eb(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],vn(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>vb(g))),c(t,["instances[0]","productImages"],m)}return l}function bb(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],vn(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],gb(d));const m=u(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],uE(m));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function G0(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function P0(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function _b(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function Ab(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],vn(l)),t}function Cb(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function Nb(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["source"]);r!=null&&Mb(r,l);const d=u(t,["config"]);return d!=null&&Cb(d,l),l}function Rb(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>WE(r))),c(t,["generatedMasks"],a)}return t}function Mb(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],vn(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],Ab(d)),l}function wb(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],IE(a)),t}function kb(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],ob(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],ab(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function H0(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>DE(E))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function Ib(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function Db(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function Ub(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function Lb(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function Gb(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],qe(i,a));const r=u(t,["config"]);return r!=null&&Ub(r,l),l}function Pb(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["config"]);return r!=null&&Lb(r,l),l}function Hb(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const _=u(i,["mode"]);return t!==void 0&&_!=null&&c(t,["parameters","mode"],_),l}function Bb(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],qe(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],vn(r));const d=u(t,["upscaleFactor"]);d!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],d);const m=u(t,["config"]);return m!=null&&Hb(m,l),l}function qb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>xs(d))),c(t,["generatedImages"],r)}return t}function zb(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],vi(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Vb(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],vi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ob(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],vn(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function Fb(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Ss(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Jb(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],vn(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function B0(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],vi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function q0(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],vi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kb(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function Yb(i){const t={},l=u(i,["config"]);return l!=null&&Kb(l,t),t}function $b(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function Xb(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&$b(a,t),t}function Qb(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function jb(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function Zb(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],e_(m)),t}function Wb(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&jb(r,t),t}function e_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function t_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function n_(i){const t={},l=u(i,["config"]);return l!=null&&t_(l,t),t}function i_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["fileSearchStores"],d)}return t}function z0(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),l}function l_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&z0(a,t),t}function o_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a_="Content-Type",s_="X-Server-Timeout",r_="User-Agent",Wu="x-goog-api-client",u_="1.35.0",c_=`google-genai-sdk/${u_}`,d_="v1beta1",f_="v1beta";class m_{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:d_,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:f_,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(l))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const d=new AbortController,m=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>d.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=m}return l&&l.extraBody!==null&&p_(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await jh(r),new $u(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await jh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return gn(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:x}=yield pe(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=d.decode(x,{stream:!0});try{const A=JSON.parse(T);if("error"in A){const w=JSON.parse(JSON.stringify(A.error)),M=w.status,H=w.code,$=`got status: ${M}. ${JSON.stringify(A)}`;if(H>=400&&H<600)throw new ys({message:$,status:H})}}catch(A){if(A.name==="ApiError")throw A}m+=T;let E=-1,_=0;for(;;){E=-1,_=0;for(const M of y){const H=m.indexOf(M);H!==-1&&(E===-1||H<E)&&(E=H,_=M.length)}if(E===-1)break;const A=m.substring(0,E);m=m.substring(E+_);const w=A.trim();if(w.startsWith(g)){const M=w.substring(g.length).trim();try{const H=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield pe(new $u(H))}catch(H){throw new Error(`exception parsing stream chunk ${M}. ${H}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=c_+" "+this.clientOptions.userAgentExtra;return t[r_]=l,t[Wu]=l,t[a_]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(s_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);r.sizeBytes=String(m.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),x=te("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return d.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const d=this.clientOptions.uploader,m=await d.stat(l),g=String(m.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(l),T={};a!=null&&z0(a,T);const E=await this.fetchUploadUrl(h,g,y,x,T,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,d,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function jh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new ys({message:r,status:l}):new Error(r)}}function p_(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],x=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=a(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h_="mcp_used/unknown";let g_=!1;function V0(i){for(const t of i)if(y_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return g_}function O0(i){var t;const l=(t=i[Wu])!==null&&t!==void 0?t:"";i[Wu]=(l+` ${h_}`).trimStart()}function y_(i){return i!==null&&typeof i=="object"&&i instanceof gc}function v_(i){return gn(this,arguments,function*(l,a=100){let r,d=0;for(;d<a;){const m=yield pe(l.listTools({cursor:r}));for(const g of m.tools)yield yield pe(g),d++;if(!m.nextCursor)break;r=m.nextCursor}})}class gc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new gc(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const d={},m=[];for(const x of this.mcpClients)try{for(var g=!0,y=(l=void 0,yn(v_(x))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const T=r;m.push(T);const E=T.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=x}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Qx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function x_(i,t,l){const a=new Vx;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class S_{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=b_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const x=new Promise(O=>{h=O}),T=t.callbacks,E=function(){h({})},_=this.apiClient,A={onopen:E,onmessage:O=>{x_(_,T.onmessage,O)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(O){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(O){}},w=this.webSocketFactory.create(y,E_(m),A);w.connect(),await x;const $={setup:{model:qe(this.apiClient,t.model)}};return w.send(JSON.stringify($)),new T_(w,this.apiClient)}}class T_{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=YT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=KT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Il.PLAY)}pause(){this.sendPlaybackControl(Il.PAUSE)}stop(){this.sendPlaybackControl(Il.STOP)}resetContext(){this.sendPlaybackControl(Il.RESET_CONTEXT)}close(){this.conn.close()}}function E_(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function b_(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const __="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function A_(i,t,l){const a=new zx;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const d=JSON.parse(r);if(i.isVertexAI()){const m=QT(d);Object.assign(a,m)}else Object.assign(a,d);t(a)}class C_{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new S_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,d,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&V0(t.config.tools)&&O0(T);const E=w_(T);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,x);else{const W=this.apiClient.getApiKey();let se="BidiGenerateContent",ye="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",ye="access_token"),x=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${ye}=${W}`}let _=()=>{};const A=new Promise(W=>{_=W}),w=t.callbacks,M=function(){var W;(W=w==null?void 0:w.onopen)===null||W===void 0||W.call(w),_({})},H=this.apiClient,$={onopen:M,onmessage:W=>{A_(H,w.onmessage,W)},onerror:(l=w==null?void 0:w.onerror)!==null&&l!==void 0?l:function(W){},onclose:(a=w==null?void 0:w.onclose)!==null&&a!==void 0?a:function(W){}},O=this.webSocketFactory.create(x,M_(E),$);O.connect(),await A;let z=qe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const W=this.apiClient.getProject(),se=this.apiClient.getLocation();z=`projects/${W}/locations/${se}/`+z}let j={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[rs.AUDIO]}:t.config.responseModalities=[rs.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],J=[];for(const W of X)if(this.isCallableTool(W)){const se=W;J.push(await se.tool())}else J.push(W);J.length>0&&(t.config.tools=J);const ue={model:z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=JT(this.apiClient,ue):j=FT(this.apiClient,ue),delete j.config,O.send(JSON.stringify(j)),new R_(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const N_={turnComplete:!0};class R_{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=sn(l.turns),t.isVertexAI()||(a=a.map(r=>vs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(__)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},N_),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:XT(t)}:l={realtimeInput:$T(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function M_(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function w_(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zh=10;function Wh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Ll(m)){r=!0;break}if(!r)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Ll(i){return"callTool"in i&&typeof i.callTool=="function"}function k_(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Ll(r)))!==null&&a!==void 0?a:!1}function e0(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(Ll(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(r)}),l}function t0(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I_ extends Kn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!k_(l)||Wh(l.config))return await this.generateContentInternal(y);const h=e0(l);if(h.length>0){const w=h.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let x,T;const E=sn(y.contents),_=(d=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:Zh;let A=0;for(;A<_&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const w=x.candidates[0].content,M=[];for(const H of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Ll(H)){const O=await H.callTool(x.functionCalls);M.push(...O)}A++,T={role:"user",parts:M},y.contents=sn(y.contents),y.contents.push(w),y.contents.push(T),t0(y.config)&&(E.push(w),E.push(T))}return t0(y.config)&&(x.automaticFunctionCallingHistory=E),x},this.generateContentStream=async l=>{var a,r,d,m,g;if(this.maybeMoveToResponseJsonSchem(l),Wh(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=e0(l);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,x=(g=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Vi(Jn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,d,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(d=l.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const d=(l=t.config)===null||l===void 0?void 0:l.tools;if(!d)return t;const m=await Promise.all(d.map(async y=>Ll(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&V0(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),O0(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const d=new Map;for(const m of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Ll(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var l,a,r;const d=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Zh;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,x,T){return gn(this,arguments,function*(){for(var E,_,A,w,M,H;g<d;){m&&(g++,m=!1);const j=yield pe(h.processParamsMaybeAddMcpUsage(T)),X=yield pe(h.generateContentStreamInternal(j)),J=[],ue=[];try{for(var $=!0,O=(_=void 0,yn(X)),z;z=yield pe(O.next()),E=z.done,!E;$=!0){w=z.value,$=!1;const W=w;if(yield yield pe(W),W.candidates&&(!((M=W.candidates[0])===null||M===void 0)&&M.content)){ue.push(W.candidates[0].content);for(const se of(H=W.candidates[0].content.parts)!==null&&H!==void 0?H:[])if(g<d&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(se.functionCall.name)){const ye=yield pe(x.get(se.functionCall.name).callTool([se.functionCall]));J.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(W){_={error:W}}finally{try{!$&&!E&&(A=O.return)&&(yield pe(A.call(O)))}finally{if(_)throw _.error}}if(J.length>0){m=!0;const W=new Go;W.candidates=[{content:{role:"user",parts:J}}],yield yield pe(W);const se=[];se.push(...ue),se.push({role:"user",parts:J});const ye=sn(T.contents).concat(se);T.contents=ye}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$h(this.apiClient,t);return g=te("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=Qh(x),E=new Go;return Object.assign(E,T),E})}else{const h=Yh(this.apiClient,t);return g=te("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=Xh(x),E=new Go;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$h(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(T){return gn(this,arguments,function*(){var E,_,A,w;try{for(var M=!0,H=yn(T),$;$=yield pe(H.next()),E=$.done,!E;M=!0){w=$.value,M=!1;const O=w,z=Qh(yield pe(O.json()));z.sdkHttpResponse={headers:O.headers};const j=new Go;Object.assign(j,z),yield yield pe(j)}}catch(O){_={error:O}}finally{try{!M&&!E&&(A=H.return)&&(yield pe(A.call(H)))}finally{if(_)throw _.error}}})})}else{const h=Yh(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(T){return gn(this,arguments,function*(){var E,_,A,w;try{for(var M=!0,H=yn(T),$;$=yield pe(H.next()),E=$.done,!E;M=!0){w=$.value,M=!1;const O=w,z=Xh(yield pe(O.json()));z.sdkHttpResponse={headers:O.headers};const j=new Go;Object.assign(j,z),yield yield pe(j)}}catch(O){_={error:O}}finally{try{!M&&!E&&(A=H.return)&&(yield pe(A.call(H)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=CE(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=RE(x),E=new wh;return Object.assign(E,T),E})}else{const h=AE(this.apiClient,t);return g=te("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=NE(x),E=new wh;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BE(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=zE(x),E=new kh;return Object.assign(E,T),E})}else{const h=HE(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=qE(x),E=new kh;return Object.assign(E,T),E})}}async editImageInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=TE(this.apiClient,t);return d=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=EE(y),x=new wx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Bb(this.apiClient,t);return d=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=qb(y),x=new kx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Sb(this.apiClient,t);return d=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Tb(y),x=new Ix;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Nb(this.apiClient,t);return d=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Rb(y),x=new Dx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=lb(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Zu(x))}else{const h=ib(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>ju(x))}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=mb(this.apiClient,t);return g=te("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=hb(x),E=new Ih;return Object.assign(E,T),E})}else{const h=fb(this.apiClient,t);return g=te("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=pb(x),E=new Ih;return Object.assign(E,T),E})}}async update(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Pb(this.apiClient,t);return g=te("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>Zu(x))}else{const h=Gb(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>ju(x))}}async delete(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=yE(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=xE(x),E=new Dh;return Object.assign(E,T),E})}else{const h=gE(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=vE(x),E=new Dh;return Object.assign(E,T),E})}}async countTokens(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=mE(this.apiClient,t);return g=te("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=hE(x),E=new Uh;return Object.assign(E,T),E})}else{const h=fE(this.apiClient,t);return g=te("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=pE(x),E=new Uh;return Object.assign(E,T),E})}}async computeTokens(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=oE(this.apiClient,t);return d=te("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=aE(y),x=new Ux;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=YE(this.apiClient,t);return g=te("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>{const T=JE(x),E=new us;return Object.assign(E,T),E})}else{const h=KE(this.apiClient,t);return g=te("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>{const T=FE(x),E=new us;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D_ extends Kn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_x(t);return g=te("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m}else{const h=bx(t);return g=te("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=gx(t);return d=te("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U_(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function L_(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>F_(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function G_(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);l!==void 0&&d!=null&&c(l,["newSessionExpireTime"],d);const m=u(t,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],O_(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function P_(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],G_(i,a,l)),l}function H_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function B_(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function q_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function z_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function V_(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],hc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&c(t,["setup","systemInstruction"],L_(At(A)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let X=Pl(w);Array.isArray(X)&&(X=X.map(J=>K_(Gl(J)))),c(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],J_(M));const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const $=u(i,["outputAudioTranscription"]);t!==void 0&&$!=null&&c(t,["setup","outputAudioTranscription"],$);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&c(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function O_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],qe(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],V_(r,l)),l}function F_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],H_(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],B_(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],U_(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function J_(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function K_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],q_(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],z_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y_(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${l}.${d}`);t.push(...r)}else t.push(l)}return t.join(",")}function $_(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const d=Y_(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class X_ extends Kn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=P_(this.apiClient,t);d=te("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=$_(g,t.config);return r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q_(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function j_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&Q_(a,t),t}function Z_(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function W_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function eA(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&W_(a,t),t}function tA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA extends Kn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Vi(Jn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Z_(t);return d=te("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=j_(t);r=te("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eA(t);return d=te("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=tA(y),x=new Lx;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iA extends Kn{constructor(t,l=new nA(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Vi(Jn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Yb(t);return d=te("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Qb(t);return d=te("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Xb(t);r=te("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=n_(t);return d=te("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=i_(y),x=new Gx;return Object.assign(x,h),x})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=l_(t);return d=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=o_(y),x=new Px;return Object.assign(x,h),x})}}async importFile(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Wb(t);return d=te("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Zb(y),x=new cc;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let F0=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return F0=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const lA=()=>F0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ec(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const tc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rn extends Error{}class Mt extends rn{constructor(t,l,a,r){super(`${Mt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Ts({message:a,cause:tc(l)});const d=l;return t===400?new K0(t,d,a,r):t===401?new Y0(t,d,a,r):t===403?new $0(t,d,a,r):t===404?new X0(t,d,a,r):t===409?new Q0(t,d,a,r):t===422?new j0(t,d,a,r):t===429?new Z0(t,d,a,r):t>=500?new W0(t,d,a,r):new Mt(t,d,a,r)}}class nc extends Mt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ts extends Mt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class J0 extends Ts{constructor({message:t}={}){super({message:t??"Request timed out."})}}class K0 extends Mt{}class Y0 extends Mt{}class $0 extends Mt{}class X0 extends Mt{}class Q0 extends Mt{}class j0 extends Mt{}class Z0 extends Mt{}class W0 extends Mt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA=/^[a-z][a-z0-9+.-]*:/i,aA=i=>oA.test(i);let ic=i=>(ic=Array.isArray,ic(i));const sA=ic;let rA=sA;const n0=rA;function uA(i){if(!i)return!0;for(const t in i)return!1;return!0}function cA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const dA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new rn(`${i} must be an integer`);if(t<0)throw new rn(`${i} must be a positive integer`);return t},fA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const hA=()=>{var i,t,l,a,r;const d=pA();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":l0(Deno.build.os),"X-Stainless-Arch":i0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":l0((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":i0((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=gA();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,d=a[2]||0,m=a[3]||0;return{browser:t,version:`${r}.${d}.${m}`}}}return null}const i0=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",l0=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Wa;const yA=()=>Wa??(Wa=hA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function eg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function xA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return eg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function tg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SA(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ng=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fu(i,t,l){return ng(),new File(i,t??"unknown_file",l)}function EA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const bA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ig=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",_A=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&ig(i),AA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function CA(i,t,l){if(ng(),i=await i,_A(i))return i instanceof File?i:Fu([await i.arrayBuffer()],i.name);if(AA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Fu(await lc(r),t,l)}const a=await lc(i);if(t||(t=EA(i)),!(l!=null&&l.type)){const r=a.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Fu(a,t,l)}async function lc(i){var t,l,a,r,d;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(ig(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(bA(i))try{for(var g=!0,y=yn(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const x=r;m.push(...await lc(x))}}catch(x){l={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const x=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${NA(i)}`)}return m}function NA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lg{constructor(t){this._client=t}}lg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function og(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const o0=Object.freeze(Object.create(null)),RA=(i=og)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const d=[],m=l.reduce((x,T,E)=>{var _,A,w;/[?#]/.test(T)&&(r=!0);const M=a[E];let H=(r?encodeURIComponent:i)(""+M);return E!==a.length&&(M==null||typeof M=="object"&&M.toString===((w=Object.getPrototypeOf((A=Object.getPrototypeOf((_=M.hasOwnProperty)!==null&&_!==void 0?_:o0))!==null&&A!==void 0?A:o0))===null||w===void 0?void 0:w.toString))&&(H=M+"",d.push({start:x.length+T.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),x+T+(E===a.length?"":H)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((x,T)=>x.start-T.start),d.length>0){let x=0;const T=d.reduce((E,_)=>{const A=" ".repeat(_.start-x),w="^".repeat(_.length);return x=_.start+_.length,E+A+w},"");throw new rn(`Path parameters result in path with invalid segments:
${d.map(E=>E.error).join(`
`)}
${m}
${T}`)}return m}),es=RA(og);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ag extends lg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,d=ds(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new rn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new rn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(es`/${r}/interactions`,Object.assign(Object.assign({body:d},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(es`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(es`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const d=l??{},{api_version:m=this._client.apiVersion}=d,g=ds(d,["api_version"]);return this._client.get(es`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}ag._key=Object.freeze(["interactions"]);class sg extends ag{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let ts;function yc(i){let t;return(ts??(t=new globalThis.TextEncoder,ts=t.encode.bind(t)))(i)}let ns;function a0(i){let t;return(ns??(t=new globalThis.TextDecoder,ns=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Es{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?yc(t):t;this.buffer=MA([this.buffer,l]);const a=[];let r;for(;(r=wA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(a0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=a0(this.buffer.subarray(0,d));a.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Es.NEWLINE_CHARS=new Set([`
`,"\r"]);Es.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function wA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function kA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fs={off:0,error:200,warn:300,info:400,debug:500},s0=(i,t,l)=>{if(i){if(cA(fs,i))return i;Rt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(fs))}`)}};function Ho(){}function is(i,t,l){return!t||fs[i]>fs[l]?Ho:t[i].bind(t)}const IA={error:Ho,warn:Ho,info:Ho,debug:Ho};let r0=new WeakMap;function Rt(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return IA;const r=r0.get(l);if(r&&r[0]===a)return r[1];const d={error:is("error",l,a),warn:is("warn",l,a),info:is("info",l,a),debug:is("debug",l,a)};return r0.set(l,[a,d]),d}const Bi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dl{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const d=a?Rt(a):console;function m(){return gn(this,arguments,function*(){var y,h,x,T;if(r)throw new rn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var _=!0,A=yn(DA(t,l)),w;w=yield pe(A.next()),y=w.done,!y;_=!0){T=w.value,_=!1;const M=T;if(!E)if(M.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield pe(JSON.parse(M.data))}catch(H){throw d.error("Could not parse message into JSON:",M.data),d.error("From chunk:",M.raw),H}}}catch(M){h={error:M}}finally{try{!_&&!y&&(x=A.return)&&(yield pe(x.call(A)))}finally{if(h)throw h.error}}E=!0}catch(M){if(ec(M))return yield pe(void 0);throw M}finally{E||l.abort()}})}return new Dl(m,l,a)}static fromReadableStream(t,l,a){let r=!1;function d(){return gn(this,arguments,function*(){var y,h,x,T;const E=new Es,_=tg(t);try{for(var A=!0,w=yn(_),M;M=yield pe(w.next()),y=M.done,!y;A=!0){T=M.value,A=!1;const H=T;for(const $ of E.decode(H))yield yield pe($)}}catch(H){h={error:H}}finally{try{!A&&!y&&(x=w.return)&&(yield pe(x.call(w)))}finally{if(h)throw h.error}}for(const H of E.flush())yield yield pe(H)})}function m(){return gn(this,arguments,function*(){var y,h,x,T;if(r)throw new rn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var _=!0,A=yn(d()),w;w=yield pe(A.next()),y=w.done,!y;_=!0){T=w.value,_=!1;const M=T;E||M&&(yield yield pe(JSON.parse(M)))}}catch(M){h={error:M}}finally{try{!_&&!y&&(x=A.return)&&(yield pe(x.call(A)))}finally{if(h)throw h.error}}E=!0}catch(M){if(ec(M))return yield pe(void 0);throw M}finally{E||l.abort()}})}return new Dl(m,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=d=>({next:()=>{if(d.length===0){const m=a.next();t.push(m),l.push(m)}return d.shift()}});return[new Dl(()=>r(t),this.controller,this.client),new Dl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return eg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:d}=await l.next();if(d)return a.close();const m=yc(JSON.stringify(r)+`
`);a.enqueue(m)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function DA(i,t){return gn(this,arguments,function*(){var a,r,d,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new rn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new rn("Attempted to iterate over a response with no body");const g=new LA,y=new Es,h=tg(i.body);try{for(var x=!0,T=yn(UA(h)),E;E=yield pe(T.next()),a=E.done,!a;x=!0){m=E.value,x=!1;const _=m;for(const A of y.decode(_)){const w=g.decode(A);w&&(yield yield pe(w))}}}catch(_){r={error:_}}finally{try{!x&&!a&&(d=T.return)&&(yield pe(d.call(T)))}finally{if(r)throw r.error}}for(const _ of y.flush()){const A=g.decode(_);A&&(yield yield pe(A))}})}function UA(i){return gn(this,arguments,function*(){var l,a,r,d;let m=new Uint8Array;try{for(var g=!0,y=yn(i),h;h=yield pe(y.next()),l=h.done,!l;g=!0){d=h.value,g=!1;const x=d;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?yc(x):x;let E=new Uint8Array(m.length+T.length);E.set(m),E.set(T,m.length),m=E;let _;for(;(_=kA(m))!==-1;)yield yield pe(m.slice(0,_)),m=m.slice(_)}}catch(x){a={error:x}}finally{try{!g&&!l&&(r=y.return)&&(yield pe(r.call(y)))}finally{if(a)throw a.error}}m.length>0&&(yield yield pe(m))})}class LA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=GA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function GA(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PA(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:d}=t,m=await(async()=>{var g;if(t.options.stream)return Rt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Dl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return Rt(i).debug(`[${a}] response parsed`,Bi({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-d})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vc extends Promise{constructor(t,l,a=PA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new vc(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rg=Symbol("brand.privateNullableHeaders");function*HA(i){if(!i)return;if(rg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const d of r)yield[d,null];return}let t=!1,l;i instanceof Headers?l=i.entries():n0(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=n0(a[1])?a[1]:[a[1]];let m=!1;for(const g of d)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const Po=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[d,m]of HA(a)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),m===null?(t.delete(d),l.add(g)):(t.append(d,m),l.delete(g))}}return{[rg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ju=i=>{var t,l,a,r,d,m;if(typeof globalThis.process<"u")return(a=(l=(t=cx)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(m=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ug;class bs{constructor(t){var l,a,r,d,m,g,y,{baseURL:h=Ju("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(l=Ju("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,E=ds(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:x,apiVersion:T},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(a=_.timeout)!==null&&a!==void 0?a:bs.DEFAULT_TIMEOUT,this.logger=(r=_.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(m=(d=s0(_.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:s0(Ju("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:A,this.fetchOptions=_.fetchOptions,this.maxRetries=(g=_.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=_.fetch)!==null&&y!==void 0?y:vA(),this.encoder=TA,this._options=_,this.apiKey=x,this.apiVersion=T,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=Po([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return Po([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Po([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new rn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${wl}`}defaultIdempotencyKey(){return`stainless-node-retry-${lA()}`}makeStatusError(t,l,a,r){return Mt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,d=aA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return uA(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(d.search=this.stringifyQuery(l)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new vc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,d,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:x,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:x,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=a===void 0?"":`, retryOf: ${a}`,A=Date.now();if(Rt(this).debug(`[${E}] sending request`,Bi({retryOfRequestLogID:a,method:g.method,url:x,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new nc;const w=new AbortController,M=await this.fetchWithTimeout(x,h,T,w).catch(tc),H=Date.now();if(M instanceof globalThis.Error){const O=`retrying, ${l} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new nc;const z=ec(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(l)return Rt(this).info(`[${E}] connection ${z?"timed out":"failed"} - ${O}`),Rt(this).debug(`[${E}] connection ${z?"timed out":"failed"} (${O})`,Bi({retryOfRequestLogID:a,url:x,durationMs:H-A,message:M.message})),this.retryRequest(g,l,a??E);throw Rt(this).info(`[${E}] connection ${z?"timed out":"failed"} - error; no more retries left`),Rt(this).debug(`[${E}] connection ${z?"timed out":"failed"} (error; no more retries left)`,Bi({retryOfRequestLogID:a,url:x,durationMs:H-A,message:M.message})),z?new J0:new Ts({cause:M})}const $=`[${E}${_}] ${h.method} ${x} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${H-A}ms`;if(!M.ok){const O=await this.shouldRetry(M);if(l&&O){const W=`retrying, ${l} attempts remaining`;return await SA(M.body),Rt(this).info(`${$} - ${W}`),Rt(this).debug(`[${E}] response error (${W})`,Bi({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:H-A})),this.retryRequest(g,l,a??E,M.headers)}const z=O?"error; no more retries left":"error; not retryable";Rt(this).info(`${$} - ${z}`);const j=await M.text().catch(W=>tc(W).message),X=fA(j),J=X?void 0:j;throw Rt(this).debug(`[${E}] response error (${z})`,Bi({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,message:J,durationMs:Date.now()-A})),this.makeStatusError(M.status,X,J,M.headers)}return Rt(this).info($),Rt(this).debug(`[${E}] response start`,Bi({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:H-A})),{response:M,options:g,controller:w,requestLogID:E,retryOfRequestLogID:a,startTime:A}}async fetchWithTimeout(t,l,a,r){const d=l||{},{signal:m,method:g}=d,y=ds(d,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var d;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(m=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const h=parseFloat(y);Number.isNaN(h)?m=Date.parse(y)-Date.now():m=h*1e3}if(!(m&&0<=m&&m<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,h)}return await mA(m),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const d=l-t,m=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,d;const m=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:x}=m,T=this.buildURL(y,h,x);"timeout"in m&&dA("timeout",m.timeout),m.timeout=(a=m.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:_}=this.buildBody({options:m}),A=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:A},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=m.fetchOptions)!==null&&d!==void 0?d:{}),url:T,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let d={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=Po([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),yA()),this._options.defaultHeaders,a,t.headers,m]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Po([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:xA(t)}:this.encoder({body:t,headers:a})}}bs.DEFAULT_TIMEOUT=6e4;class yt extends bs{constructor(){super(...arguments),this.interactions=new sg(this)}}ug=yt;yt.GeminiNextGenAPIClient=ug;yt.GeminiNextGenAPIClientError=rn;yt.APIError=Mt;yt.APIConnectionError=Ts;yt.APIConnectionTimeoutError=J0;yt.APIUserAbortError=nc;yt.NotFoundError=X0;yt.ConflictError=Q0;yt.RateLimitError=Z0;yt.BadRequestError=K0;yt.AuthenticationError=Y0;yt.InternalServerError=W0;yt.PermissionDeniedError=$0;yt.UnprocessableEntityError=j0;yt.toFile=CA;yt.Interactions=sg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function qA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function zA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function VA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function OA(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function FA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const _=u(i,["validationDataset"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec"],u0(_))}else if(r==="PREFERENCE_TUNING"){const _=u(i,["validationDataset"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec"],u0(_))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const m=u(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=u(i,["epochCount"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(g==="PREFERENCE_TUNING"){const _=u(i,["epochCount"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const _=u(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(y==="PREFERENCE_TUNING"){const _=u(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=u(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(h==="PREFERENCE_TUNING"){const _=u(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let x=u(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const _=u(i,["adapterSize"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(x==="PREFERENCE_TUNING"){const _=u(i,["adapterSize"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function JA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&nC(d);const m=u(i,["config"]);return m!=null&&OA(m,l),l}function KA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&iC(d,l,t);const m=u(i,["config"]);return m!=null&&FA(m,l,t),l}function YA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function $A(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function XA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function QA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function jA(i,t){const l={},a=u(i,["config"]);return a!=null&&XA(a,l),l}function ZA(i,t){const l={},a=u(i,["config"]);return a!=null&&QA(a,l),l}function WA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>cg(g))),c(l,["tuningJobs"],m)}return l}function eC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>oc(g))),c(l,["tuningJobs"],m)}return l}function tC(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function nC(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(l,["examples","examples"],r)}return l}function iC(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=u(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function cg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],C0(d));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const x=u(i,["description"]);x!=null&&c(l,["description"],x);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],tC(E)),l}function oc(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],C0(d));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const x=u(i,["error"]);x!=null&&c(l,["error"],x);const T=u(i,["description"]);T!=null&&c(l,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const _=u(i,["tunedModel"]);_!=null&&c(l,["tunedModel"],_);const A=u(i,["preTunedModel"]);A!=null&&c(l,["preTunedModel"],A);const w=u(i,["supervisedTuningSpec"]);w!=null&&c(l,["supervisedTuningSpec"],w);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&c(l,["preferenceOptimizationSpec"],M);const H=u(i,["tuningDataStats"]);H!=null&&c(l,["tuningDataStats"],H);const $=u(i,["encryptionSpec"]);$!=null&&c(l,["encryptionSpec"],$);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(l,["partnerModelTuningSpec"],O);const z=u(i,["customBaseModel"]);z!=null&&c(l,["customBaseModel"],z);const j=u(i,["experiment"]);j!=null&&c(l,["experiment"],j);const X=u(i,["labels"]);X!=null&&c(l,["labels"],X);const J=u(i,["outputUri"]);J!=null&&c(l,["outputUri"],J);const ue=u(i,["pipelineJob"]);ue!=null&&c(l,["pipelineJob"],ue);const W=u(i,["serviceAccount"]);W!=null&&c(l,["serviceAccount"],W);const se=u(i,["tunedModelDisplayName"]);se!=null&&c(l,["tunedModelDisplayName"],se);const ye=u(i,["veoTuningSpec"]);return ye!=null&&c(l,["veoTuningSpec"],ye),l}function lC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["metadata"]);d!=null&&c(l,["metadata"],d);const m=u(i,["done"]);m!=null&&c(l,["done"],m);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function u0(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oC extends Kn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Vi(Jn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),d=await this.tuneMldevInternal(r);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:Yu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$A(t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>oc(x))}else{const h=YA(t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>cg(x))}}async listInternal(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZA(t);return g=te("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=eC(x),E=new Lh;return Object.assign(E,T),E})}else{const h=jA(t);return g=te("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=WA(x),E=new Lh;return Object.assign(E,T),E})}}async cancel(t){var l,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qA(t);return g=te("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=VA(x),E=new Gh;return Object.assign(E,T),E})}else{const h=BA(t);return g=te("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=zA(x),E=new Gh;return Object.assign(E,T),E})}}async tuneInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=KA(t,t);return d=te("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>oc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JA(t);return d=te("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>lC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aC{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sC=1024*1024*8,rC=3,uC=1e3,cC=2,ms="x-goog-upload-status";async function dC(i,t,l){var a;const r=await dg(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function fC(i,t,l){var a;const r=await dg(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=S0(d),g=new dc;return Object.assign(g,m),g}async function dg(i,t,l){var a,r;let d=0,m=0,g=new $u(new Response),y="upload";for(d=i.size;m<d;){const h=Math.min(sC,d-m),x=i.slice(m,m+h);m+h>=d&&(y+=", finalize");let T=0,E=uC;for(;T<rC&&(g=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[ms]));)T++,await pC(E),E=E*cC;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[ms])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function mC(i){return{size:i.size,type:i.type}}function pC(i){return new Promise(t=>setTimeout(t,i))}class hC{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await dC(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fC(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await mC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gC{create(t,l,a){return new yC(t,l,a)}}class yC{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c0="x-goog-api-key";class vC{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(c0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(c0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xC="gl-node/";class SC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=px(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new vC(this.apiKey);this.apiClient=new m_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:xC+"web",uploader:new hC,downloader:new aC}),this.models=new I_(this.apiClient),this.live=new C_(this.apiClient,r,new gC),this.batches=new OS(this.apiClient),this.chats=new _T(this.models,this.apiClient),this.caches=new TT(this.apiClient),this.files=new UT(this.apiClient),this.operations=new D_(this.apiClient),this.authTokens=new X_(this.apiClient),this.tunings=new oC(this.apiClient),this.fileSearchStores=new iA(this.apiClient)}}const TC=new SC({apiKey:"PLACEHOLDER_API_KEY"}),fg={type:ee.OBJECT,properties:{id:{type:ee.STRING},type:{type:ee.STRING,enum:["multiple_choice","short_answer","long_text"]},content:{type:ee.STRING},options:{type:ee.ARRAY,items:{type:ee.STRING}},correctAnswer:{type:ee.STRING},tkpPoints:{type:ee.ARRAY,items:{type:ee.OBJECT,properties:{option:{type:ee.STRING},points:{type:ee.INTEGER}}}},explanation:{type:ee.STRING},shortcut:{type:ee.STRING},metadata:{type:ee.OBJECT,properties:{difficulty:{type:ee.STRING,enum:["Easy","Medium","Hard","HOTS"]},idealTimeSeconds:{type:ee.INTEGER},topic:{type:ee.STRING},subtest:{type:ee.STRING},trapPattern:{type:ee.STRING}}}},required:["id","type","content","correctAnswer","explanation","metadata"]},EC={type:ee.OBJECT,properties:{questions:{type:ee.ARRAY,items:fg}},required:["questions"]};async function _n(i,t,l){const a="gemini-3-flash-preview",r={temperature:.7,topP:.95,topK:40};t&&(r.responseMimeType="application/json",r.responseSchema=t);const d=[];l&&d.push({inlineData:{mimeType:"application/pdf",data:l}}),d.push({text:i});try{const g=(await TC.models.generateContent({model:a,contents:{role:"user",parts:d},config:r})).text;if(!g)throw new Error("Empty response from AI");if(t)try{let y=g.trim();return y.startsWith("```json")?y=y.replace(/^```json\n?/,"").replace(/\n?```$/,""):y.startsWith("```")&&(y=y.replace(/^```\n?/,"").replace(/\n?```$/,"")),JSON.parse(y)}catch(y){console.error("JSON Parse Error",y);const h=g.match(/\{[\s\S]*\}|\[[\s\S]*\]/);return h?JSON.parse(h[0]):g}return g}catch(m){throw console.error("Gemini API Error:",m),m}}function bC(i){return i.id||(i.id=`q-${Math.random().toString(36).substr(2,9)}`),i.type==="multiple_choice"&&(!i.options||i.options.length===0)&&(i.options=["Option A","Option B","Option C","Option D","Option E"]),i}const d0=async(i,t,l,a=5,r=[],d,m,g)=>{let y="",h;const x="CRITICAL: DETECT the language of the input material/context. The generated questions/answers MUST BE in the SAME LANGUAGE as the input (Bahasa Indonesia mostly).";let T=EC;if(t==="GENERAL"&&m){const A=l,w=A.type==="topic"?`Topic: ${A.content}`:"Material Content";A.type==="pdf"&&(h=A.content);const M=A.difficultyPreference||"MEDIUM",H=`DIFFICULTY LEVEL: ${M}. ${M==="HARD"?"Use complex analysis/HOTS.":M==="EASY"?"Use straightforward recall.":""}`;m==="ACTIVE_RECALL"?y=`Create ${a} Active Recall questions (Short Answer format) based on this: ${w}. 
          ${x} ${H}
          Questions must be specific and require recall of key facts/concepts.`:m==="PBL"?y=`Create ${a} Problem-Based Learning scenarios (Case Study).
          ${x} ${H}
          Format: 'long_text' or 'multiple_choice'.
          Based on: ${w}. 
          Each question should be a realistic scenario requiring application of the concept.`:y=`Create ${a} practice questions based on: ${w}. ${x} ${H}`,A.type==="text"&&(y+=`

CONTENT: ${A.content}`)}else{let A="";if(g?(A=`CONTEXT: ${t} - ${d||""}. DIFFICULTY: ${g}.`,g==="HOTS"&&(A+=" QUESTIONS MUST BE High Order Thinking Skills (Analyze, Evaluate, Create).")):t==="SKD"&&d?A=`CONTEXT: SKD ${d}. DIFFICULTY: STANDARD TO HOTS.`:t==="UTBK"?A="CONTEXT: UTBK SNBT 2025. DIFFICULTY: ADAPTIVE (HOTS).":t==="TPA"?A="CONTEXT: TPA (Tes Potensi Akademik) & TBI. High Logic Requirement.":t==="PSIKOTEST"?A="CONTEXT: GENERAL IQ TEST (Psikotes). Logic sequences, Abstract Reasoning, Mental Arithmetic.":t==="INTERVIEW"?(A="CONTEXT: JOB/SCHOOL ADMISSION INTERVIEW.",T={type:ee.OBJECT,properties:{questions:{type:ee.ARRAY,items:{type:ee.OBJECT,properties:{id:{type:ee.STRING},type:{type:ee.STRING,enum:["long_text"]},content:{type:ee.STRING},explanation:{type:ee.STRING},metadata:{type:ee.OBJECT,properties:{topic:{type:ee.STRING}}}},required:["content","type"]}}}}):A="Standard difficulty.",t==="INTERVIEW")y=`Roleplay Task: Act as a professional HR Interviewer.
        Context: ${l}.
        Generate ${a} distinct interview questions. 
        Style: Conversational, direct, and engaging (seolah-olah berbicara langsung).
        Do NOT number the questions in the content text (e.g. don't write "1. Tell me...").
        Questions should range from introduction to behavioral/situational.
        Metadata subtest: "Interview".`;else{const w=`
            Generate ${a} questions.
            ${A}
            MANDATORY: Provide a DETAILED 'explanation' for the answer.
            MANDATORY METADATA:
            - idealTimeSeconds: Realistic time.
            - subtest: EXACT subtest name (e.g., 'TWK', 'Penalaran Umum').
        `,M=typeof l=="string"&&l.toUpperCase().includes("TKP")||t==="SKD"&&g==="TKP";let H="";M&&(H="CRITICAL for TKP: Provide 'tkpPoints' list mapping EACH option to a score 1-5. The 'correctAnswer' field should be the 5-point answer. Do not mark strictly right/wrong in explanation, but explain the scores."),i===Ue.WEAKNESS?y=`WEAKNESS ATTACK MODE. User weak in: ${r.join(", ")}. ${A} ${H}`:i===Ue.ACTIVE_RECALL?y=`ACTIVE RECALL. Type: "short_answer". ${A}`:y=`TRY OUT / PRACTICE.
            Context: ${t} - ${JSON.stringify(l)}.
            ${w}
            ${H}`}}return((await _n(y,T,h)).questions||[]).filter(A=>!!A).map(A=>{const w=bC(A);return t==="INTERVIEW"&&(w.type="long_text",w.options=[]),w})},_C=async(i,t,l)=>{const a={type:ee.OBJECT,properties:{score:{type:ee.INTEGER,description:"Score from 0 to 100"},isCorrect:{type:ee.BOOLEAN,description:"True if score > 70"},feedback:{type:ee.STRING,description:"Constructive feedback"}},required:["score","isCorrect","feedback"]},r=`Evaluate this answer. 
  Question: ${i}
  Correct Answer / Key Concept: ${t}
  User Answer: ${l}
  
  Provide a score (0-100), boolean correctness, and feedback.`;return _n(r,a)},AC=async i=>{const t=`The user is weak in these topics: ${i.join(", ")}. Provide a concise, actionable study plan (3 paragraphs max) to improve.`;return _n(t)},CC=async(i,t)=>{const l={type:ee.OBJECT,properties:{score:{type:ee.INTEGER},feedback:{type:ee.STRING},improvedAnswer:{type:ee.STRING},keyPointsCovered:{type:ee.ARRAY,items:{type:ee.STRING}},toneAnalysis:{type:ee.STRING}},required:["score","feedback","improvedAnswer","toneAnalysis"]},a=`Evaluate this job interview answer given by a candidate.
  Question: ${i}
  Candidate Answer: ${t}
  
  Act as a senior HR manager. Critique the tone, content, and structure.
  `;return _n(a,l)},NC=async(i,t)=>{const l={type:ee.OBJECT,properties:{understandingScore:{type:ee.INTEGER},simplificationQuality:{type:ee.STRING},missingConcepts:{type:ee.ARRAY,items:{type:ee.STRING}},correction:{type:ee.STRING}},required:["understandingScore","simplificationQuality","correction"]},a=`Evaluate this Feynman Technique explanation. The user is trying to explain "${i}" to a 5-year old.
  Explanation: ${t}`;return _n(a,l)},RC=async i=>i.type==="pdf"&&i.content?await _n("Extract and summarize the main text content from this PDF for study purposes. Ignore headers/footers.",void 0,i.content):i.content,MC=async(i,t)=>{const l=`Context: University Thesis (Skripsi). Topic: ${i}. Task: ${t}. Provide detailed output.`;return _n(l)},wC=async i=>{const t={type:ee.OBJECT,properties:{flashcards:{type:ee.ARRAY,items:{type:ee.OBJECT,properties:{id:{type:ee.STRING},front:{type:ee.STRING},back:{type:ee.STRING}},required:["front","back"]}}}},l=`Create 10 flashcards based on this material: ${i.extractedText||i.content}`;return(await _n(l,t)).flashcards},kC=async i=>{const t={type:ee.OBJECT,properties:{label:{type:ee.STRING},children:{type:ee.ARRAY,items:{type:ee.OBJECT,properties:{label:{type:ee.STRING},children:{type:ee.ARRAY,items:{type:ee.OBJECT,properties:{label:{type:ee.STRING}}}}}}}}},l=`Create a hierarchical mind map structure (JSON) for the topic: ${i.title||i.content.substring(0,50)}. Base it on the content.`;return _n(l,t)},IC=async(i,t,l)=>{const a={type:ee.OBJECT,properties:{topic:{type:ee.STRING},summary:{type:ee.STRING},keyPoints:{type:ee.ARRAY,items:{type:ee.STRING}},question:fg},required:["topic","summary","keyPoints","question"]},r=`Create a Drill Card (Mini Lesson + 1 Question) for ${i} - ${t} ${l?"("+l+")":""}.`;return _n(r,a)};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase()),f0=i=>{const t=UC(i);return t.charAt(0).toUpperCase()+t.slice(1)},mg=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim(),LC=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Y.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:d,iconNode:m,...g},y)=>Y.createElement("svg",{ref:y,...GC,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:mg("lucide",r),...!d&&!LC(g)&&{"aria-hidden":"true"},...g},[...m.map(([h,x])=>Y.createElement(h,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(i,t)=>{const l=Y.forwardRef(({className:a,...r},d)=>Y.createElement(PC,{ref:d,iconNode:t,className:mg(`lucide-${DC(f0(i))}`,`lucide-${i}`,a),...r}));return l.displayName=f0(i),l};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],BC=me("activity",HC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xi=me("arrow-left",qC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xc=me("award",zC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],m0=me("book-open",VC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Sc=me("book",OC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],kl=me("brain",FC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],KC=me("briefcase",JC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],$C=me("building-2",YC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],QC=me("calendar",XC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ZC=me("chevron-left",jC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zi=me("chevron-right",WC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Oi=me("circle-check-big",e1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qo=me("circle-x",t1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ac=me("clock",n1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],l1=me("coffee",i1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pg=me("download",o1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],s1=me("file-search",a1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ps=me("file-text",r1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],c1=me("funnel",u1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Tc=me("graduation-cap",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],m1=me("grid-3x3",f1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hg=me("history",p1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],g1=me("info",h1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],v1=me("landmark",y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],hs=me("lightbulb",x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bo=me("loader-circle",S1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E1=me("lock",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_1=me("log-out",b1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],C1=me("message-circle",A1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ec=me("message-square",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gg=me("moon",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],w1=me("palette",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ss=me("pause",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],p0=me("pen-tool",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yg=me("play",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],L1=me("repeat",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],P1=me("rotate-ccw",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],h0=me("search",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],q1=me("share-2",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vg=me("sun",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xg=me("target",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],g0=me("timer",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],J1=me("trash-2",F1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Y1=me("trending-up",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sg=me("triangle-alert",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bc=me("upload",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tg=me("user",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z1=me("x",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gs=me("zap",W1),eN=()=>{const[i,t]=Y.useState(!1),[l,a]=Y.useState(1500),[r,d]=Y.useState(!1),[m,g]=Y.useState("focus");Y.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),Y.useEffect(()=>{let _=null;return r&&l>0?_=setInterval(()=>{a(l-1)},1e3):l===0&&(d(!1),y()),()=>clearInterval(_)},[r,l]);const y=()=>{new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play().catch(A=>console.log("Audio play failed",A)),"Notification"in window&&Notification.permission==="granted"&&new Notification(m==="focus"?"Fokus Selesai!":"Istirahat Selesai!",{body:m==="focus"?"Waktunya istirahat sejenak.":"Kembali fokus belajar!",icon:"/favicon.ico"})},h=()=>d(!r),x=()=>{d(!1),a(m==="focus"?1500:300)},T=()=>{const _=m==="focus"?"break":"focus";g(_),a(_==="focus"?1500:300),d(!1)},E=_=>{const A=Math.floor(_/60),w=_%60;return`${A.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`};return i?v.jsxs("div",{className:"fixed bottom-6 right-6 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 z-50 overflow-hidden animate-fade-in-up",children:[v.jsxs("div",{className:`p-4 ${m==="focus"?"bg-indigo-600":"bg-emerald-500"} text-white flex justify-between items-center`,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(g0,{size:20}),v.jsx("span",{className:"font-bold",children:m==="focus"?"Fokus":"Istirahat"})]}),v.jsx("button",{onClick:()=>t(!1),className:"hover:bg-white/20 p-1 rounded",children:v.jsx(Z1,{size:18})})]}),v.jsxs("div",{className:"p-6 flex flex-col items-center",children:[v.jsx("div",{className:"text-5xl font-mono font-bold text-slate-800 dark:text-slate-100 mb-6 tracking-wider",children:E(l)}),v.jsxs("div",{className:"flex gap-4 mb-6",children:[v.jsx("button",{onClick:h,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:r?v.jsx(ss,{size:24}):v.jsx(yg,{size:24})}),v.jsx("button",{onClick:x,className:"p-3 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 transition",children:v.jsx(P1,{size:24})})]}),v.jsxs("button",{onClick:T,className:"text-sm text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 underline",children:["Ganti ke Mode ",m==="focus"?"Istirahat":"Fokus"]})]})]}):v.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 bg-indigo-600 hover:bg-indigo-700 text-white p-4 rounded-full shadow-xl z-50 flex items-center gap-2 transition-all",children:[v.jsx(g0,{size:24}),v.jsx("span",{className:"font-semibold hidden sm:inline",children:"Pomodoro"})]})},tN=({data:i,onNext:t})=>{const[l,a]=Y.useState(!1);return v.jsxs("div",{className:"w-full max-w-xl mx-auto perspective-1000",children:[v.jsxs("div",{className:`relative w-full h-80 transition-transform duration-700 transform-style-3d cursor-pointer ${l?"rotate-y-180":""}`,onClick:()=>a(!l),children:[v.jsx("div",{className:"absolute w-full h-full bg-white rounded-2xl shadow-xl border-2 border-indigo-100 flex items-center justify-center p-8 backface-hidden",children:v.jsxs("div",{className:"text-center",children:[v.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold mb-4",children:"QUESTION"}),v.jsx("p",{className:"text-2xl font-medium text-slate-800 leading-relaxed",children:i.front}),v.jsx("p",{className:"mt-8 text-slate-400 text-sm animate-pulse",children:"Tap to flip"})]})}),v.jsx("div",{className:"absolute w-full h-full bg-indigo-600 rounded-2xl shadow-xl flex items-center justify-center p-8 backface-hidden rotate-y-180",children:v.jsxs("div",{className:"text-center text-white",children:[v.jsx("span",{className:"inline-block px-3 py-1 bg-white/20 text-white rounded-full text-xs font-bold mb-4",children:"ANSWER"}),v.jsx("p",{className:"text-xl leading-relaxed",children:i.back})]})})]}),l&&v.jsxs("div",{className:"mt-8 flex justify-center gap-3",children:[v.jsx("button",{onClick:()=>{a(!1),t("hard")},className:"px-6 py-2 bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 font-medium transition",children:"Sulit (1m)"}),v.jsx("button",{onClick:()=>{a(!1),t("medium")},className:"px-6 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 font-medium transition",children:"Sedang (10m)"}),v.jsx("button",{onClick:()=>{a(!1),t("easy")},className:"px-6 py-2 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-200 font-medium transition",children:"Mudah (4d)"})]})]})},Eg=({node:i,depth:t=0})=>v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:`
        border-2 px-4 py-2 rounded-xl text-center font-medium shadow-sm transition-all hover:scale-105
        ${t===0?"bg-indigo-600 text-white border-indigo-600 mb-4 text-lg":""}
        ${t===1?"bg-white text-indigo-700 border-indigo-200 mb-4 text-base":""}
        ${t>1?"bg-slate-50 text-slate-600 border-slate-200 text-sm":""}
      `,children:i.label}),i.children&&i.children.length>0&&v.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-8 relative pt-4",children:[v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-px h-4 bg-slate-300"}),v.jsx("div",{className:"absolute top-0 left-4 right-4 h-px bg-slate-300"}),i.children.map((l,a)=>v.jsxs("div",{className:"flex flex-col items-center relative",children:[v.jsx("div",{className:"w-px h-4 bg-slate-300 mb-1"}),v.jsx(Eg,{node:l,depth:t+1})]},a))]})]}),nN=({data:i})=>{const t=i.root||i;return v.jsx("div",{className:"p-8 bg-slate-50 rounded-3xl overflow-x-auto border border-slate-200 min-h-[400px] flex justify-center",children:v.jsx(Eg,{node:t})})},qi=({className:i="",height:t="h-4",width:l="w-full"})=>v.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700 rounded-md ${t} ${l} ${i}`}),iN=()=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx(qi,{height:"h-12",width:"w-12",className:"rounded-full"}),v.jsxs("div",{className:"flex-1 space-y-2",children:[v.jsx(qi,{height:"h-4",width:"w-1/3"}),v.jsx(qi,{height:"h-3",width:"w-1/2"})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(qi,{height:"h-4"}),v.jsx(qi,{height:"h-4"}),v.jsx(qi,{height:"h-4",width:"w-2/3"})]})]}),lN=i=>{const t=[...i];for(let l=t.length-1;l>0;l--){const a=Math.floor(Math.random()*(l+1));[t[l],t[a]]=[t[a],t[l]]}return t},Fn=({text:i})=>{if(!i)return null;const t=i.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1</i>").replace(/\n- (.*?)/g,"<br/> $1").replace(/\n/g,"<br/>");return v.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm font-sans"})},ls=({message:i,type:t,onClose:l})=>{const a=t==="success"?"bg-emerald-500":t==="error"?"bg-rose-500":"bg-indigo-600",r=t==="success"?v.jsx(Oi,{size:20}):t==="error"?v.jsx(Sg,{size:20}):v.jsx(g1,{size:20});return Y.useEffect(()=>{const d=setTimeout(l,3e3);return()=>clearTimeout(d)},[l]),v.jsxs("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] flex items-center gap-3 px-6 py-4 rounded-xl shadow-2xl text-white ${a} animate-fade-in-down transition-all`,children:[r,v.jsx("span",{className:"font-bold text-sm",children:i}),v.jsx("button",{onClick:l,className:"ml-4 hover:bg-white/20 p-1 rounded-full",children:v.jsx(qo,{size:18})})]})},oN=({timeLeft:i,onFinish:t})=>{const l=["Tarik nafas dalam-dalam, hembuskan perlahan...","Istirahat sejenak untuk melompat lebih jauh.","Kamu hebat, kamu kuat, kamu bisa!","Fokus kembali, kemenangan sudah dekat.","Tenangkan pikiran, siapkan mental juara."],[a]=Y.useState(l[Math.floor(Math.random()*l.length)]);return Y.useEffect(()=>{i<=0&&t()},[i,t]),v.jsxs("div",{className:"fixed inset-0 z-[60] bg-indigo-600 flex flex-col items-center justify-center text-white px-6",children:[v.jsx("div",{className:"w-32 h-32 bg-white/10 rounded-full flex items-center justify-center mb-8 animate-pulse",children:v.jsx(l1,{size:48,className:"text-white"})}),v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ruang Tunggu"}),v.jsxs("div",{className:"text-6xl font-mono font-bold mb-8",children:[i,"s"]}),v.jsxs("p",{className:"text-xl text-center max-w-md italic opacity-90",children:['"',a,'"']}),v.jsx("div",{className:"mt-12 text-sm opacity-70",children:"Subtes berikutnya akan dimulai otomatis..."})]})},aN=({onLogin:i})=>{const[t,l]=Y.useState("");return v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-6 transition-colors duration-300",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 text-white shadow-lg shadow-indigo-200 dark:shadow-none",children:v.jsx(Tc,{size:32})}),v.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Selamat Datang"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Masukkan nama untuk mulai belajar."})]}),v.jsxs("form",{onSubmit:a=>{a.preventDefault(),i(t)},children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Nama Pengguna"}),v.jsx("input",{type:"text",className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl focus:border-indigo-600 focus:ring-0 outline-none font-medium text-slate-800 placeholder:text-slate-400",placeholder:"Contoh: Budi Santoso",value:t,onChange:a=>l(a.target.value),required:!0})]}),v.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:["Mulai Belajar ",v.jsx(zi,{size:20})]})]})]})})},sN=({targetNumber:i})=>{const t=Y.useRef(null);return Y.useEffect(()=>{const l=t.current;if(!l)return;const a=l.getContext("2d");if(!a)return;a.clearRect(0,0,l.width,l.height);const r=document.createElement("canvas");r.width=l.width,r.height=l.height;const d=r.getContext("2d");if(!d)return;d.fillStyle="#000000",d.fillRect(0,0,l.width,l.height),d.fillStyle="#FFFFFF",d.font="bold 200px Arial",d.textAlign="center",d.textBaseline="middle",d.fillText(i.toString(),l.width/2,l.height/2);const g=d.getImageData(0,0,l.width,l.height).data,y=["#88B04B","#92A8D1","#955251","#B565A7"],h=["#FF6F61","#E15D44","#D65076","#C3447A"],x=2200;for(let T=0;T<x;T++){const E=Math.random()*l.width,_=Math.random()*l.height,A=Math.random()*5+2,w=(Math.floor(_)*l.width+Math.floor(E))*4,H=g[w]>128?h:y,$=H[Math.floor(Math.random()*H.length)];a.beginPath(),a.arc(E,_,A,0,Math.PI*2),a.fillStyle=$,a.fill()}},[i]),v.jsx("canvas",{ref:t,width:300,height:300,className:"rounded-full shadow-inner bg-slate-100 dark:bg-slate-700 mx-auto"})},rN=({onBack:i,onComplete:t})=>{const[l,a]=Y.useState([]),[r,d]=Y.useState(0),[m,g]=Y.useState([]),[y,h]=Y.useState(""),[x,T]=Y.useState(!1);Y.useEffect(()=>{const A=Array.from({length:10},()=>({number:Math.floor(Math.random()*90)+10}));a(A)},[]);const E=()=>{const A=[...m,y];g(A),h(""),r<l.length-1?d(r+1):T(!0)};if(l.length===0)return v.jsx("div",{className:"p-10 text-center dark:text-white",children:"Loading Plates..."});if(x){const A=l.filter((O,z)=>{var j;return O.number.toString().trim()===((j=m[z])==null?void 0:j.trim())}).length,w=A>=8,M=l.map((O,z)=>({id:`cb-q-${z}`,type:"short_answer",content:`Ishihara Plate #${z+1}`,correctAnswer:O.number.toString(),explanation:`Plate displayed number ${O.number}`,metadata:{difficulty:"Medium",idealTimeSeconds:10,topic:"Buta Warna",subtest:"Ishihara"}})),H=m.map((O,z)=>({questionId:`cb-q-${z}`,selectedAnswer:O,isCorrect:O.trim()===l[z].number.toString().trim(),scoreEarned:O.trim()===l[z].number.toString().trim()?10:0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1})),$={id:`cb-${Date.now()}`,date:new Date().toISOString(),category:"BUTAWRNA",score:A*10,maxScore:100,details:{type:"Ishihara Simulation",passed:w},questions:M,answers:H};return v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex items-center justify-center transition-colors",children:[" ",v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl max-w-lg w-full text-center max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:[" ",v.jsxs("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${w?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:[" ",w?v.jsx(Oi,{size:40}):v.jsx(Sg,{size:40})," "]})," ",v.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-800 dark:text-white",children:w?"Hasil Normal":"Indikasi Buta Warna"})," ",v.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Skor Anda: ",A,"/",l.length]})," ",v.jsx("button",{onClick:()=>t($),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none",children:" Simpan & Keluar "})," "]})," "]})}const _=l[r];return v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center transition-colors",children:[" ",v.jsxs("div",{className:"w-full max-w-md",children:[" ",v.jsxs("button",{onClick:i,className:"flex items-center text-slate-500 dark:text-slate-400 mb-6 hover:text-indigo-600",children:[v.jsx(xi,{size:18,className:"mr-2"})," Batalkan Tes"]})," ",v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-lg border border-slate-100 dark:border-slate-700 text-center",children:[" ",v.jsxs("div",{className:"text-sm font-bold text-slate-400 mb-4 uppercase tracking-widest",children:["Plate ",r+1," of ",l.length]})," ",v.jsxs("div",{className:"mb-8 flex justify-center bg-slate-50 dark:bg-slate-700 p-4 rounded-xl",children:[" ",v.jsx(sN,{targetNumber:_.number})," "]})," ",v.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 font-medium",children:"Angka berapa yang Anda lihat?"})," ",v.jsx("input",{type:"number",className:"w-full p-4 text-center text-2xl font-bold border-2 border-slate-200 dark:border-slate-600 dark:bg-slate-900 dark:text-white rounded-xl mb-6 focus:border-indigo-600 focus:ring-0 outline-none",placeholder:"?",value:y,onChange:A=>h(A.target.value),autoFocus:!0,onKeyDown:A=>A.key==="Enter"&&y&&E()})," ",v.jsx("button",{onClick:E,disabled:!y,className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none disabled:opacity-50 hover:bg-indigo-700 transition",children:" Lanjut "})," ",v.jsx("p",{className:"mt-4 text-xs text-slate-400",children:"Jika tidak melihat angka, isi 0."})," "]})," "]})," "]})},uN=({mode:i,questions:t,drillContent:l,onComplete:a,isSkdSimulation:r,isUtbkSimulation:d,category:m,showToast:g})=>{var Ae,je,xn;const[y,h]=Y.useState("TEST"),[x,T]=Y.useState([]),[E,_]=Y.useState(0),[A,w]=Y.useState(0),[M,H]=Y.useState(!1),[$,O]=Y.useState(!1);Y.useEffect(()=>{if(d){const de=lN(ux);T(de)}},[d]);const z=v0.useMemo(()=>{if(d&&x.length>0){const de=x[E].name;return t.filter(re=>{var Xe,we;return(we=(Xe=re.metadata)==null?void 0:Xe.subtest)==null?void 0:we.includes(de)})}return t},[t,d,x,E]),j=()=>d&&x.length>0?x[E].duration*60:r?6e3:m==="PSIKOTEST"&&i===Ue.SIMULATION?2400:m==="TPA"&&i===Ue.SIMULATION?6e3:0,[X,J]=Y.useState(0),[ue,W]=Y.useState(0);Y.useEffect(()=>{d?x.length>0&&(W(x[E].duration*60),J(0),O(!0)):(W(j()),O(!0))},[E,x,d]);const[se,ye]=Y.useState({}),[Ve,Ee]=Y.useState(!1),[Ge,We]=Y.useState(!1),[L,F]=Y.useState(!1),oe=Y.useRef(Date.now());Y.useEffect(()=>{let de=null;return y==="TEST"&&ue>0&&!Ge?de=setInterval(()=>W(re=>re-1),1e3):$&&ue===0&&(r||d)&&(d?P(!0):N()),()=>clearInterval(de)},[ue,r,d,Ge,y,$]),Y.useEffect(()=>{let de=null;return y==="BREAK"&&A>0?de=setInterval(()=>w(re=>re-1),1e3):y==="BREAK"&&A===0&&(h("TEST"),_(re=>re+1)),()=>clearInterval(de)},[A,y]),Y.useEffect(()=>{Ee(!1),oe.current=Date.now()},[X]);const Me=async de=>{const re=z[X];if(i===Ue.DRILL&&se[re.id])return;const Xe=(Date.now()-oe.current)/1e3;let we=0,lt=!1;if(re.tkpPoints){const Ct=re.tkpPoints.find(Si=>Si.option.trim()===de.trim());we=Ct?Ct.points:0,lt=we===5}else lt=de===re.correctAnswer,we=lt?5:0;let pt="";if(re.type!=="multiple_choice"&&m==="GENERAL")try{const Ct=await _C(re.content,re.correctAnswer,de);we=Ct.score,lt=Ct.isCorrect,pt=Ct.feedback}catch{console.error("Grading failed")}const Bt=se[re.id],Fi={questionId:re.id,selectedAnswer:de,isCorrect:lt,scoreEarned:we,timeTakenSeconds:((Bt==null?void 0:Bt.timeTakenSeconds)||0)+Xe,isOverthinking:!1,isGuessing:Xe<3,aiEvaluation:pt,isDoubtful:(Bt==null?void 0:Bt.isDoubtful)||!1};ye(Ct=>({...Ct,[re.id]:Fi})),i!==Ue.SIMULATION&&Ee(!0)},be=()=>{const de=z[X],re=se[de.id],Xe={questionId:de.id,selectedAnswer:(re==null?void 0:re.selectedAnswer)||"",isCorrect:(re==null?void 0:re.isCorrect)||!1,scoreEarned:(re==null?void 0:re.scoreEarned)||0,timeTakenSeconds:(re==null?void 0:re.timeTakenSeconds)||0,isOverthinking:!1,isGuessing:!1,isDoubtful:!(re!=null&&re.isDoubtful),aiEvaluation:re==null?void 0:re.aiEvaluation};ye(we=>({...we,[de.id]:Xe}))},N=()=>{a(Object.values(se))},P=(de=!1)=>{if(E>=x.length-1){N();return}if(de){h("TEST"),w(30),h("BREAK");return}g("Periksa lagi ya sayaang... nanti ada yang salah lhoo..","info"),H(!0)},K=()=>{H(!1),w(30),h("BREAK")},Q=de=>{const re=Math.floor(de/3600),Xe=Math.floor(de%3600/60),we=de%60;return`${re>0?re+":":""}${Xe.toString().padStart(2,"0")}:${we.toString().padStart(2,"0")}`},le=z[X],ne=se[le==null?void 0:le.id];let ve=[...new Set(t.map(de=>{var re;return((re=de.metadata)==null?void 0:re.subtest)||"General"}))];return d&&x.length>0&&(ve=[x[E].name]),y==="BREAK"?v.jsx(oN,{timeLeft:A,onFinish:()=>{h("TEST"),_(de=>de+1)}}):le?v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row h-screen overflow-hidden transition-colors relative",children:[M&&v.jsx("div",{className:"fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center border border-slate-200 dark:border-slate-700 transform scale-105 transition-all",children:[v.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-rose-500 animate-bounce",children:v.jsx(Oi,{size:32})}),v.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Yakin udah dicek ulang?"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 italic",children:'"mau lanjut kah manisss?"'}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-3 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800",children:"Tidak"}),v.jsx("button",{onClick:K,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg",children:"Ya"})]})]})}),Ge&&v.jsx("div",{className:"absolute inset-0 z-50 bg-white/80 dark:bg-slate-900/90 backdrop-blur-md flex flex-col items-center justify-center animate-fade-in",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-2xl text-center border border-slate-200 dark:border-slate-700 max-w-sm w-full",children:[v.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-6 text-amber-600 dark:text-amber-400",children:v.jsx(ss,{size:32,fill:"currentColor"})}),v.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Ujian Dijeda"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Waktu berhenti sementara. Layar disembunyikan untuk keamanan."}),v.jsxs("button",{onClick:()=>We(!1),className:"w-full py-4 bg-slate-900 dark:bg-indigo-600 text-white rounded-xl font-bold hover:opacity-90 transition flex items-center justify-center gap-2",children:[v.jsx(yg,{size:20,fill:"currentColor"})," Lanjutkan"]})]})}),v.jsxs("div",{className:`flex-1 flex flex-col h-full overflow-hidden relative order-1 ${Ge?"blur-md pointer-events-none select-none":""}`,children:[v.jsxs("div",{className:"md:hidden bg-white dark:bg-slate-800 p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center shadow-sm z-20",children:[v.jsxs("div",{className:"font-bold text-slate-700 dark:text-white text-sm",children:["No. ",X+1]}),v.jsxs("div",{className:"flex items-center gap-2",children:[i===Ue.SIMULATION&&v.jsx("button",{onClick:()=>We(!0),className:"p-2 bg-amber-100 dark:bg-amber-900/30 text-amber-600 rounded-lg",children:v.jsx(ss,{size:16})}),ue>0&&v.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs font-mono font-bold text-slate-800 dark:text-slate-200",children:Q(ue)}),v.jsx("button",{onClick:()=>F(!L),className:"p-2 bg-indigo-50 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-400 rounded",children:v.jsx(m1,{size:20})})]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:v.jsxs("div",{className:"max-w-3xl mx-auto pb-24",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 md:p-8 mb-6",children:[i===Ue.DRILL&&l&&v.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-100 dark:border-indigo-800 text-sm text-slate-700 dark:text-slate-300",children:[v.jsxs("h4",{className:"font-bold text-indigo-700 dark:text-indigo-300 mb-2 flex items-center gap-2",children:[v.jsx(gs,{size:16})," ",l.topic]}),v.jsx("p",{className:"mb-2",children:l.summary}),v.jsx("ul",{className:"list-disc pl-4 space-y-1",children:l.keyPoints.map((de,re)=>v.jsx("li",{children:de},re))})]}),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("span",{className:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:d&&x.length>0?x[E].name:((Ae=le.metadata)==null?void 0:Ae.subtest)||"General"}),((je=le.metadata)==null?void 0:je.difficulty)==="HOTS"&&v.jsxs("span",{className:"flex items-center gap-1 text-rose-600 dark:text-rose-400 font-bold text-xs bg-rose-50 dark:bg-rose-900/20 px-2 py-1 rounded-full",children:[v.jsx(gs,{size:12})," HOTS"]})]}),v.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-8 text-slate-800 dark:text-slate-100",children:v.jsx(Fn,{text:le.content})}),le.type==="multiple_choice"?v.jsx("div",{className:"space-y-3",children:(xn=le.options)==null?void 0:xn.map((de,re)=>{const Xe=String.fromCharCode(65+re),we=(ne==null?void 0:ne.selectedAnswer)===de;let lt="border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-750",pt="bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 group-hover:bg-slate-200 dark:group-hover:bg-slate-600";if(we&&(lt="border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 dark:border-indigo-500",pt="bg-indigo-600 text-white"),i!==Ue.SIMULATION&&(ne!=null&&ne.selectedAnswer)){const Bt=de===le.correctAnswer;Bt?(lt="border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20",pt="bg-emerald-500 text-white"):we&&!Bt&&!le.tkpPoints&&(lt="border-rose-500 bg-rose-50 dark:bg-rose-900/20",pt="bg-rose-500 text-white")}return v.jsxs("button",{onClick:()=>Me(de),className:`w-full flex items-start p-4 rounded-xl border-2 transition-all group text-left ${lt}`,children:[" ",v.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm mr-4 transition-colors ${pt}`,children:Xe})," ",v.jsx("div",{className:"flex-1 pt-1 text-slate-700 dark:text-slate-200 text-base",children:v.jsx(Fn,{text:de})})," "]},re)})}):v.jsxs("div",{children:[" ",v.jsx("textarea",{className:"w-full p-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 dark:bg-slate-900 dark:text-white",placeholder:"Ketik jawaban Anda...",rows:4,value:(ne==null?void 0:ne.selectedAnswer)||"",onChange:de=>Me(de.target.value)})," "]})]}),Ve&&i!==Ue.SIMULATION&&v.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 rounded-2xl p-6 animate-fade-in-up",children:[" ",v.jsxs("h4",{className:"font-bold text-emerald-800 dark:text-emerald-300 mb-3 flex items-center gap-2",children:[v.jsx(hs,{size:20})," Pembahasan"]})," ",v.jsx("div",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:v.jsx(Fn,{text:le.explanation})})," "]})]})}),v.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-4 z-10",children:v.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[v.jsxs("button",{onClick:()=>J(de=>Math.max(0,de-1)),disabled:X===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 disabled:opacity-50",children:[v.jsx(ZC,{size:20})," ",v.jsx("span",{className:"hidden sm:inline",children:"Sebelumnya"})]}),v.jsxs("button",{onClick:be,className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold border transition ${ne!=null&&ne.isDoubtful?"bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-400 border-amber-300 dark:border-amber-700":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-600"}`,children:[v.jsx("input",{type:"checkbox",checked:(ne==null?void 0:ne.isDoubtful)||!1,readOnly:!0,className:"w-4 h-4 accent-amber-500 cursor-pointer"}),v.jsx("span",{children:"Ragu-ragu"})]}),v.jsxs("button",{onClick:()=>{X<z.length-1?J(de=>de+1):d?P():N()},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-bold bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none",children:[v.jsx("span",{className:"hidden sm:inline",children:X===z.length-1?d&&E<x.length-1?"Lanjut Subtes":"Selesai":"Berikutnya"}),v.jsx(zi,{size:20})]})]})})]}),v.jsxs("div",{className:`fixed inset-y-0 right-0 w-80 bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 transform transition-transform duration-300 z-40 flex flex-col order-2 ${L?"translate-x-0":"translate-x-full"} md:translate-x-0 md:relative md:w-80 ${Ge?"blur-sm pointer-events-none":""}`,children:[v.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800",children:[" ",v.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Navigasi Soal"})," ",v.jsx("button",{onClick:()=>F(!1),className:"md:hidden text-slate-500",children:v.jsx(qo,{size:24})})," "]}),i===Ue.SIMULATION&&ue>0&&v.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 hidden md:block",children:[" ",v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[" ",v.jsx("span",{className:"text-xs font-bold text-indigo-500 uppercase tracking-wider",children:"Sisa Waktu"})," ",v.jsxs("button",{onClick:()=>We(!0),className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded font-bold hover:bg-amber-200 flex items-center gap-1",children:[v.jsx(ss,{size:12})," Jeda"]})," "]})," ",v.jsx("div",{className:"text-3xl font-mono font-bold text-slate-800 dark:text-white text-center",children:Q(ue)})," "]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:ve.map(de=>{const re=d?z.map((Xe,we)=>({...Xe,originalIndex:we})):t.map((Xe,we)=>({...Xe,originalIndex:we})).filter(Xe=>{var we;return(((we=Xe.metadata)==null?void 0:we.subtest)||"General")===de});return v.jsxs("div",{children:[" ",v.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 border-b border-slate-100 dark:border-slate-700 pb-1",children:[de," (",re.length,")"]})," ",v.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[" ",re.map(Xe=>{const we=Xe.originalIndex,lt=se[Xe.id];let pt="bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300";return lt!=null&&lt.selectedAnswer&&(pt="bg-emerald-500 border-emerald-500 text-white"),lt!=null&&lt.isDoubtful&&(pt="bg-amber-400 border-amber-400 text-white"),we===X&&(pt+=" ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-800"),v.jsxs("button",{onClick:()=>{J(we),F(!1)},className:`aspect-square rounded-lg border flex items-center justify-center font-bold text-sm transition-all ${pt}`,children:[" ",we+1," "]},Xe.id)})," "]})," "]},de)})}),v.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-xs text-slate-500 dark:text-slate-400 space-y-2",children:[" ",v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded bg-emerald-500"})," Sudah dijawab"]})," ",v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded bg-amber-400"})," Ragu-ragu"]})," ",v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded bg-white border border-slate-300"})," Belum dijawab"]})," ",v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded border-2 border-indigo-500"})," Posisi saat ini"]})," "]})," ",v.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 md:hidden",children:[" ",v.jsx("button",{onClick:N,className:"w-full py-3 bg-rose-600 text-white rounded-xl font-bold",children:"Hentikan Ujian"})," "]})]}),L&&v.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>F(!1)})]}):v.jsxs("div",{className:"p-10 text-center",children:[v.jsx(Bo,{className:"animate-spin mx-auto"})," Loading questions..."]})},cN=({category:i,skdStream:t,availablePackages:l,history:a,onSelectPackage:r,onGenerateNew:d,onImportPackage:m,onBack:g,showToast:y})=>{const[h,x]=Y.useState(""),[T,E]=Y.useState(!1),_=Y.useRef(null),A=z=>{const j=a.filter(J=>J.packageId===z);if(j.length===0)return{attempts:0,highScore:0,avgScore:0};const X=j.map(J=>J.score);return{attempts:j.length,highScore:Math.max(...X),avgScore:Math.round(X.reduce((J,ue)=>J+ue,0)/X.length),lastAttemptDate:j[0].date}},w=()=>{h==="Fajmuls22"?d(h):y("Token Salah Wleeee","error")},M=(z,j)=>{z.stopPropagation();const X=JSON.stringify(j,null,2),J=new Blob([X],{type:"application/json"}),ue=URL.createObjectURL(J),W=document.createElement("a");W.href=ue,W.download=`${j.title.replace(/\s+/g,"_")}.json`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(ue),y("Paket Soal berhasil didownload","success")},H=()=>{var z;(z=_.current)==null||z.click()},$=z=>{z.target.files&&z.target.files.length>0&&(m(z.target.files[0]),_.current&&(_.current.value=""))},O=i==="SKD"?l.filter(z=>!z.skdStream||z.skdStream===t):l;return v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center",children:v.jsxs("div",{className:"max-w-4xl w-full",children:[v.jsxs("button",{onClick:g,className:"mb-6 flex items-center text-slate-500 hover:text-indigo-600",children:[v.jsx(xi,{size:18,className:"mr-2"})," Kembali"]}),v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:["Pilih Paket Try Out ",i]}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Pilih paket soal yang tersedia atau import paket lokal."})]}),v.jsxs("div",{children:[v.jsx("input",{type:"file",ref:_,className:"hidden",accept:".json",onChange:$}),v.jsxs("button",{onClick:H,className:"bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-emerald-700 shadow-md flex items-center gap-2",children:[v.jsx(bc,{size:18})," Load Soal (JSON)"]})]})]}),v.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-6 text-white shadow-lg mb-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(gs,{size:24,className:"text-yellow-300"})," Generate Soal Baru (AI)"]}),v.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Buat paket soal unik sesuai standar terbaru. Butuh Token."})]}),v.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto",children:T?v.jsxs("div",{className:"flex gap-2 w-full",children:[v.jsx("input",{type:"text",className:"p-3 rounded-lg text-slate-900 w-full md:w-48 font-bold",placeholder:"Masukkan Token",value:h,onChange:z=>x(z.target.value)}),v.jsx("button",{onClick:w,className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-bold hover:bg-indigo-50",children:"Mulai"})]}):v.jsxs("button",{onClick:()=>E(!0),className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-bold hover:bg-indigo-50 flex items-center gap-2 w-full justify-center md:w-auto",children:[v.jsx(E1,{size:18})," Masukkan Token"]})})]}),v.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:O.map(z=>{const j=A(z.id);return v.jsxs("button",{onClick:()=>r(z),className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-md transition text-left group relative overflow-hidden w-full",children:[z.isAiGenerated&&v.jsx("div",{className:"absolute top-0 right-0 bg-indigo-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg",children:"AI Generated"}),v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2 group-hover:text-indigo-600 transition-colors pr-8",children:z.title}),v.jsx("div",{onClick:X=>M(X,z),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-700 rounded-lg transition",title:"Download JSON Soal",children:v.jsx(pg,{size:18})})]}),v.jsxs("div",{className:"flex gap-4 text-xs text-slate-500 dark:text-slate-400 mb-4",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(ac,{size:12})," ",z.durationMinutes," Menit"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(ps,{size:12})," ",z.questions.length," Soal"]})]}),v.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-3 grid grid-cols-3 gap-2 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Percobaan"}),v.jsxs("div",{className:"text-lg font-bold text-slate-800 dark:text-white",children:[j.attempts,"x"]})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Tertinggi"}),v.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:j.highScore})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Rata-rata"}),v.jsx("div",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:j.avgScore})]})]})]},z.id)})})]})})},dN=({item:i,onBack:t})=>v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsxs("button",{onClick:t,className:"mb-4 text-slate-500 dark:text-slate-400 flex items-center",children:[v.jsx(xi,{size:16,className:"mr-1"})," Kembali"]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[v.jsxs("h2",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white",children:["Review: ",i.category]}),v.jsx("div",{className:"space-y-6",children:i.questions.map((l,a)=>{var y;const r=i.answers.find(h=>h.questionId===l.id),d=!!l.tkpPoints;let m,g;if(d){const h=(r==null?void 0:r.scoreEarned)||0,x=5;let T="text-slate-500";h===5?T="text-emerald-600":h>=3?T="text-indigo-600":T="text-amber-600",m=v.jsxs("span",{className:`${T} flex items-center text-sm font-bold bg-slate-50 dark:bg-slate-900/50 px-3 py-1 rounded-lg border border-slate-100 dark:border-slate-700`,children:[v.jsx(xc,{size:16,className:"mr-1"})," Poin: ",h,"/",x]}),g=v.jsxs("div",{className:"mt-4 border-t border-slate-100 dark:border-slate-700 pt-4",children:[v.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Analisis Poin Jawaban"}),v.jsx("div",{className:"space-y-2",children:(y=l.tkpPoints)==null?void 0:y.sort((E,_)=>_.points-E.points).map((E,_)=>{const A=(r==null?void 0:r.selectedAnswer)===E.option;return v.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg text-sm ${A?"bg-indigo-50 border border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-800":"bg-white border border-slate-100 dark:bg-slate-800 dark:border-slate-700"}`,children:[v.jsxs("div",{className:"flex-1 mr-4",children:[v.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:E.option}),A&&v.jsx("span",{className:"ml-2 text-xs font-bold text-indigo-600 bg-indigo-100 px-2 py-0.5 rounded-full",children:"Jawabanmu"})]}),v.jsx("div",{className:`font-bold w-8 text-center ${E.points===5?"text-emerald-600":"text-slate-500"}`,children:E.points})]},_)})}),v.jsxs("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:[v.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-1 text-xs uppercase flex items-center gap-1",children:[v.jsx(hs,{size:12})," Penjelasan Aspek"]}),v.jsx("div",{className:"text-slate-600 dark:text-slate-400 text-sm italic",children:v.jsx(Fn,{text:l.explanation})})]})]})}else m=(r==null?void 0:r.isCorrect)?v.jsxs("span",{className:"text-emerald-600 flex items-center text-sm font-bold",children:[v.jsx(Oi,{size:16,className:"mr-1"})," Benar"]}):v.jsxs("span",{className:"text-rose-500 flex items-center text-sm font-bold",children:[v.jsx(qo,{size:16,className:"mr-1"})," Salah"]}),g=v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[v.jsxs("div",{className:`p-4 rounded-xl border ${r!=null&&r.isCorrect?"bg-emerald-100 border-emerald-200 dark:bg-emerald-900/40 dark:border-emerald-700":"bg-rose-100 border-rose-200 dark:bg-rose-900/40 dark:border-rose-700"}`,children:[v.jsx("div",{className:"text-xs uppercase font-bold mb-1 opacity-70",children:"Jawaban Kamu"}),v.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:(r==null?void 0:r.selectedAnswer)||"-"})]}),!(r!=null&&r.isCorrect)&&v.jsxs("div",{className:"p-4 rounded-xl border bg-indigo-50 border-indigo-100 dark:bg-indigo-900/20 dark:border-indigo-800",children:[v.jsx("div",{className:"text-xs uppercase font-bold mb-1 opacity-70",children:"Kunci Jawaban"}),v.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:l.correctAnswer})]})]}),v.jsxs("div",{className:"mt-4 bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2",children:[v.jsx(hs,{size:18,className:"text-amber-500"})," Pembahasan Detail:"]}),v.jsx("div",{className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm",children:v.jsx(Fn,{text:l.explanation})})]})]});return v.jsxs("div",{className:`p-6 border rounded-xl bg-white dark:bg-slate-800 ${d?"border-indigo-100 dark:border-indigo-900":r!=null&&r.isCorrect?"border-emerald-100 dark:border-emerald-900":"border-rose-100 dark:border-rose-900"}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"text-sm font-bold bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-3 py-1 rounded shadow-sm",children:["Soal ",a+1," ",v.jsxs("span",{className:"opacity-50 ml-1 font-normal",children:["| ",l.metadata.subtest||"General"]})]}),m]}),v.jsx("div",{className:"mb-6 text-slate-800 dark:text-slate-200 text-lg leading-relaxed font-medium",children:v.jsx(Fn,{text:l.content})}),g]},a)})})]})]})}),fN=({answers:i,questions:t,onHome:l,onRetry:a,category:r})=>{const d=i.filter(A=>A.isCorrect).length;let m=0;const[g,y]=Y.useState(""),[h,x]=Y.useState(!1),T=i.filter(A=>!A.isCorrect),E=Array.from(new Set(T.map(A=>{var M,H;const w=t.find($=>$.id===A.questionId);return((M=w==null?void 0:w.metadata)==null?void 0:M.subtest)||((H=w==null?void 0:w.metadata)==null?void 0:H.topic)||"General"})));if(r==="GENERAL"){const A=i.reduce((w,M)=>w+(M.scoreEarned||0),0);m=Math.round(A/(t.length||1))}else m=Math.round(d/t.length*100);const _=async()=>{x(!0);try{const A=await AC(E);y(A)}catch{alert("Gagal memuat saran AI.")}finally{x(!1)}};return v.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-900 p-6 md:p-12 flex flex-col items-center transition-colors",children:v.jsxs("div",{className:"max-w-2xl w-full text-center",children:[v.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-50 dark:bg-slate-800 mb-6",children:m>=80?v.jsx(xc,{size:48,className:"text-emerald-500"}):v.jsx(BC,{size:48,className:"text-amber-500"})}),v.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Sesi Selesai!"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Berikut adalah analisis hasil belajar Anda."}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[v.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:"Skor Akhir"}),v.jsx("div",{className:"text-4xl font-black text-slate-900 dark:text-white",children:m})]}),v.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[v.jsx("div",{className:"text-slate-400 font-bold text-xs uppercase mb-1",children:r==="GENERAL"?"Rata-rata Poin":"Akurasi"}),v.jsx("div",{className:"text-4xl font-black text-indigo-600 dark:text-indigo-400",children:r==="GENERAL"?m:`${Math.round(d/t.length*100)}%`})]})]}),E.length>0&&v.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 border border-rose-100 dark:border-rose-900 p-6 rounded-2xl mb-8 text-left",children:[v.jsxs("h3",{className:"font-bold text-rose-800 dark:text-rose-400 flex items-center gap-2",children:[v.jsx(xg,{size:20})," Topik Perlu Perbaikan"]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:E.map(A=>v.jsx("span",{className:"bg-white dark:bg-rose-900/40 text-rose-600 dark:text-rose-200 px-3 py-1 rounded-full text-xs font-bold border border-rose-200 dark:border-rose-800",children:A},A))}),g?v.jsxs("div",{className:"mt-4 pt-4 border-t border-rose-200 dark:border-rose-800",children:[v.jsx("h4",{className:"font-bold text-sm text-rose-800 dark:text-rose-400 mb-2",children:"Saran AI:"}),v.jsx("div",{className:"prose prose-sm prose-rose max-w-none text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 p-4 rounded-xl border border-rose-100 dark:border-rose-800",children:v.jsx(Fn,{text:g})})]}):v.jsxs("button",{onClick:_,disabled:h,className:"text-sm font-bold text-rose-700 dark:text-rose-400 underline flex items-center gap-1 hover:text-rose-900 dark:hover:text-rose-300",children:[h?v.jsx(Bo,{className:"animate-spin",size:14}):v.jsx(hs,{size:14}),"Minta Saran Perbaikan AI"]})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden text-left mb-8",children:[v.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 border-b border-slate-100 dark:border-slate-600 font-bold text-slate-700 dark:text-slate-200",children:"Detail Jawaban"}),v.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.map((A,w)=>{const M=i.find($=>$.questionId===A.id),H=M==null?void 0:M.isCorrect;return v.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-750 transition",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1",children:[v.jsxs("span",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:["Soal ",w+1]}),H?v.jsx(Oi,{size:16,className:"text-emerald-500"}):v.jsx(qo,{size:16,className:"text-rose-500"})]}),v.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:A.content}),!H&&A.type==="multiple_choice"&&v.jsxs("p",{className:"text-xs text-rose-500 mt-1",children:["Jawaban: ",(M==null?void 0:M.selectedAnswer)||"-"," (Kunci: ",A.correctAnswer,")"]}),A.type!=="multiple_choice"&&v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 italic",children:(M==null?void 0:M.aiEvaluation)||"Evaluasi AI"})]},w)})})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:l,className:"flex-1 py-4 border-2 border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:"Ke Menu Utama"}),v.jsx("button",{onClick:a,className:"flex-1 py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Coba Lagi"})]})]})})},mN=({history:i,onBack:t,onReview:l,username:a,onExport:r,onImport:d})=>{const[m,g]=Y.useState("ALL"),y=Y.useRef(null),h=i.filter(_=>m==="ALL"||_.category===m),x=h.length,T=x>0?Math.round(h.reduce((_,A)=>_+A.score,0)/x):0,E=x>0?Math.max(...h.map(_=>_.score)):0;return v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition text-slate-700 dark:text-slate-300",children:v.jsx(xi,{size:20})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Riwayat Belajar"}),v.jsxs("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[v.jsx(Tg,{size:12})," ",a]})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-bold text-xs hover:bg-slate-50 dark:hover:bg-slate-700 transition shadow-sm",children:[v.jsx(pg,{size:14})," Backup JSON"]}),v.jsxs("button",{onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800 rounded-xl font-bold text-xs hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition shadow-sm",children:[v.jsx(bc,{size:14})," Restore JSON"]}),v.jsx("input",{type:"file",ref:y,className:"hidden",accept:".json",onChange:_=>{var A;(A=_.target.files)!=null&&A[0]&&d(_.target.files[0]),y.current&&(y.current.value="")}})]})]}),v.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-4 scrollbar-hide",children:[v.jsx("button",{onClick:()=>g("ALL"),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${m==="ALL"?"bg-slate-900 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:"Semua"}),x0.map(_=>v.jsx("button",{onClick:()=>g(_.id),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition ${m===_.id?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:_.name},_.id))]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[v.jsx(c1,{size:14})," Total Tes"]}),v.jsx("div",{className:"text-3xl font-black text-slate-800 dark:text-white",children:x})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[v.jsx(Y1,{size:14})," Rata-rata"]}),v.jsx("div",{className:"text-3xl font-black text-indigo-600 dark:text-indigo-400",children:T})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-2 font-bold text-xs uppercase tracking-wider",children:[v.jsx(xc,{size:14})," Tertinggi"]}),v.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-500",children:E})]})]}),v.jsx("div",{className:"space-y-4",children:h.length===0?v.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-3xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:[v.jsx(hg,{size:48,className:"mx-auto mb-4 opacity-20"}),v.jsx("p",{children:"Tidak ada riwayat untuk kategori ini."})]}):h.map(_=>v.jsxs("div",{onClick:()=>l(_),className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-500 cursor-pointer transition group relative overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wider ${_.category==="UTBK"?"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300":_.category==="SKD"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300":_.category==="GENERAL"?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300"}`,children:_.category}),_.skdStream&&v.jsx("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 px-2 py-1 rounded",children:_.skdStream})]}),v.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm font-medium",children:[v.jsx(QC,{size:14}),new Date(_.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),v.jsx("span",{className:"opacity-50",children:""}),new Date(_.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-4xl font-black text-slate-800 dark:text-white",children:_.score}),v.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"SKOR"})]})]}),v.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4 flex justify-between items-center relative z-10",children:[v.jsxs("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[v.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-md text-xs font-bold text-slate-600 dark:text-slate-300",children:[(_.questions||[]).length," Soal"]}),_.details&&_.details.passed!==void 0&&(_.details.passed?v.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[v.jsx(Oi,{size:14})," Lulus"]}):v.jsxs("span",{className:"text-rose-500 dark:text-rose-400 font-bold flex items-center gap-1",children:[v.jsx(qo,{size:14})," Tidak Lulus"]}))]}),v.jsxs("div",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400 flex items-center gap-1 group-hover:translate-x-1 transition-transform",children:["Review Detail ",v.jsx(zi,{size:16})]})]})]},_.id))})]})})},pN=({result:i,feature:t,onBack:l})=>v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center",children:v.jsxs("div",{className:"max-w-3xl w-full",children:[v.jsxs("button",{onClick:l,className:"mb-4 text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[v.jsx(xi,{size:18})," Kembali"]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[v.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(Sc,{size:28,className:"text-indigo-600"})," Hasil ",t]}),v.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:v.jsx(Fn,{text:i})})]})]})}),hN=({questions:i,onComplete:t})=>{const[l,a]=Y.useState(0),[r,d]=Y.useState(""),[m,g]=Y.useState(null),[y,h]=Y.useState(!1),[x,T]=Y.useState([]),E=i[l],_=async()=>{if(r.trim()){h(!0);try{const w=await CC(E.content,r);g(w)}catch{alert("Gagal evaluasi.")}finally{h(!1)}}},A=()=>{const w={questionId:E.id,selectedAnswer:r,isCorrect:!0,scoreEarned:(m==null?void 0:m.score)||0,timeTakenSeconds:0,isOverthinking:!1,isGuessing:!1,interviewFeedback:m||void 0},M=[...x,w];T(M),d(""),g(null),l<i.length-1?a(l+1):t(M)};return v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:v.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"mb-4 text-sm font-bold text-slate-400",children:["Pertanyaan ",l+1," dari ",i.length]}),v.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:E.content}),m?v.jsxs("div",{className:"animate-fade-in-up",children:[v.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:["Skor: ",m.score,"/100"]}),v.jsx("span",{className:"text-sm bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-2 py-1 rounded",children:m.toneAnalysis})]}),v.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[v.jsx("b",{children:"Feedback:"})," ",m.feedback]}),v.jsxs("div",{className:"text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-800 dark:text-emerald-300 p-3 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[v.jsx("b",{children:"Saran Jawaban:"})," ",m.improvedAnswer]})]}),v.jsx("button",{onClick:A,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:opacity-90",children:"Lanjut"})]}):v.jsxs(v.Fragment,{children:[v.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-40 focus:ring-2 focus:ring-indigo-500",placeholder:"Jawab seolah sedang interview...",value:r,onChange:w=>d(w.target.value)}),v.jsxs("button",{onClick:_,disabled:y||!r,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[y?v.jsx(Bo,{className:"animate-spin"}):v.jsx(Ec,{size:18})," Submit Jawaban"]})]})]})})},gN=({flashcards:i,onFinish:t})=>{const[l,a]=Y.useState(0),r=d=>{l<i.length-1?a(l+1):t()};return i.length===0?v.jsx("div",{children:"No Flashcards"}):v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:[v.jsxs("div",{className:"w-full max-w-xl mb-6 flex justify-between items-center",children:[v.jsx("button",{onClick:t,className:"text-slate-500 hover:text-indigo-600",children:v.jsx(xi,{size:20})}),v.jsxs("span",{className:"font-bold text-slate-400",children:[l+1," / ",i.length]})]}),v.jsx(tN,{data:i[l],onNext:r})]})},yN=({topic:i,onFinish:t})=>{const[l,a]=Y.useState(""),[r,d]=Y.useState(null),[m,g]=Y.useState(!1),y=async()=>{g(!0);try{const h=await NC(i,l);d(h)}catch{alert("Error")}finally{g(!1)}};return v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:v.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Feynman Technique"}),v.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Jelaskan topik ",v.jsxs("b",{children:['"',i,'"']})," seolah-olah Anda sedang mengajari anak kecil (5 tahun). Gunakan bahasa sederhana."]}),r?v.jsxs("div",{className:"animate-fade-in-up",children:[v.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsxs("div",{className:`text-2xl font-bold ${r.understandingScore>70?"text-emerald-500":"text-amber-500"}`,children:[r.understandingScore,"/100"]}),v.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 uppercase font-bold",children:"Skor Pemahaman"})]}),v.jsxs("div",{className:"space-y-3 text-sm text-slate-700 dark:text-slate-300",children:[v.jsxs("p",{children:[v.jsx("b",{children:"Kualitas Penyederhanaan:"})," ",r.simplificationQuality]}),v.jsxs("p",{children:[v.jsx("b",{children:"Konsep yang Terlewat:"})," ",r.missingConcepts.join(", ")||"Tidak ada"]}),v.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg border border-indigo-100 dark:border-indigo-800 text-indigo-800 dark:text-indigo-300",children:[v.jsx("b",{children:"Koreksi / Saran:"})," ",r.correction]})]})]}),v.jsx("button",{onClick:t,className:"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold",children:"Selesai Belajar"})]}):v.jsxs(v.Fragment,{children:[v.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-4 h-48 focus:ring-2 focus:ring-indigo-500",placeholder:"Mulai jelaskan di sini...",value:l,onChange:h=>a(h.target.value)}),v.jsx("button",{onClick:y,disabled:m||!l,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50",children:m?"Menganalisis...":"Cek Pemahaman Saya"})]})]})})},vN=({topic:i,onFinish:t})=>{const l=["Survey","Question","Read","Recite","Review"],[a,r]=Y.useState(0),d=["Lakukan scanning cepat pada materi. Baca judul, subjudul, dan kesimpulan. Dapatkan gambaran besar.","Buat pertanyaan dari judul/subjudul. Apa yang ingin Anda ketahui? Ubah judul menjadi pertanyaan.","Baca materi dengan seksama untuk mencari jawaban atas pertanyaan Anda tadi.","Tutup materi. Ucapkan kembali apa yang baru saja dibaca dengan kata-kata sendiri.","Review ulang seluruh materi dan catatan Anda. Pastikan semuanya tersimpan di memori."];return v.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center",children:v.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 text-center",children:[v.jsx("div",{className:"flex justify-center mb-8",children:l.map((m,g)=>v.jsxs("div",{className:`flex items-center ${g<l.length-1?"w-full":""}`,children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm ${g<=a?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:m[0]}),g<l.length-1&&v.jsx("div",{className:`h-1 flex-1 ${g<a?"bg-indigo-600":"bg-slate-100 dark:bg-slate-700"}`})]},m))}),v.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-4",children:l[a]}),v.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mb-8",children:d[a]}),v.jsx("button",{onClick:()=>{a<4?r(a+1):t()},className:"px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition",children:a<4?"Lanjut Tahap Berikutnya":"Selesai SQ3R"})]})})},xN=({category:i,onBack:t,onStartSession:l,onGeneralInputSubmit:a,generalInput:r,setGeneralInput:d,isReadingMaterial:m,onResetMaterial:g,onSubtestSelect:y,selectedSubtest:h,weakTopicsCount:x,loading:T,skdStream:E,onSkdStreamSelect:_,onHistory:A,onStartGeneralSession:w,onStartSkripsiSession:M,username:H,isDarkMode:$,onToggleDarkMode:O})=>{const[z,j]=Y.useState(""),[X,J]=Y.useState(null),[ue,W]=Y.useState("MEDIUM"),[se,ye]=Y.useState("MEDIUM"),[Ve,Ee]=Y.useState(!1),Ge=Y.useRef(null),[We,L]=Y.useState(5),[F,oe]=Y.useState("Medium"),Me=P=>{var Q;const K=(Q=P.target.files)==null?void 0:Q[0];if(K){if(K.type!=="application/pdf"){alert("Hanya file PDF yang diperbolehkan.");return}J(K.name),j(""),Ee(!0);const le=new FileReader;le.onload=ne=>{var Ae;const ve=((Ae=ne.target)==null?void 0:Ae.result).split(",")[1];setTimeout(()=>{d&&d({type:"pdf",content:ve,title:K.name,lengthPreference:ue,difficultyPreference:se}),Ee(!1)},800)},le.readAsDataURL(K)}},be=()=>{(r==null?void 0:r.type)==="pdf"?a({...r,lengthPreference:ue,difficultyPreference:se}):z?a({type:"text",content:z,title:"Input Manual",lengthPreference:ue,difficultyPreference:se}):alert("Mohon masukkan teks atau upload PDF.")},N=P=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6 animate-fade-in-up",children:[v.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Pilih Topik / Subtes:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:P==null?void 0:P.map(K=>v.jsx("button",{onClick:()=>y(K),className:`px-4 py-2 rounded-full text-sm font-medium transition ${h===K?"bg-indigo-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:K},K))}),h&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&v.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-6 animate-fade-in-up",children:v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[v.jsxs("div",{className:"flex-1 w-full",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Jumlah Soal"}),v.jsxs("select",{value:We,onChange:K=>L(Number(K.target.value)),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[v.jsx("option",{value:"5",children:"5 Soal"}),v.jsx("option",{value:"10",children:"10 Soal"}),v.jsx("option",{value:"15",children:"15 Soal"}),v.jsx("option",{value:"20",children:"20 Soal"})]})]}),v.jsxs("div",{className:"flex-1 w-full",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 block uppercase",children:"Tingkat Kesulitan"}),v.jsxs("select",{value:F,onChange:K=>oe(K.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl font-medium dark:text-white",children:[v.jsx("option",{value:"Easy",children:"Mudah"}),v.jsx("option",{value:"Medium",children:"Sedang"}),v.jsx("option",{value:"Hard",children:"Sulit"}),v.jsx("option",{value:"HOTS",children:"HOTS (Analisis Tinggi)"})]})]}),v.jsxs("button",{onClick:()=>l(Ue.PRACTICE,F,We),className:"w-full sm:w-auto px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[v.jsx(p0,{size:18})," Mulai Latihan"]})]})}),i==="INTERVIEW"&&h&&v.jsx("div",{className:"mt-6 border-t border-slate-100 dark:border-slate-700 pt-4 animate-fade-in-up",children:v.jsxs("button",{onClick:()=>l(Ue.DRILL),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none transition flex items-center justify-center gap-2",children:[v.jsx(Ec,{size:20})," Mulai Sesi Wawancara"]})})]});return v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 transition-colors duration-300",children:[v.jsx(eN,{}),v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:t,className:"flex items-center text-slate-500 dark:text-slate-400 hover:text-indigo-600 font-medium",children:[v.jsx(xi,{size:18,className:"mr-2"})," Kembali"]}),v.jsxs("div",{className:"flex items-center gap-3",children:[O&&v.jsx("button",{onClick:O,className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 transition",children:$?v.jsx(vg,{size:16}):v.jsx(gg,{size:16})}),v.jsxs("span",{className:"text-xs font-bold text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-full flex items-center gap-1",children:[v.jsx(Tg,{size:12})," ",H]})]})]}),v.jsx("div",{className:"flex justify-between items-end mb-8",children:v.jsxs("div",{children:[v.jsxs("span",{className:"text-sm font-bold tracking-wider text-indigo-600 uppercase mb-1 block",children:[i," Dashboard"]}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Pusat Kendali Belajar"})]})}),T?v.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[v.jsx(Bo,{className:"animate-spin text-indigo-600 w-10 h-10 mb-4"}),v.jsx("p",{className:"text-slate-500 font-medium",children:"AI sedang memproses materi..."}),v.jsx("div",{className:"max-w-md w-full mt-8 space-y-4",children:v.jsx(iN,{})})]}):v.jsxs(v.Fragment,{children:[i==="SKRIPSI"&&v.jsx("div",{className:"animate-fade-in-up max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6",children:[v.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[v.jsx(Sc,{size:24,className:"text-indigo-600"})," Skripsi Assistant"]}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Masukkan topik atau judul skripsi Anda untuk mendapatkan bantuan AI."}),v.jsx("textarea",{className:"w-full p-4 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl mb-6 focus:ring-2 focus:ring-indigo-500 h-32",placeholder:"Contoh: Pengaruh Kecerdasan Buatan terhadap Minat Belajar Mahasiswa Teknik Informatika...",value:z,onChange:P=>j(P.target.value)}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("button",{onClick:()=>M&&M("TITLE_IDEAS",z),className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-xl font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/40 flex flex-col items-center gap-2 border border-indigo-100 dark:border-indigo-800",children:[v.jsx(kl,{size:24})," Ide Judul"]}),v.jsxs("button",{onClick:()=>M&&M("OUTLINE",z),className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 rounded-xl font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/40 flex flex-col items-center gap-2 border border-emerald-100 dark:border-emerald-800",children:[v.jsx(ps,{size:24})," Buat Outline"]}),v.jsxs("button",{onClick:()=>M&&M("METHODOLOGY",z),className:"p-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 rounded-xl font-bold hover:bg-amber-100 dark:hover:bg-amber-900/40 flex flex-col items-center gap-2 border border-amber-100 dark:border-amber-800",children:[v.jsx(h0,{size:24})," Cek Metodologi"]}),v.jsxs("button",{onClick:()=>M&&M("PARAPHRASE",z),className:"p-4 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-300 rounded-xl font-bold hover:bg-rose-100 dark:hover:bg-rose-900/40 flex flex-col items-center gap-2 border border-rose-100 dark:border-rose-800",children:[v.jsx(s1,{size:24})," Parafrase Teks"]})]})]})}),i==="GENERAL"&&v.jsx("div",{className:"space-y-8 animate-fade-in-up",children:m?v.jsxs("div",{className:"animate-fade-in-up",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[v.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx(m0,{size:20})," Materi Belajar"]}),v.jsx("button",{onClick:g,className:"text-sm text-rose-500 hover:underline",children:"Ganti Materi"})]}),(r==null?void 0:r.type)==="pdf"&&r.content&&v.jsx("div",{className:"mb-6",children:v.jsx("embed",{src:`data:application/pdf;base64,${r.content}`,className:"w-full h-[500px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})}),v.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-300 leading-relaxed max-h-[400px] overflow-y-auto p-2 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-700",children:v.jsx(Fn,{text:(r==null?void 0:r.extractedText)||(r==null?void 0:r.content)||""})})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Sudah selesai membaca? Pilih Metode Belajar:"}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:$v.map(P=>{const Q={Brain:kl,Repeat:L1,MessageCircle:C1,Share2:q1,Search:h0,GraduationCap:Tc,BookOpen:m0,PenTool:p0}[P.icon]||kl;return v.jsxs("button",{onClick:()=>w(P.id),className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-md transition text-left flex flex-col h-full",children:[v.jsx("div",{className:"mb-3 text-indigo-600 dark:text-indigo-400",children:v.jsx(Q,{size:24})}),v.jsx("h4",{className:"font-bold text-sm mb-1 text-slate-900 dark:text-white",children:P.name}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:P.desc})]},P.id)})})]})]}):v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[v.jsx(bc,{size:20})," Input Materi"]}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Masukkan topik, teks materi, atau upload PDF yang ingin dipelajari."}),v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx("input",{type:"text",className:"flex-1 p-3 border border-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-white rounded-xl",placeholder:X?`PDF Terpilih: ${X}`:"Contoh: Perang Dunia II, Hukum Newton, atau paste teks...",value:z,disabled:!!X,onChange:P=>{j(P.target.value)}}),v.jsx("input",{type:"file",ref:Ge,accept:"application/pdf",className:"hidden",onChange:Me}),v.jsxs("button",{className:`p-3 rounded-xl transition flex items-center gap-2 ${X?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200"}`,title:"Upload PDF",onClick:()=>{var P;return(P=Ge.current)==null?void 0:P.click()},children:[v.jsx(ps,{size:20}),v.jsx("span",{className:"hidden sm:inline font-bold text-sm",children:"Upload PDF"})]})]}),X&&v.jsxs("div",{className:"mb-4 text-sm bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-lg flex items-center justify-between animate-fade-in-up border border-emerald-100 dark:border-emerald-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Oi,{size:16}),v.jsxs("span",{children:["File siap: ",v.jsx("b",{children:X})]})]}),v.jsx("button",{onClick:()=>{J(null),d&&d(null),Ge.current&&(Ge.current.value="")},className:"text-slate-400 hover:text-rose-500",title:"Hapus PDF",children:v.jsx(J1,{size:16})})]}),Ve?v.jsxs("div",{className:"mb-6 space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-2",children:[v.jsx(Bo,{size:14,className:"animate-spin"})," Memuat Preview PDF..."]}),v.jsx(qi,{height:"h-[300px]",className:"rounded-xl"})]}):(r==null?void 0:r.type)==="pdf"&&r.content&&v.jsxs("div",{className:"mb-6 animate-fade-in-up",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 mb-2 block",children:"Preview PDF:"}),v.jsx("embed",{src:`data:application/pdf;base64,${r.content}`,className:"w-full h-[300px] rounded-xl border border-slate-200 dark:border-slate-700",type:"application/pdf"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Panjang Materi (Ringkasan)"}),v.jsxs("select",{value:ue,onChange:P=>W(P.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[v.jsx("option",{value:"SHORT",children:"Ringkas / Poin Penting"}),v.jsx("option",{value:"MEDIUM",children:"Standar (Rekomedasi)"}),v.jsx("option",{value:"LONG",children:"Mendalam / Detail"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Tingkat Kesulitan Soal"}),v.jsxs("select",{value:se,onChange:P=>ye(P.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium",children:[v.jsx("option",{value:"EASY",children:"Mudah (Recall)"}),v.jsx("option",{value:"MEDIUM",children:"Sedang (Konseptual)"}),v.jsx("option",{value:"HARD",children:"Sulit / HOTS"})]})]})]}),v.jsx("button",{onClick:be,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 transition",children:"Proses & Baca Materi"})]})}),i==="UTBK"&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>l(Ue.SIMULATION),className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group shadow-lg shadow-indigo-200 dark:shadow-none",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(ac,{size:24,className:"text-rose-400"})," Simulasi UTBK SNBT Full"]}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"155 Soal. Durasi 195 Menit. Format Resmi 2025."})]}),v.jsx(zi,{className:"group-hover:translate-x-2 transition-transform"})]}),N(Xv)]}),["TPA","PSIKOTEST"].includes(i)&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>l(Ue.SIMULATION),className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center group",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(kl,{size:24,className:"text-indigo-400"})," Simulasi ",i," Full"]}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:i==="TPA"?"65 Soal (TPA & TBI). Durasi 60-100 Menit.":"Simulasi Lengkap dengan Timer"})]}),v.jsx(zi,{className:"group-hover:translate-x-2 transition-transform"})]}),N(i==="TPA"?jv:Zv)]}),i==="INTERVIEW"&&N(Wv),i==="SKD"&&(E?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-slate-600 dark:text-slate-300",children:[v.jsx("button",{onClick:()=>_(null),className:"underline",children:"Ubah Jalur"})," ",v.jsx(zi,{size:14})," ",v.jsx("b",{children:E})]}),v.jsxs("button",{onClick:()=>l(Ue.SIMULATION),className:"w-full bg-slate-900 dark:bg-indigo-900 text-white p-6 rounded-2xl mb-8 flex justify-between items-center shadow-lg shadow-indigo-200 dark:shadow-none",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(ac,{size:24,className:"text-rose-400"})," Simulasi SKD CAT (110 Soal)"]}),v.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"TWK, TIU, TKP. Durasi 100 Menit. Scoring Resmi."})]}),v.jsx(zi,{className:"group-hover:translate-x-2 transition-transform"})]}),N(Qv)]}):v.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[v.jsxs("button",{onClick:()=>_("KEDINASAN"),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[v.jsx(v1,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Sekolah Kedinasan"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"STAN, STIS, IPDN, dll"})]}),v.jsxs("button",{onClick:()=>_("CPNS"),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 transition text-center group",children:[v.jsx($C,{size:48,className:"mx-auto mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition"}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"CPNS Umum"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Kementerian & Lembaga"})]})]})),i!=="GENERAL"&&i!=="INTERVIEW"&&i!=="SKRIPSI"&&v.jsxs("div",{className:"mt-8 animate-fade-in-up delay-100",children:[v.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:"Mode Belajar Lainnya"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("button",{onClick:()=>l(Ue.DRILL),className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[v.jsx(gs,{className:"text-amber-500 mb-2"}),v.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Learn & Drill"}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Materi + 1 Soal"})]}),v.jsxs("button",{onClick:()=>l(Ue.ACTIVE_RECALL),className:"p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-md transition text-left",children:[v.jsx(kl,{className:"text-emerald-500 mb-2"}),v.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Active Recall"}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Isian Singkat"})]}),x>0&&v.jsxs("button",{onClick:()=>l(Ue.WEAKNESS),className:"p-4 bg-white dark:bg-slate-800 border border-rose-200 dark:border-rose-900 rounded-xl hover:border-rose-500 hover:shadow-md transition text-left",children:[v.jsx(xg,{className:"text-rose-500 mb-2"}),v.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-white",children:"Weakness Attack"}),v.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[x," Topik Lemah"]})]})]})]})]})]})]})},SN=()=>{var ql;const[i,t]=Y.useState("LOGIN"),[l,a]=Y.useState(null),[r,d]=Y.useState(null),[m,g]=Y.useState(!1),[y,h]=Y.useState(""),[x,T]=Y.useState(null),[E,_]=Y.useState(null),[A,w]=Y.useState(new Set),[M,H]=Y.useState(null),[$,O]=Y.useState([]),[z,j]=Y.useState(null),[X,J]=Y.useState(null),[ue,W]=Y.useState(""),[se,ye]=Y.useState([]),[Ve,Ee]=Y.useState(null),[Ge,We]=Y.useState([]),[L,F]=Y.useState(!1),[oe,Me]=Y.useState(""),[be,N]=Y.useState([]),[P,K]=Y.useState(null),[Q,le]=Y.useState(!1),[ne,ve]=Y.useState(null),Ae=(Z,Se)=>ve({msg:Z,type:Se}),[je,xn]=Y.useState([]);Y.useEffect(()=>{const Z=localStorage.getItem("fajmuls_username");Z?de(Z):t("LOGIN"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&le(!0)},[]),Y.useEffect(()=>{Q?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[Q]);const de=async Z=>{const Se=Z.trim();if(!Se)return;Me(Se),localStorage.setItem("fajmuls_username",Se),t("HOME");const Ze=localStorage.getItem(`fajmuls_history_${Se}`);let Ce=[];if(Ze)try{Ce=JSON.parse(Ze)}catch{console.error("History parse fail")}N(Ce)},re=()=>{localStorage.removeItem("fajmuls_username"),Me(""),N([]),t("LOGIN")},Xe=async Z=>{const Se=[Z,...be];N(Se),localStorage.setItem(`fajmuls_history_${oe}`,JSON.stringify(Se))},we=()=>{if(be.length===0){Ae("Belum ada riwayat untuk disimpan.","info");return}const Z=JSON.stringify(be,null,2),Se=new Blob([Z],{type:"application/json"}),Ze=URL.createObjectURL(Se),Ce=document.createElement("a");Ce.href=Ze,Ce.download=`Fajmuls_History_${oe}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),URL.revokeObjectURL(Ze)},lt=Z=>{const Se=new FileReader;Se.onload=Ze=>{var Ce;try{const nt=(Ce=Ze.target)==null?void 0:Ce.result,Te=JSON.parse(nt);if(!Array.isArray(Te))throw new Error("Format salah");const Le=new Set(be.map(Pe=>Pe.id)),_e=Te.filter(Pe=>!Le.has(Pe.id)),Oe=[...be,..._e].sort((Pe,wt)=>new Date(wt.date).getTime()-new Date(Pe.date).getTime());N(Oe),localStorage.setItem(`fajmuls_history_${oe}`,JSON.stringify(Oe)),Ae(`Berhasil memuat ${_e.length} riwayat baru dari file.`,"success")}catch{Ae("Gagal membaca file. Pastikan file JSON valid.","error")}},Se.readAsText(Z)},pt=Z=>{const Se=new FileReader;Se.onload=Ze=>{var Ce;try{const nt=(Ce=Ze.target)==null?void 0:Ce.result,Te=JSON.parse(nt);if(!Te.questions||!Array.isArray(Te.questions)||!Te.category)throw new Error("Format paket soal tidak valid.");let Le=Te.category,_e=Te.skdStream||null;l!==Le&&a(Le),_(Le==="SKD"&&_e?_e:null),ye(Te.questions),T(Ue.SIMULATION),We([]),t("SESSION"),Ae(`Paket "${Te.title||"Tanpa Judul"}" berhasil dimuat. Kategori: ${Le}`,"success")}catch(nt){console.error(nt),Ae("Gagal memuat paket soal. Pastikan file JSON valid.","error")}},Se.readAsText(Z)},Bt=Z=>{a(Z),Z==="BUTAWRNA"?t("COLORBLIND"):(t("DASHBOARD"),d(null),g(!1),h(""),_(null),H(null),J(null),W(""))},Fi=async Z=>{F(!0);try{const Se=await RC(Z);d({...Z,extractedText:Se}),g(!0)}catch{Ae("Gagal memproses materi. Coba lagi.","error")}finally{F(!1)}},Ct=async(Z,Se)=>{if(!Se.trim()){Ae("Mohon isi judul atau topik.","info");return}F(!0),J(Z);try{const Ze=await MC(Se,Z);W(Ze),t("SESSION")}catch{Ae("Gagal generate konten skripsi.","error")}finally{F(!1)}},Si=async Z=>{if(!r){Ae("Materi hilang. Silakan input ulang.","error");return}F(!0),H(Z),T(Ue.DRILL);try{if(Z==="ACTIVE_RECALL"||Z==="PBL"||Z==="PRACTICE"||Z==="TEACHING"){const Se=await d0(Ue.DRILL,"GENERAL",r,5,[],void 0,Z);ye(Se)}else if(Z==="SPACED_REPETITION"){const Se=await wC(r);O(Se)}else if(Z==="MIND_MAP"){const Se=await kC(r);j(Se)}t("SESSION")}catch{Ae("Gagal memuat materi AI.","error")}finally{F(!1)}},Ji=async(Z,Se,Ze)=>{if(l){if(["UTBK","SKD","TPA","PSIKOTEST","INTERVIEW"].includes(l)&&!y&&Z!==Ue.SIMULATION&&Z!==Ue.WEAKNESS){Ae(`Harap pilih topik/subtes untuk ${l}.`,"info");return}if(l==="SKD"&&!E){Ae("Harap pilih jalur (CPNS / Kedinasan).","info");return}if(Z===Ue.SIMULATION&&["SKD","UTBK","TPA","PSIKOTEST"].includes(l)){let Ce=[];l==="SKD"?Ce=[...tx,...nx]:l==="UTBK"?Ce=lx:l==="TPA"?Ce=ax:l==="PSIKOTEST"&&(Ce=rx),xn(Ce),T(Z),t("TO_SELECTION");return}F(!0),T(Z),We([]),ye([]),Ee(null);try{const Ce=y;if(Z===Ue.DRILL){const nt=await IC(l,Ce,E||void 0);Ee(nt),nt&&nt.question&&ye([nt.question])}else{let nt=Ze||5;l==="PSIKOTEST"&&Z===Ue.SIMULATION&&(nt=40),l==="INTERVIEW"&&(nt=3);const Te=await d0(Z,l,Ce,nt,Array.from(A),E||void 0,void 0,Se);ye(Te||[])}t("SESSION")}catch(Ce){console.error(Ce),Ae("Gagal memuat soal. AI Busy.","error")}finally{F(!1)}}},_s=Z=>{ye(Z.questions),T(Ue.SIMULATION),t("SESSION")},Bl=(Z,Se)=>{if(Se){Xe(Se),t("HOME");return}We(Z);let Ze=0,Ce=0,nt;if(l==="SKD"&&x===Ue.SIMULATION){let Te=0,Le=0,_e=0;Z.forEach(Oe=>{var wt,un,cn,qt,zt,Vt;const Pe=se.find(kt=>kt.id===Oe.questionId);Pe&&((un=(wt=Pe.metadata)==null?void 0:wt.subtest)!=null&&un.includes("TWK")&&(Te+=Oe.scoreEarned),(qt=(cn=Pe.metadata)==null?void 0:cn.subtest)!=null&&qt.includes("TIU")&&(Le+=Oe.scoreEarned),(Vt=(zt=Pe.metadata)==null?void 0:zt.subtest)!=null&&Vt.includes("TKP")&&(_e+=Oe.scoreEarned))}),Ze=Te+Le+_e,Ce=550,nt={twk:Te,tiu:Le,tkp:_e,total:Ze,passed:Te>=65&&Le>=80&&_e>=166}}else if(l==="UTBK"&&x===Ue.SIMULATION){const Te=zt=>{const Vt=se.filter(dn=>{var fn,Ti;return(Ti=(fn=dn.metadata)==null?void 0:fn.subtest)==null?void 0:Ti.includes(zt)});if(!Vt.length)return 0;const kt=Z.filter(dn=>{var fn,Ti,zl;return dn.isCorrect&&((zl=(Ti=(fn=se.find(Vl=>Vl.id===dn.questionId))==null?void 0:fn.metadata)==null?void 0:Ti.subtest)==null?void 0:zl.includes(zt))}).length;return Math.round(200+kt/Vt.length*600)},Le=Te("Penalaran Umum"),_e=Te("PPU"),Oe=Te("PBM"),Pe=Te("Kuantitatif"),wt=Te("Literasi B.Indo"),un=Te("Literasi B.Inggris"),cn=Te("Penalaran Matematika"),qt=Math.round((Le+_e+Oe+Pe+wt+un+cn)/7);Ze=qt,Ce=1e3,nt={pu:Le,ppu:_e,pbm:Oe,pk:Pe,lbi:wt,lbe:un,pm:cn,average:qt}}else if(l==="TPA"&&x===Ue.SIMULATION){let Te=0,Le=0,_e=0,Oe=0;Z.forEach(un=>{var qt,zt,Vt,kt;const cn=se.find(dn=>dn.id===un.questionId);cn&&((zt=(qt=cn.metadata)==null?void 0:qt.subtest)!=null&&zt.includes("TBI")||(kt=(Vt=cn.metadata)==null?void 0:Vt.subtest)!=null&&kt.includes("Inggris")?(Oe++,un.isCorrect&&Le++):(_e++,un.isCorrect&&Te++))});const Pe=Math.round(200+Te/(_e||1)*600),wt=Math.round(Le/(Oe||1)*100);Ze=Pe+wt,Ce=900,nt={tpaScore:Pe,tbiScore:wt,tpaCorrect:Te,tbiCorrect:Le}}else if(l==="INTERVIEW"){const Te=Z.map(Le=>{var _e;return((_e=Le.interviewFeedback)==null?void 0:_e.score)||0});Ze=Math.round(Te.reduce((Le,_e)=>Le+_e,0)/(Te.length||1)),Ce=100}else if(l==="PSIKOTEST"&&x===Ue.SIMULATION){const Te=Z.filter(wt=>wt.isCorrect).length,Le=se.length,_e=Te/Le,Oe=Math.round(70+_e*75);let Pe=Oe>=130?"Very Superior":Oe>=120?"Superior":Oe>=110?"High Average":Oe>=90?"Average":"Low Average";Ze=Oe,Ce=160,nt={iqScore:Oe,classification:Pe}}else if(l==="GENERAL"){const Te=Z.reduce((Le,_e)=>Le+(_e.scoreEarned||0),0);Ze=Math.round(Te/(Z.length||1)),Ce=100}else{const Te=Z.filter(Le=>Le.isCorrect).length;Ze=Math.round(Te/se.length*100),Ce=100}Xe({id:`h-${Date.now()}`,date:new Date().toISOString(),category:l,skdStream:E||void 0,score:Ze,maxScore:Ce,details:nt,questions:se,answers:Z}),t("RESULTS")},bt=()=>{t("HISTORY")},As=Z=>{K(Z),t("REVIEW")};if(i==="LOGIN")return v.jsx(aN,{onLogin:de});if(i==="HOME")return v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col items-center justify-center relative transition-colors duration-300",children:[ne&&v.jsx(ls,{message:ne.msg,type:ne.type,onClose:()=>ve(null)}),v.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-lg border-2 border-white dark:border-slate-700 shadow-sm",children:(ql=oe[0])==null?void 0:ql.toUpperCase()}),v.jsxs("div",{className:"text-left hidden sm:block",children:[v.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:oe}),v.jsxs("button",{onClick:re,className:"text-xs text-rose-500 hover:underline flex items-center gap-1",children:[v.jsx(_1,{size:10})," Keluar"]})]})]}),v.jsxs("div",{className:"absolute top-6 right-6 flex items-center gap-3",children:[v.jsx("button",{onClick:()=>le(!Q),className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 transition",children:Q?v.jsx(vg,{size:18}):v.jsx(gg,{size:18})}),v.jsxs("button",{onClick:bt,className:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 font-bold bg-indigo-50 dark:bg-indigo-900/30 px-4 py-2 rounded-lg transition shadow-sm border border-indigo-100 dark:border-indigo-800",children:[v.jsx(hg,{size:18,className:"mr-2"})," Riwayat"]})]}),v.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Fajmuls Learning"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 text-center max-w-md",children:"Sistem belajar cerdas berbasis data. Pilih jalur belajarmu."}),v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-6xl",children:x0.map(Z=>v.jsxs("button",{onClick:()=>Bt(Z.id),className:"bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all group text-left flex flex-col items-start",children:[v.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-slate-700 rounded-lg flex items-center justify-center mb-6 group-hover:bg-indigo-600 transition-colors",children:Z.id==="GENERAL"?v.jsx(ps,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="SKD"?v.jsx(KC,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="INTERVIEW"?v.jsx(Ec,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="BUTAWRNA"?v.jsx(w1,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="PSIKOTEST"?v.jsx(kl,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):Z.id==="SKRIPSI"?v.jsx(Sc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"}):v.jsx(Tc,{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:Z.name}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:Z.desc})]},Z.id))})]});if(i==="COLORBLIND")return v.jsx(rN,{onBack:()=>t("HOME"),onComplete:Z=>Bl([],Z)});if(i==="DASHBOARD")return v.jsx(xN,{category:l,onBack:()=>t("HOME"),onStartSession:Ji,onGeneralInputSubmit:Fi,generalInput:r,setGeneralInput:d,isReadingMaterial:m,onResetMaterial:()=>{g(!1),d(null)},onSubtestSelect:h,selectedSubtest:y,weakTopicsCount:A.size,loading:L,skdStream:E,onSkdStreamSelect:_,onHistory:bt,onStartGeneralSession:Si,onStartSkripsiSession:Ct,username:oe,isDarkMode:Q,onToggleDarkMode:()=>le(!Q)});if(i==="TO_SELECTION")return v.jsxs(v.Fragment,{children:[ne&&v.jsx(ls,{message:ne.msg,type:ne.type,onClose:()=>ve(null)}),v.jsx(cN,{category:l,skdStream:E||void 0,availablePackages:je,history:be,onSelectPackage:_s,onGenerateNew:Z=>Ae(`Fitur generate dengan token ${Z} belum tersedia`,"info"),onImportPackage:pt,onBack:()=>t("DASHBOARD"),showToast:Ae})]});if(i==="SESSION"){const Z=v.jsxs(v.Fragment,{children:[ne&&v.jsx(ls,{message:ne.msg,type:ne.type,onClose:()=>ve(null)}),v.jsx(uN,{mode:x,questions:se,drillContent:Ve,onComplete:Bl,isSkdSimulation:x===Ue.SIMULATION&&l==="SKD",isUtbkSimulation:x===Ue.SIMULATION&&l==="UTBK",category:l,showToast:Ae})]});if(l==="SKRIPSI")return v.jsx(pN,{result:ue,feature:X,onBack:()=>t("DASHBOARD")});if(l==="INTERVIEW")return v.jsx(hN,{questions:se,onComplete:Bl});if(l==="GENERAL"){if(M==="SPACED_REPETITION")return v.jsx(gN,{flashcards:$,onFinish:()=>t("DASHBOARD")});if(M==="MIND_MAP")return v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 p-6 flex flex-col transition-colors duration-300",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:()=>t("DASHBOARD"),className:"flex items-center text-slate-500 dark:text-slate-400",children:[v.jsx(xi,{size:18})," Kembali"]}),v.jsx("h2",{className:"font-bold text-slate-800 dark:text-white",children:"Mind Mapping"})]}),v.jsx(nN,{data:z})]});if(M==="FEYNMAN")return v.jsx(yN,{topic:(r==null?void 0:r.content)||"",onFinish:()=>t("DASHBOARD")});if(M==="SQ3R")return v.jsx(vN,{topic:(r==null?void 0:r.content)||"",onFinish:()=>t("DASHBOARD")})}return Z}return i==="RESULTS"?v.jsx(fN,{answers:Ge,questions:se,onHome:()=>t("HOME"),onRetry:()=>Ji(x),category:l}):i==="HISTORY"?v.jsxs(v.Fragment,{children:[ne&&v.jsx(ls,{message:ne.msg,type:ne.type,onClose:()=>ve(null)}),v.jsx(mN,{history:be,onBack:()=>t("HOME"),onReview:As,username:oe,onExport:we,onImport:lt,isDarkMode:Q})]}):i==="REVIEW"?v.jsx(dN,{item:P,onBack:()=>t("HISTORY")}):null},bg=document.getElementById("root");if(!bg)throw new Error("Could not find root element to mount to");const TN=Kv.createRoot(bg);TN.render(v.jsx(v0.StrictMode,{children:v.jsx(SN,{})}));
